webpackJsonp([1],{"+cgv":function(e,t){},"+r03":function(e,t){},"+z0s":function(e,t){},"/GWv":function(e,t){},"/nFZ":function(e,t){},"/oIa":function(e,t){},"/qfz":function(e,t){},0:function(e,t){},"0kpO":function(e,t){},"0n8a":function(e,t){},1:function(e,t){},2:function(e,t){},"2NtE":function(e,t){},"2jjM":function(e,t){},"2xXA":function(e,t){},"3f40":function(e,t){},"3qNO":function(e,t){},"45j2":function(e,t){},"4CdW":function(e,t){},"4DpD":function(e,t){},"4e/n":function(e,t){},"4qOc":function(e,t){},"54HZ":function(e,t){},"5HmG":function(e,t){},"6FE0":function(e,t){},"7FUK":function(e,t){},"7sAy":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADCElEQVRYR8VX21HcQBCcWQUAjoDj3y6LVQCGCIAIDBngCIwjAEcAROAjAs729w4iAkMGEMDuuEY1e7W602N1UIX+Tidpenoe3Yvwzhe+c3yYBKAsy9IYc4iI+wCwDQClJlADwDMzL0IIt3Vdy++sKwtAVVVHzHyBiLOcrzLzIyJ+c87Nx54fBFCW5awoiisAkIyBmZ8AYI6IC+/9Y8xUmCmKYsbM8twRIu5oYHnutK7rxz4gvQCU7jtEFKpfmPmMiK7HMpL/rbUniHgJAFvM/BxCOOgrSycAzeheg91670/qun7OCR6fKctyuygKAXwo97z3e10g1gAI7caYe838xjl3MiXw6rNVVQmIr8qEgGiVYw2AtXaBiF8A4NY5d/Sa4PHdqqqkGYWJhXPuIP1mC4B0OwD8kpp772d9tCvILe+91Ha0NFoOyXwLAI7T6WgBsNbK+Oww8+lQwyUs1bkgtDGvZESJaDeysAQQG09GjYgG510yMsZIqT4DwBQQTYJpQy4BWGvPEfE7M/8korOx2m8CImnIH0R0LjFSALH5WjUaAjIVROwxZv5NRM1ySwHUQmnfvPYBmQIi2S+1c26vBaCqKpYbzrksfUgBKYi/APBRRImIPvQBXo2zDPYGAP4g4idmfiEiWd+dVy8Aa+3GJSiK4k6kmZkfQgj7fbshmbQHImqk/NVNmBtcgo014eQxnBJcAURdWB/DhJ7WpuoqpK7WLNrT9+Om7VxEquOTVvFYzVeCi0eQVdzatJ1ipNK5OyRG4gmHGq5jTP+pxPeLkbIQN+LcOXc8tpJz/o9ynG7ANTGKN9QHiqsVO3VNRKc5QQbmvmk8lfhy1JDIh1Ys2VyN5ajur9KuhrYxNdmWLGFCnO4iGktEPHPO3eSwIdoPAGLjG0PrvZfl1HlWGLXlxphrtWhiy8XVzEMIAuwpteUAsGOMkWz34/lBah5CEEM73ZanmerB5DLx+4NEyKgpY687mKxG0bNCk6WMoToiYeZBVFBMZwhh/uZHs5y6b/rMZO3fNFDfe/8Bafw2P536FZ4AAAAASUVORK5CYII="},"9R9n":function(e,t){},"9hcw":function(e,t){},A7od:function(e,t){},Arqr:function(e,t){},BzeE:function(e,t){},D2KZ:function(e,t){},D2fC:function(e,t){},"E+WR":function(e,t){},GxIS:function(e,t){},HHni:function(e,t){},I1ma:function(e,t){},IkI1:function(e,t){},In4V:function(e,t){},IrbW:function(e,t){},J0Hh:function(e,t){},JXM4:function(e,t){},Jp0J:function(e,t){},LQ8X:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var s,r=a("VU/8")({name:"app",data:function(){return{}},components:{}},o,!1,function(e){a("q6Jd")},null,null).exports,l=a("zL8q"),n=a.n(l),d=(a("tvR6"),a("/ocq")),c=a("bOdI"),m=a.n(c),u=a("//Fk"),p=a.n(u),g=a("mtWM"),f=a.n(g);a("mw3O");function _(e){var t=e.method,a=e.url,i=e.params;return"GET"==t?function(e,t){return new p.a(function(a,i){f.a.get(e,{params:t}).then(function(e){a(e.data)}).catch(function(e){i(e)})})}(a,i):"POST"==t?function(e,t){return new p.a(function(a,i){f.a.post(e,t).then(function(e){a(e)}).catch(function(e){i(e)})})}(a,i):void 0}console.log("https://www.iduotel.com/"),f.a.defaults.baseURL="https://www.iduotel.com/",f.a.defaults.timeout=1e4,f.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",f.a.defaults.withCredentials=!0,f.a.interceptors.request.use(f.a.interceptors.response.use(function(e){return 200===e.status?-15===e.data.code?(sessionStorage.removeItem("user"),sessionStorage.removeItem("userCon"),!1):p.a.resolve(e):p.a.reject(e)},function(e){return p.a.reject(e.response)}));var h="https://www.iduotel.com/",v=(s={requestLogin:function(e){return _({method:"POST",url:"boss/login/user_login",params:e})},userList:function(e){return _({method:"POST",url:"boss_api/auth/user_list",params:e})},GetJobNumber:function(e){return _({method:"GET",url:"boss_api/auth/get_new_user_info",params:e})},CheckWorkId:function(e){return _({method:"GET",url:"boss_api/auth/check_work_id",params:e})},UserAdd:function(e){return _({method:"POST",url:"boss_api/auth/user_add",params:e})},ChangeUserStatus:function(e){return _({method:"POST",url:"boss_api/auth/user_status",params:e})},GetUserInfo:function(e){return _({method:"POST",url:"boss_api/auth/user_info",params:e})},UserInfoEdit:function(e){return _({method:"POST",url:"boss_api/auth/user_edit",params:e})},ResetPwd:function(e){return _({method:"POST",url:"boss_api/auth/reset_pwd",params:e})},useRetrievePwd:function(e){return _({method:"POST",url:"boss_api/auth/user_retrieve_pwd",params:e})},GetRoleGroupList:function(e){return _({method:"POST",url:"boss_api/auth/role_list",params:e})},RoleGroupAdd:function(e){return _({method:"POST",url:"boss_api/auth/role_add",params:e})},messageTplList:function(e){return _({method:"GET",url:"boss_api/messagetpl/message_tpl_list",params:e})},meTplEdit:function(e){return _({method:"POST",url:"boss_api/messagetpl/message_tpl_edit",params:e})},messageTplAdd:function(e){return _({method:"POST",url:"boss_api/messagetpl/message_tpl_add",params:e})},messageTplDel:function(e){return _({method:"POST",url:"boss_api/messagetpl/message_tpl_del",params:e})},CategoryGetTree:function(e){return _({method:"POST",url:"boss_api/website/category_get_tree",params:e})},cubeList:function(e){return _({method:"GET",url:"boss_api/cube/cube_list",params:e})},authList:function(e){return _({method:"GET",url:"boss_api/auth/auth_audit_list",params:e})},authAudit:function(e){return _({method:"POST",url:"boss_api/auth/auth_audit",params:e})},authrejection:function(e){return _({method:"POST",url:"boss_api/auth/auth_audit",params:e})},iduotelEdit:function(e){return _({method:"POST",url:"boss_api/auth/iduotel_edit",params:e})},authreParticulars:function(e){return _({method:"GET",url:"boss_api/auth/auth_audit_detail",params:e})},delauthreList:function(e){return _({method:"POST",url:"boss_api/auth/iduotel_del",params:e})},configproblemList:function(e){return _({method:"GET",url:"boss_api/problem/problem_list",params:e})},configproblemEdit:function(e){return _({method:"POST",url:"boss_api/problem/problem_edit",params:e})},configproblemAdd:function(e){return _({method:"POST",url:"boss_api/problem/problem_add",params:e})},configmessageList:function(e){return _({method:"GET",url:"boss_api/message/message_List",params:e})},configmessageAdd:function(e){return _({method:"POST",url:"boss_api/message/message_add",params:e})},configmessageEdit:function(e){return _({method:"POST",url:"boss_api/message/message_edit",params:e})},GoodsTypeList:function(e){return _({method:"GET",url:"boss_api/goods/goods_type_list",params:e})},goodsTypeList:function(e){return _({method:"GET",url:"boss_api/goods/goods_type",params:e})},websiteList:function(e){return _({method:"POST",url:"boss_api/website/category_get_tree",params:e})},webactivityadd:function(e){return _({method:"POST",url:"boss_api/website/activity_add",params:e})},webactivitystatus:function(e){return _({method:"POST",url:"boss_api/website/activity_status",params:e})},websearchCategory:function(e){return _({method:"GET",url:"boss_api/website/searchCategory(searchArticle)",params:e})},webactivityedit:function(e){return _({method:"POST",url:"boss_api/website/activity_edit",params:e})},webarticlerelease:function(e){return _({method:"POST",url:"boss_api/website/article_release",params:e})},webgetcommonsdata:function(e){return _({method:"GET",url:"boss_api/commons/get_commons_data",params:e})},addCommonsData:function(e){return _({method:"POST",url:"boss_api/commons/add_commons_data",params:e})},delCommonsData:function(e){return _({method:"POST",url:"boss_api/commons/del_commons_data",params:e})},editCommonsData:function(e){return _({method:"POST",url:"boss_api/commons/edit_commons_data",params:e})},editcategory:function(e){return _({method:"POST",url:"boss_api/website/category_edit",params:e})},addcategory:function(e){return _({method:"POST",url:"boss_api/website/category_add",params:e})},articleInfo:function(e){return _({method:"POST",url:"boss_api/website/article_info",params:e})},articleList:function(e){return _({method:"POST",url:"boss_api/website/get_article_list",params:e})},GoodsList:function(e){return _({method:"GET",url:"boss_api/goods/goods_list",params:e})},GoodsRacks:function(e){return _({method:"POST",url:"boss_api/goods/update_sale",params:e})},GetGoodsType:function(e){return _({method:"GET",url:"boss_api/goods/get_goods_type",params:e})},GetPermission:function(e){return _({method:"POST",url:"boss_api/auth/permission_list",params:e})},addarticle:function(e){return _({method:"POST",url:"boss_api/website/article_add",params:e})},editarticle:function(e){return _({method:"POST",url:"boss_api/website/article_edit",params:e})},webactivities:function(e){return _({method:"GET",url:"boss_api/website/activity_list",params:e})},delcategory:function(e){return _({method:"POST",url:"boss_api/website/category_del",params:e})},delarticle:function(e){return _({method:"POST",url:"boss_api/website/article_del",params:e})},webactivitydel:function(e){return _({method:"POST",url:"boss_api/website/activity_del",params:e})},GetSpec:function(e){return _({method:"GET",url:"boss_api/goods/get_spec_by_goods_type",params:e})},GoodsAdd:function(e){return _({method:"POST",url:"/boss_api/goods/goods_add",params:e})},GoodsEdit:function(e){return _({method:"POST",url:"boss_api/goods/goods_edit",params:e})},GoodsDetail:function(e){return _({method:"GET",url:"boss_api/goods/goods_detail",params:e})},GoodsDel:function(e){return _({method:"POST",url:"boss_api/goods/goods_del",params:e})},projectAdd:function(e){return _({method:"POST",url:"boss_api/project/project_add",params:e})},projectOrderDel:function(e){return _({method:"POST",url:"boss_api/project/project_del",params:e})},getSupplier:function(e){return _({method:"GET",url:"boss_api/goods/get_supplier",params:e})},addProjectDrawings:function(e){return _({method:"POST",url:"boss_api/project/add_project_drawings",params:e})},editProjectDrawings:function(e){return _({method:"POST",url:"boss_api/project/edit_project_drawings",params:e})},delProjectDrawings:function(e){return _({method:"POST",url:"boss_api/project/del_project_drawings",params:e})},projectBrandList:function(e){return _({method:"GET",url:"boss_api/project/project_brand_list",params:e})},getProjectBrand:function(e){return _({method:"GET",url:"boss_api/project/get_project_brand",params:e})},projectBrandTree:function(e){return _({method:"GET",url:"boss_api/project/project_brand_tree",params:e})},addProjectBrand:function(e){return _({method:"POST",url:"boss_api/project/add_project_brand",params:e})},editProjectBrand:function(e){return _({method:"POST",url:"boss_api/project/edit_project_brand",params:e})},delProjectBrand:function(e){return _({method:"POST",url:"boss_api/project/del_project_brand",params:e})},projecteEdit:function(e){return _({method:"POST",url:"boss_api/project/project_edit",params:e})},getBindCubeNum:function(e){return _({method:"GET",url:"boss_api/project/get_bind_cube_num",params:e})},getProjectManager:function(e){return _({method:"GET",url:"boss_api/project/get_project_manager",params:e})},getCompleteMoney:function(e){return _({method:"GET",url:"boss_api/project/get_complete_money",params:e})},orderList:function(e){return _({method:"GET",url:"/boss_api/order/order_list",params:e})},orderDetai:function(e){return _({method:"GET",url:"/boss_api/order/order_detail",params:e})},orderStocking:function(e){return _({method:"POST",url:"/boss_api/order/order_stocking",params:e})},confirmDelivery:function(e){return _({method:"POST",url:"/boss_api/order/confirm_the_delivery",params:e})},uploadImg:function(e){return _({method:"POST",url:"boss_api/website/upload",params:e})},goodsTypeAdd:function(e){return _({method:"POST",url:"boss_api/goods/goods_type_add",params:e})},goodsTypeEdit:function(e){return _({method:"POST",url:"boss_api/goods/goods_type_edit",params:e})},goodsTypeDel:function(e){return _({method:"POST",url:"boss_api/goods/goods_type_del",params:e})},specList:function(e){return _({method:"GET",url:"boss_api/goods/spec_list",params:e})},specAdd:function(e){return _({method:"POST",url:"boss_api/goods/spec_add",params:e})},specEdit:function(e){return _({method:"POST",url:"boss_api/goods/spec_edit",params:e})},getLanguagePage:function(e){return _({method:"GET",url:"boss_api/commons/iduotel_language_page",params:e})},getLanguageList:function(e){return _({method:"GET",url:"boss_api/commons/iduotel_language_list",params:e})},LanguageAdd:function(e){return _({method:"POST",url:"boss_api/commons/iduotel_language_add",params:e})},LanguageEdit:function(e){return _({method:"POST",url:"boss_api/commons/iduotel_language_edit",params:e})},copyList:function(e){return _({method:"GET",url:"boss_api/copy/copy_list",params:e})},createCopy:function(e){return _({method:"POST",url:"boss_api/copy/create_copy",params:e})},copyEdit:function(e){return _({method:"POST",url:"boss_api/copy/copy_edit",params:e})},projectList:function(e){return _({method:"GET",url:"boss_api/project/project_list",params:e})},deleOldImgApi:function(e){return _({method:"POST",url:"boss_api/qiniu/delete",params:e})},tarUrl:function(){return h+"boss_api/website/upload"},projectUpload:function(){return h+"/boss_api/project/upload"},deleOldImg:function(e){var t={filename:e};this.deleOldImgApi(t).then(function(e){1===e.data.code?console.log("已删除"):console.log("未删除")}).catch(function(e){console.log("删除出错")})},allLightAppList:function(e){return _({method:"GET",url:"boss_api/lightapp/list",params:e})},lightAppAudit:function(e){return _({method:"POST",url:"/boss_api/lightapp/verify",params:e})},lightAppAuditReject:function(e){return _({method:"POST",url:"/boss_api/lightapp/verify",params:e})},deleteLightApp:function(e){return _({method:"POST",url:"/boss_api/lightapp/delete",params:e})},lightAppType:function(e){return _({method:"GET",url:"/boss_api/lightapp/app_type_list",params:e})},addLightApp:function(e){return _({method:"POST",url:"/boss_api/lightapp/add",params:e})},lightAppDetail:function(e){return _({method:"POST",url:"/boss_api/lightapp/info",params:e})},editorLightApp:function(e){return _({method:"POST",url:"/boss_api/lightapp/edit",params:e})}},m()(s,"projectList",function(e){return _({method:"GET",url:"/boss_api/project/project_list",params:e})}),m()(s,"projectDetails",function(e){return _({method:"GET",url:"/boss_api/project/project_detail",params:e})}),m()(s,"projectEdit",function(e){return _({method:"POST",url:"/boss_api/project/project_edit",params:e})}),m()(s,"projectDrawing",function(e){return _({method:"GET",url:"/boss_api/project/project_drawings_list",params:e})}),m()(s,"delDrawing",function(e){return _({method:"POST",url:"/boss_api/project/del_project_drawings",params:e})}),m()(s,"editDrawing",function(e){return _({method:"POST",url:"/boss_api/project/edit_project_drawings",params:e})}),m()(s,"projectOrder",function(e){return _({method:"GET",url:"/boss_api/project/project_order_list",params:e})}),m()(s,"addprojectOrder",function(e){return _({method:"POST",url:"/boss_api/project/add_order",params:e})}),m()(s,"delprojectOrder",function(e){return _({method:"POST",url:"/boss_api/project/project_order_del",params:e})}),m()(s,"logisticInfo",function(e){return _({method:"GET",url:"/boss_api/order/logistic_info",params:e})}),m()(s,"shipperCode",function(e){return _({method:"GET",url:"/boss_api/order/shipper_code",params:e})}),m()(s,"orderDelivery",function(e){return _({method:"POST",url:"/boss_api/order/order_delivery",params:e})}),m()(s,"panelList",function(e){return _({method:"GET",url:"/boss_api/control_panel/list",params:e})}),m()(s,"pannelDelete",function(e){return _({method:"POST",url:"/boss_api/control_panel/delete",params:e})}),m()(s,"pannelEdit",function(e){return _({method:"POST",url:"/boss_api/control_panel/edit",params:e})}),m()(s,"pannelAdd",function(e){return _({method:"POST",url:"/boss_api/control_panel/add",params:e})}),m()(s,"projectList",function(e){return _({method:"GET",url:"/boss_api/project/project_list",params:e})}),m()(s,"projectDetails",function(e){return _({method:"GET",url:"/boss_api/project/project_detail",params:e})}),m()(s,"projectEdit",function(e){return _({method:"POST",url:"/boss_api/project/project_edit",params:e})}),m()(s,"projectDrawing",function(e){return _({method:"GET",url:"/boss_api/project/project_drawings_list",params:e})}),m()(s,"delDrawing",function(e){return _({method:"POST",url:"/boss_api/project/del_project_drawings",params:e})}),m()(s,"editDrawing",function(e){return _({method:"POST",url:"/boss_api/project/edit_project_drawings",params:e})}),m()(s,"projectOrder",function(e){return _({method:"GET",url:"/boss_api/project/project_order_list",params:e})}),m()(s,"addprojectOrder",function(e){return _({method:"POST",url:"/boss_api/project/add_order",params:e})}),m()(s,"delprojectOrder",function(e){return _({method:"POST",url:"/boss_api/project/project_order_del",params:e})}),m()(s,"customerService",function(e){return _({method:"GET",url:"/boss_api/project/customer_service",params:e})}),m()(s,"supplierList",function(e){return _({method:"GET",url:"/boss_api/goods/get_supplier",params:e})}),m()(s,"addSuppliers",function(e){return _({method:"POST",url:"/boss_api/goods/supplier_add",params:e})}),m()(s,"editSuppliers",function(e){return _({method:"POST",url:"/boss_api/goods/supplier_edit",params:e})}),m()(s,"delSuppliers",function(e){return _({method:"POST",url:"/boss_api/goods/supplier_del",params:e})}),m()(s,"ordernoList",function(e){return _({method:"GET",url:"/boss_api/inbound_order/get_order_no",params:e})}),m()(s,"agentList",function(e){return _({method:"GET",url:"/boss_api/inbound_order/get_staff",params:e})}),m()(s,"getlogistics",function(e){return _({method:"GET",url:"/boss_api/inbound_order/get_logistics_by_order_on",params:e})}),m()(s,"addWare",function(e){return _({method:"POST",url:"/boss_api/inbound_order/inbound_order_add",params:e})}),m()(s,"departmentList",function(e){return _({method:"GET",url:"/boss_api/payment_request/department_list",params:e})}),m()(s,"paymentTypeList",function(e){return _({method:"GET",url:"/boss_api/payment_request/payment_type_list",params:e})}),m()(s,"paymentrequestList",function(e){return _({method:"GET",url:"/boss_api/payment_request/payment_request_list",params:e})}),m()(s,"suppliergoodsList",function(e){return _({method:"GET",url:"/boss_api/goods/get_goods_by_supplier",params:e})}),m()(s,"addApprolierList",function(e){return _({method:"POST",url:"/boss_api/payment_request/payment_request_add",params:e})}),m()(s,"approlierDetail",function(e){return _({method:"POST",url:"/boss_api/payment_request/payment_request_info",params:e})}),s),b={data:function(){return{logining:!1,ruleForm2:{account:"",checkPass:""},rules2:{},checked:!0}},methods:{handleSubmit1:function(e){13==e.keyCode&&this.handleSubmit2()},handleSubmit2:function(e){var t=this,a=this;this.$refs.ruleForm2.validate(function(e){if(!e)return!1;t.logining=!0;var i={account_id:t.ruleForm2.account,password:t.ruleForm2.checkPass};return""==i.account_id?(t.$message.error("请输入账号"),!1):""==i.password?(t.$message.error("请输入密码"),!1):void v.requestLogin(i).then(function(e){200===e.status&&(1===e.data.code?(a.$store.state.userInfo=e.data.data,t.$store.state.leftNavLevel.length=0,sessionStorage.setItem("userCon",e.data.data),sessionStorage.setItem("user",e.data.data.id),a.$router.replace("/home")):-7===e.data.code&&t.$message({message:e.data.msg,type:"error"}))}).catch(function(e){})})}}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"vBox"}},[i("div",{staticClass:"loginBox"},[i("p",{staticClass:"wecText"},[e._v("Duotel BOSS")]),e._v(" "),i("div",{staticClass:"inputBox"},[i("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[i("el-form-item",{staticClass:"inputItem",attrs:{prop:"account"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm2.account,expression:"ruleForm2.account"}],attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户名"},domProps:{value:e.ruleForm2.account},on:{input:function(t){t.target.composing||e.$set(e.ruleForm2,"account",t.target.value)}}})]),e._v(" "),i("el-form-item",{staticClass:"inputItem psd",attrs:{prop:"checkPass"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm2.checkPass,expression:"ruleForm2.checkPass"}],attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},domProps:{value:e.ruleForm2.checkPass},on:{keyup:e.handleSubmit1,input:function(t){t.target.composing||e.$set(e.ruleForm2,"checkPass",t.target.value)}}}),e._v(" "),i("div",{staticClass:"login-icon",on:{click:e.handleSubmit2}},[i("img",{attrs:{src:a("7sAy"),alt:""}})])])],1)],1)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"am-cf ba-foot"},[t("div",{staticClass:"am-cf ba-foot-box"},[t("img",{attrs:{src:a("XNTI"),height:"18"}}),this._v(" 京公网安备 11010502037450号 京ICP备18031731号-2\n        |  \n      Copyright © 2017-2019 Duotel Inc. 保留所有权利。\n    ")])])}]};var k=a("VU/8")(b,y,!1,function(e){a("54HZ")},"data-v-0d417df0",null).exports,w={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]};var F=a("VU/8")(null,w,!1,function(e){a("2NtE")},"data-v-1f230ada",null).exports,L=a("mvHQ"),x=a.n(L),$=a("woOf"),C=a.n($),S=a("OoR7"),z={data:function(){var e=this;return{dialogVisible:!1,defaultActiveIndex:"/",activeIndex:"1",sysName:"Duotel BOSS",collapsed:!1,sysUserName:"",sysUserAvatar:S,users:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},openeds:[],levelList:null,id:"",Password:{primitive:"",new:"",confirmation:""},PasswordsRules:{primitive:[{required:!0,message:"请输入原始密码",trigger:"change"}],new:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请输入新的密码")):a===e.Password.primitive?i(new Error("请勿输入与原密码相同")):i()},trigger:"blur"},{min:8,max:20,message:"长度在 8 到 20 个字符",trigger:"blur"}],confirmation:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请重新输入密码")):a!==e.Password.new?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"},{min:8,max:20,message:"长度在 8 到 20 个字符",trigger:"blur"}]}}},beforeCreate:function(){},created:function(){var e=this;this.fetchNavData(),this.openeds=this.$store.state.leftNavLevel,sessionStorage.getItem("userMsg")&&this.$store.replaceState(C()(this.$store.state,JSON.parse(sessionStorage.getItem("userMsg")))),window.addEventListener("beforeunload",function(){sessionStorage.setItem("userMsg",x()(e.$store.state))});var t=this.$store.state.userInfo;this.users=t.work_id+" "+t.username,this.sysUserName=t.username,this.id=t.id},methods:{handleSelect:function(e,t){this.$store.state.defaultActiveIndex=e},getBreadcrumb:function(){var e=this.$route.matched.filter(function(e){return e.name}),t=e[0];t&&"首页"!==t.name&&(e=[{path:"/home",meta:{title:"首页"}}].concat(e)),this.levelList=e},fetchNavData:function(){var e=this.$route.path,t=this.$router.options.routes,a=this.$store.state.leftNavState,i=this.$store.state.leftNavLevel;i.length=0;for(var o=0;o<t.length;o++){var s=t[o].children;if(s)for(var r=0;r<s.length;r++){var l=s[r].children;if(l)for(var n=0;n<l.length;n++){var d=l[n].children;if(d)for(var c=0;c<d.length;c++)d[c].path===e&&(a=t[o].name,i=d[c].levelArr);else if(l[n].path===e){a=t[o].name,i.push(String(l[n].plevel));break}}}}this.$store.state.leftNavLevel=i,this.$store.state.leftNavState=a},password:function(){this.dialogVisible=!0,this.$refs.Password.clearValidate()},cancel:function(e){this.dialogVisible=!1,this.$refs[e].resetFields()},ChangePassword:function(e){var t=this;this.$refs.Password.validate(function(a){var i={id:t.id,password:t.Password.new};v.useRetrievePwd(i).then(function(a){1===a.data.code?(t.dialogVisible=!1,t.$router.push({path:"/login"}),t.$refs[e].resetFields()):-2===a.code&&t.$message({message:a.msg,type:"error"})})})},onSubmit:function(){},jumpTo:function(e){this.$router.push(e)},handleopen:function(){},handleclose:function(){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("userCon"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick(function(){return e.isRouterAlive=!0})}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||""),this.getBreadcrumb()},watch:{$route:function(e,t){this.fetchNavData(),this.getBreadcrumb()}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:3}},[e._v(e._s(e.collapsed?"":e.sysName))]),e._v(" "),a("el-col",{staticStyle:{width:"auto"},attrs:{span:2}},[a("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[a("i",{class:e.collapsed?"el-icon-s-unfold":"el-icon-s-fold"})])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[e._l(e.levelList,function(t){return[t.meta.title?a("el-breadcrumb-item",{key:t.item},[e._v(e._s(t.meta.title))]):e._e()]})],2)],1),e._v(" "),a("el-col",{staticClass:"userinfo",staticStyle:{float:"right"},attrs:{span:2}},[a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("img",{attrs:{src:e.sysUserAvatar}})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{disabled:""}},[e._v("我的消息")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){return e.password(t)}}},[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:""}},[e._v("设置")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1),e._v(" "),a("el-col",{staticClass:"userInfo",attrs:{span:3}},[a("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.users))])])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogVisible,width:"30%","show-close":!0,height:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"Password",attrs:{rules:e.PasswordsRules,model:e.Password,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"原始密码",prop:"primitive"}},[a("el-input",{attrs:{placeholder:"请输入原始密码"},model:{value:e.Password.primitive,callback:function(t){e.$set(e.Password,"primitive",t)},expression:"Password.primitive"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新的密码",prop:"new"}},[a("el-input",{attrs:{placeholder:"请输入新的密码"},model:{value:e.Password.new,callback:function(t){e.$set(e.Password,"new",t)},expression:"Password.new"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmation"}},[a("el-input",{attrs:{placeholder:"请重新输入密码"},model:{value:e.Password.confirmation,callback:function(t){e.$set(e.Password,"confirmation",t)},expression:"Password.confirmation"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancel("Password")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.ChangePassword("Password")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[a("div",{staticClass:"leftnavBox"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","background-color":"#001529","default-openeds":e.openeds,"text-color":"#fff","active-text-color":"#fff",collapse:e.collapsed,"collapse-transition":!1,"unique-opened":""},on:{open:e.handleopen,close:e.handleclose,select:e.handleSelect}},[e._l(e.$router.options.routes,function(t,i){return[t.name===e.$store.state.leftNavState?[e._l(t.children,function(t,i){return[t.leaf?t.leaf?a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"item.menuShow"}],key:i,class:e.$route.path==t.path?"is-active2":"",attrs:{index:t.path}},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e():a("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"item.menuShow"}],key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t,o){return[t.levelThree?[a("el-submenu",{key:o,staticStyle:{"margin-left":"16px"},attrs:{index:i+"-"+o}},[a("template",{slot:"title"},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return[t.menuShow?a("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active2":"",attrs:{index:t.path}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()]})],2)]:e._e(),e._v(" "),t.menuShow&&!t.levelThree?[a("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active2":"",staticStyle:{"margin-left":"16px"},attrs:{index:t.path}},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])]:e._e()]})],2)]})]:e._e()]})],2)],1)]),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{attrs:{name:"content"}})],1)],1)],1)])])],1)},staticRenderFns:[]};var U=a("VU/8")(z,q,!1,function(e){a("rt2o"),a("HHni")},"data-v-2368a874",null).exports,T={data:function(){return{filters:{name:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{id:0,name:"",sex:-1,age:0,birth:"",addr:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},addForm:{name:"",sex:-1,age:0,birth:"",addr:""}}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getUsers()},getUsers:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,getUserListPage(t).then(function(t){e.total=t.data.total,e.users=t.data.users,e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};removeUser(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getUsers()})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=C()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",sex:-1,age:0,birth:"",addr:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=C()({},e.editForm);t.birth=t.birth&&""!=t.birth?util.formatDate.format(new Date(t.birth),"yyyy-MM-dd"):"",editUser(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getUsers()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=C()({},e.addForm);t.birth=t.birth&&""!=t.birth?util.formatDate.format(new Date(t.birth),"yyyy-MM-dd"):"",addUser(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getUsers()})})})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,batchRemoveUser({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getUsers()})}).catch(function(){})}},mounted:function(){this.getUsers()}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getUsers}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100",formatter:e.formatSex,sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"birth",label:"生日",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"地址","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input-number",{attrs:{min:0,max:200},model:{value:e.editForm.age,callback:function(t){e.$set(e.editForm,"age",t)},expression:"editForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.addr,callback:function(t){e.$set(e.editForm,"addr",t)},expression:"editForm.addr"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input-number",{attrs:{min:0,max:200},model:{value:e.addForm.age,callback:function(t){e.$set(e.addForm,"age",t)},expression:"addForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addForm.birth,callback:function(t){e.$set(e.addForm,"birth",t)},expression:"addForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.addr,callback:function(t){e.$set(e.addForm,"addr",t)},expression:"addForm.addr"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(T,D,!1,function(e){a("+r03")},null,null).exports;var j={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]},E=a("VU/8")(null,j,!1,null,null,null).exports,V={data:function(){return{total:0,page:1,dataLidt:[],listLoading:!1,pageSize:10,search:{name:""},value1:"",dialogParticularsa:!1,time1:"",time2:"",activityType:!1,checkList:"",Paymentstatus:[{id:"0",value:"0",name:"未支付"},{id:"1",value:"1",name:"已支付"}],Paymentmethod:[{id:"1",value:"wechat",name:"微信"},{id:"2",value:"aliPay",name:"支付宝"},{id:"3",value:"unionPay ",name:"银联"},{id:"4",value:"offline",name:"线下"}],Logisticsstatus:[{id:"1",value:"1",name:"未发货"},{id:"2",value:"2",name:"备货中"},{id:"3",value:"3",name:"运输中"},{id:"4",value:"4",name:"已签收"}],checked1:[],checked2:[],checked3:[],confirmation:!0,Shipped:!1}},created:function(){this.orderList()},methods:{orderList:function(){var e=this,t={page:this.page,per_page:this.pageSize,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.orderList(t).then(function(t){1===t.code?(e.dataLidt=t.data.data,e.listLoading=!1):-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},chooseTimeRange:function(e){null!=e?(this.time1=Math.round(e[0].getTime()/1e3),this.time2=Math.round(e[1].getTime()/1e3),this.orderList()):(this.time1="",this.time2="",this.orderList())},Advanced:function(){0==this.activityType?this.activityType=!0:this.activityType=!1},handleCheckedCitiesChange1:function(){var e=this,t={page:this.page,per_page:this.pageSize,is_pay:this.checked1,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.orderList(t).then(function(t){1===t.code?(e.dataLidt=t.data.data,e.listLoading=!1):-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},handleCheckedCitiesChange2:function(){var e=this,t={page:this.page,per_page:this.pageSize,pay_from:this.checked2,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.orderList(t).then(function(t){1===t.code?(e.dataLidt=t.data.data,e.listLoading=!1):-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},handleCheckedCitiesChange3:function(){var e=this,t={page:this.page,per_page:this.pageSize,logistic_status:this.checked3,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.orderList(t).then(function(t){1===t.code?(e.dataLidt=t.data.data,e.listLoading=!1):-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},Paymented:function(e){},handleCurrentChange:function(e){this.page=e,this.orderList()},handleSizeChange:function(e){this.pageSize=e,this.orderList()},selsChange:function(e){this.sels=e},Confirmation:function(e,t){var a=this;this.$confirm("是否确认发货?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var e={order_id:t.order_id};v.confirmDelivery(e).then(function(e){1===e.data.code?(a.$message({type:"success",message:"发货成功!"}),a.orderList()):-2===e.data.code&&(a.$message({message:e.msg,type:"error"}),a.listLoading=!1)}).catch(function(e){a.listLoading=!1})}).catch(function(){return!1})},handleDetail:function(e,t){this.$router.push({path:"/order/Orderdetails",query:{id:t.order_id}})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.orderList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.chooseTimeRange},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.Advanced}},[e._v("高级筛选")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.activityType,expression:"activityType"}],staticClass:"activity_type"},[a("span",{staticClass:"activity_span activity_spanfir"},[e._v("支付状态:")]),e._v(" "),a("el-checkbox-group",{staticStyle:{display:"inline-block"},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},e._l(e.Paymentstatus,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.id},on:{change:e.handleCheckedCitiesChange1}},[e._v(e._s(t.name))])}),1),e._v(" "),a("span",{staticClass:"activity_span"},[e._v("支付方式:")]),e._v(" "),a("el-checkbox-group",{staticStyle:{display:"inline-block"},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},e._l(e.Paymentmethod,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.value},on:{change:e.handleCheckedCitiesChange2}},[e._v(e._s(t.name))])}),1),e._v(" "),a("span",{staticClass:"activity_span"},[e._v("物流状态:")]),e._v(" "),a("el-checkbox-group",{staticStyle:{display:"inline-block"},model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}},e._l(e.Logisticsstatus,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.id},on:{change:e.handleCheckedCitiesChange3}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.dataLidt,"highlight-current-row":"",border:"",align:"center"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"210",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"duotel_id",label:"Duotel ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_money",label:"总金额",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"支付状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.is_pay?a("p",[e._v("未支付")]):e._e(),e._v(" "),a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticStyle:{"text-align":"center"},domProps:{innerHTML:e._s(t.row.pay_from_title)}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["1"==t.row.is_pay?a("el-tag",{attrs:{size:"medium"}},[e._v("已支付")]):e._e()],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"物流状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.logistic_status?a("p",[e._v("未发货")]):"2"==t.row.logistic_status?a("p",[e._v("备货中")]):"3"==t.row.logistic_status?a("p",[e._v("运输中")]):"4"==t.row.logistic_status?a("p",[e._v("已签收")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var P=a("VU/8")(V,I,!1,function(e){a("mjjy"),a("t9Wo")},null,null).exports,A={data:function(){return{dataLidt:{},LogInfor:[],listLoading:!1,goods_spec:"",goodsInfo:[],company_address:"",personal_address:"",logistic:[],Information:!1,Logistics:"",Logistiy:{Logistics:"",ShipperName:"",value1:""},LogistiyRules:{Logistics:[{required:!0,message:"请输入物流单号",trigger:"change"}],ShipperName:[{required:!0,message:"请输入物流公司",trigger:"change"}],value1:[{required:!0,message:"请输入预计到达时间",trigger:"change"}]},is_pay:"",logistic_status:"",logisticCode:"",goodsModelNam:""}},created:function(){this.handleEdit()},methods:{handleEdit:function(){var e=this,t={order_id:this.$route.query.id};this.listLoading=!0,v.orderDetai(t).then(function(t){if(1===t.code){for(var a in e.dataLidt=t.data,e.logistic_status=e.dataLidt.logistic_status,e.is_pay=e.dataLidt.is_pay,e.logisticCode=e.dataLidt.logistic_code,e.company_address=e.dataLidt.province_id+e.dataLidt.city_id+e.dataLidt.area_id+e.dataLidt.address,e.goodsInfo=e.dataLidt.goods_info,e.goodsInfo)e.goodsModelNam=e.goodsInfo[a].goods_name+e.goodsInfo[a].goods_model;e.listLoading=!1;for(var i=[],o=0;o<e.dataLidt.goods_info.length;o++)i.push(e.dataLidt.goods_info[o].goods_spec);for(o=0;o<i.length;o++){var s=i[o];for(var r in s)e.goods_spec+=r+":"+s[r]+";   "}if(3==e.dataLidt.logistic_status||4==e.dataLidt.logistic_status){var l={order_id:e.$route.query.id,logistic_code:e.logisticCode};v.logisticInfo(l).then(function(t){1===t.code?e.logistic=t.data.Traces:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}}else-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},Stockup:function(){var e=this,t={order_id:this.$route.query.id};v.orderStocking(t).then(function(t){1===t.data.code?(e.$message({message:"备货成功",type:"success"}),e.handleEdit()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},Logisticssub:function(){var e=this,t={order_id:this.$route.query.id,logistic_code:this.dataLidt.logistic_code};v.shipperCode(t).then(function(t){1===t.code&&(e.Logistiy.ShipperName=t.data.ShipperName)}).catch(function(e){})},delivery:function(){var e=this;this.$refs.Logistiy.validate(function(t){if(t){var a=new Date(e.Logistiy.value1),i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),o={order_id:e.$route.query.id,logistic_code:e.Logistiy.Logistics,shipper_name:e.Logistiy.ShipperName,estimated_date:i};v.orderDelivery(o).then(function(t){1===t.data.code?(e.$message({message:"发货成功",type:"success"}),e.handleEdit()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"订单详情"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.dataLidt,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-form-item",{staticClass:"order50",attrs:{label:"订单单号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.order_no,callback:function(t){e.$set(e.dataLidt,"order_no",t)},expression:"dataLidt.order_no"}})],1),e._v(" "),a("el-form-item",{staticClass:"order50",attrs:{label:"下单时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.create_time,callback:function(t){e.$set(e.dataLidt,"create_time",t)},expression:"dataLidt.create_time"}})],1),e._v(" "),a("el-form-item",{staticClass:"order50",attrs:{label:"收货人姓名"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.user_name,callback:function(t){e.$set(e.dataLidt,"user_name",t)},expression:"dataLidt.user_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"order50",attrs:{label:"收货人电话"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.user_phone,callback:function(t){e.$set(e.dataLidt,"user_phone",t)},expression:"dataLidt.user_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.user_address,callback:function(t){e.$set(e.dataLidt,"user_address",t)},expression:"dataLidt.user_address"}})],1),e._v(" "),a("el-form-item",{staticClass:"order50",attrs:{label:"总金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.total_money,callback:function(t){e.$set(e.dataLidt,"total_money",t)},expression:"dataLidt.total_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"order50",attrs:{label:"服务费"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.total_money,callback:function(t){e.$set(e.dataLidt,"total_money",t)},expression:"dataLidt.total_money"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品信息"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.dataLidt,"hide-required-asterisk":!1,showClose:"false"}},[a("el-form-item",[a("el-table",{staticStyle:{width:"99.9%"},attrs:{data:e.goodsInfo,"highlight-current-row":"",border:"","show-summary":""}},[a("el-table-column",{attrs:{label:"商品图片",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"goodsImg",attrs:{src:e.row.goods_img}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品名称","min-width":"120",align:"center",sortable:""}},[a("p",{domProps:{innerHTML:e._s(e.goodsModelNam)}})]),e._v(" "),a("el-table-column",{attrs:{prop:"goods_num",label:"商品数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_spec_price",label:"商品价格",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_spec_total_price",label:"总金额",align:"center",sortable:""}})],1)],1)],1)],1),e._v(" "),1==e.is_pay?a("el-tab-pane",{attrs:{label:"物流信息"}},[a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{overflow:"hidden"},attrs:{model:e.dataLidt,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-form-item",{staticClass:"order33",attrs:{label:"物流商"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.order_no,callback:function(t){e.$set(e.dataLidt,"order_no",t)},expression:"dataLidt.order_no"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"物流单号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.logistic_code,callback:function(t){e.$set(e.dataLidt,"logistic_code",t)},expression:"dataLidt.logistic_code"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"预计到达时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.estimated_date,callback:function(t){e.$set(e.dataLidt,"estimated_date",t)},expression:"dataLidt.estimated_date"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"物流费用"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dataLidt.deliver_money,callback:function(t){e.$set(e.dataLidt,"deliver_money",t)},expression:"dataLidt.deliver_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"支付方式"}},["wechat"==e.dataLidt.pay_from?a("el-input",{attrs:{value:"微信",readonly:""}}):"alipay"==e.dataLidt.pay_from?a("el-input",{attrs:{value:"支付宝",readonly:""}}):"unionPay"==e.dataLidt.pay_from?a("el-input",{attrs:{value:"银联",readonly:""}}):"offline"==e.dataLidt.pay_from?a("el-input",{attrs:{value:"线下",readonly:""}}):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"当前状态"}},["1"==e.dataLidt.logistic_status?a("el-input",{attrs:{value:"未发货",readonly:""}}):"2"==e.dataLidt.logistic_status?a("el-input",{attrs:{value:"备货中",readonly:""}}):"3"==e.dataLidt.logistic_status?a("el-input",{attrs:{value:"运输中",readonly:""}}):"4"==e.dataLidt.logistic_status?a("el-input",{attrs:{value:"已签收",readonly:""}}):e._e()],1)],1)],1),e._v(" "),1==e.is_pay&&1==e.logistic_status?a("div",[a("el-button",{staticClass:"marle",attrs:{type:"primary",size:"mini"},on:{click:e.Stockup}},[e._v("去备货")])],1):1==e.is_pay&&2==e.logistic_status?a("div",[a("el-collapse",[a("el-collapse-item",{attrs:{title:"是否发货"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"Logistiy",staticStyle:{overflow:"hidden"},attrs:{model:e.Logistiy,rules:e.LogistiyRules,"hide-required-asterisk":!1,"label-width":"110px",showClose:"false"}},[a("el-form-item",{staticClass:"order33",attrs:{label:"物流单号",prop:"Logistics"}},[a("el-input",{on:{blur:e.Logisticssub},model:{value:e.Logistiy.Logistics,callback:function(t){e.$set(e.Logistiy,"Logistics",t)},expression:"Logistiy.Logistics"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"物流公司",prop:"ShipperName"}},[a("el-input",{model:{value:e.Logistiy.ShipperName,callback:function(t){e.$set(e.Logistiy,"ShipperName",t)},expression:"Logistiy.ShipperName"}})],1),e._v(" "),a("el-form-item",{staticClass:"order33",attrs:{label:"预计到达时间",prop:"value1"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.Logistiy.value1,callback:function(t){e.$set(e.Logistiy,"value1",t)},expression:"Logistiy.value1"}})],1)],1),e._v(" "),a("el-button",{staticClass:"marle",attrs:{type:"primary",size:"mini"},on:{click:e.delivery}},[e._v("确认发货")])],1)],1)],1):1!=e.is_pay||3!=e.logistic_status&&4!=e.logistic_status?a("div",[e._v("\n              数据异常\n          ")]):a("div",[a("el-steps",{staticStyle:{"margin-left":"50px"},attrs:{direction:"vertical"}},e._l(e.logistic,function(e,t){return a("el-step",{key:t,staticClass:"vertical",attrs:{icon:"el-icon-location-outline",title:e.AcceptTime,description:e.AcceptStation}})}),1)],1)]):e._e()],1)],1)},staticRenderFns:[]};var R=a("VU/8")(A,O,!1,function(e){a("ccVL"),a("OwqH")},"data-v-129ca8b4",null).exports,N={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t代收订单\n")])},staticRenderFns:[]};var G=a("VU/8")({data:function(){return{}}},N,!1,function(e){a("ZsRw")},null,null).exports,M=a("t4zo"),W=a.n(M),B=a("uXZL"),K=a.n(B);let H;const Q=(e,t)=>{"ie"==(()=>{let e=window.navigator.userAgent;return e.indexOf("MSIE")>=0?"ie":e.indexOf("Firefox")>=0?"Firefox":e.indexOf("Chrome")>=0?"Chrome":e.indexOf("Opera")>=0?"Opera":e.indexOf("Safari")>=0?"Safari":void 0})()?J(e,t):Y(e,t)},J=(e,t)=>{let a=e,i=new ActiveXObject("Excel.Application"),o=i.Workbooks.Add(),s=o.Worksheets(1),r=document.body.createTextRange();r.moveToElementText(a),r.select,r.execCommand("Copy"),s.Paste(),i.Visible=!0;try{let e=i.Application.GetSaveAsFilename("Excel.xls","Excel Spreadsheets (*.xls), *.xls")}catch(e){print("Nested catch caught "+e)}finally{o.SaveAs(e),o.Close(savechanges=!1),i.Quit(),i=null,window.setInterval("Cleanup();",1),H=window.setInterval("Cleanup();",1)}},Y=(e,t)=>{let a={worksheet:t,table:e},i=document.createElement("a");i.setAttribute("href","data:application/vnd.ms-excel;base64,"+(X=((e,t)=>e.replace(/{(\w+)}/g,(e,a)=>t[a]))('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',a),window.btoa(unescape(encodeURIComponent(X))))),i.setAttribute("download",t),console.log("清空缓存"),localStorage.removeItem("checkData"),i.click()};var X;var Z=(e,t,a)=>{let i=/http/,o=e.length,s=t.length,r="<thead><tr>";for(let t=0;t<o;t++)r+="<th>"+e[t]+"</th>";r+="</tr></thead>";let l="<tbody>";for(let e=0;e<s;e++){l+="<tr>";let a=t[e];for(let e in a)i.test(a[e])?l+='<td style="width:60px; height:60px; text-align: center; vertical-align: middle"><div style="display:inline"><img src=\''+a[e]+'\'  width="60" height="60"></div></td>':l+='<td style="text-align:center">'+a[e]+"</td>";l+="</tr>"}Q(r+(l+="</tbody>"),a)},ee={data:function(){return{filters:{name:"",options:[],value:""},value:"",id:[],pid:"",searchOptions:[],users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"change"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"change"},{type:"email",message:"请输入正确的邮箱地址",trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"change"}],title:[{required:!0,message:"请输入职位",trigger:"change"}]},editForm:{work_id:"",username:"",password:"",email:"",phone:"",title:""},addFormVisible:!1,addLoading:!1,addFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"change"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"change"},{type:"email",message:"请输入正确的邮箱地址",trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"change"}],title:[{required:!0,message:"请输入职位",trigger:"change"}]},addForm:{work_id:"",username:"",password:"",email:"",phone:"",title:""},pageSize:10,exportExcelArry:[{prop:"goods_id",label:"ID",formatterFlag:!1},{prop:"goods_img",label:"图片",formatterFlag:!1},{prop:"goods_name",label:"商品名称",formatterFlag:!1},{prop:"goods_model",label:"商品型号",formatterFlag:!1},{prop:"goods_cpk",label:"商品编号",formatterFlag:!1},{prop:"market_price",label:"市场价",formatterFlag:!1},{prop:"distribution_price",label:"代理A",formatterFlag:!1}],exportExcelInfo:{excelId:"commoditiesList",excelName:"商品.xlsx"},multipleSelection:[],tableAllData:[],tHeader:["ID","商品图片","商品名称","商品型号","商品编号","市场价","代理A","代理B"]}},created:function(){localStorage.removeItem("checkData"),null!==localStorage.getItem("currentPage")?this.page=parseInt(localStorage.getItem("currentPage")):this.page=1,this.GetGoodsList(),this.goodstypelist()},mounted:function(){},methods:{racksHandle:function(e){var t=this,a={goods_id:e.goods_id};0==e.is_sale?a.is_sale=1:1==e.is_sale&&(a.is_sale=0),v.GoodsRacks(a).then(function(e){1==e.data.code?(t.$message({message:"操作成功！",type:"success"}),t.GetGoodsList()):-2===e.data.code&&t.$message({message:e.msg,type:"error"})}).catch(function(e){})},selsChange:function(e){if(this.sels=e,this.multipleSelection=e,null!==localStorage.getItem("checkData")){var t=JSON.parse(localStorage.getItem("checkData"));this.multipleSelection=t.concat(e)}var a={};this.multipleSelection=this.multipleSelection.reduce(function(e,t){return!a[t.goods_id]&&(a[t.goods_id]=e.push(t)),e},[]),localStorage.setItem("checkData",x()(this.multipleSelection))},exportExcelSelect:function(){if(0!=this.multipleSelection.length){this.tableAllData.length=0;for(var e=JSON.parse(localStorage.getItem("checkData")),t=0;t<e.length;t++){var a=e[t],i={};i.goods_id=a.goods_id,i.goods_img=a.goods_img,i.goods_name=a.goods_name,i.goods_model=a.goods_model,i.goods_cpk=a.goods_cpk,i.market_price=a.market_price,i.distribution_price=a.distribution_price,i.internal_price=a.internal_price,this.tableAllData.push(i)}this.tableAllData.sort(this.sortId),this.$refs.multipleTable.clearSelection(),Z(this.tHeader,this.tableAllData,"商品列表")}else this.$message({message:"请勾选操作项",type:"error"})},sortId:function(e,t){return e.goods_id-t.goods_id},exportExcel:function(){var e=K.a.utils.table_to_book(document.querySelector("#"+this.exportExcelInfo.excelId),{raw:!0}),t=K.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{W.a.saveAs(new Blob([t],{type:"application/octet-stream"}),this.exportExcelInfo.excelName)}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},goodstypelist:function(){var e=this;v.goodsTypeList().then(function(t){1===t.code?e.searchOptions=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})},getChecked:function(e){this.id=e;sessionStorage.setItem("arr",e),this.GetGoodsList()},stopHandle:function(e,t){var a=this,i={id:t.id,status:t.status?0:1};v.ChangeUserStatus(i).then(function(e){200===e.status&&(1===e.data.code?(a.$message({message:"修改成功",type:"success"}),a.GetGoodsList()):-7===e.code&&a.$message({message:e.msg,type:"error"}))}).catch(function(e){a.listLoading=!1})},handleSizeChange:function(e){this.pageSize=e,this.GetGoodsList()},formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){localStorage.setItem("currentPage",e),this.page=e,this.GetGoodsList()},GetGoodsList:function(){var e=this,t=this,a=sessionStorage.getItem("arr");t.id=null==a||""==a?"":a.split(",");var i={goods_name:t.filters.name,goods_type:t.id,page:t.page,per_page:t.pageSize};t.listLoading=!0,v.GoodsList(i).then(function(e){t.total=e.data.total,t.users=e.data.data,t.listLoading=!1,1===e.code?(t.total=e.data.total,t.users=e.data.data,t.listLoading=!1):-7===e.code&&(t.$message({message:e.msg,type:"error"}),t.listLoading=!1);for(var a=JSON.parse(localStorage.getItem("checkData")),i=[],o=0;o<t.users.length;o++)for(var s=0;s<a.length;s++)t.users[o].goods_id==a[s].goods_id&&i.push(t.users[o]);t.$nextTick(function(){i&&i.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e,!0)})})}).catch(function(t){e.listLoading=!1})},getTree:function(){var e=this;v.CategoryGetTree({}).then(function(e){}).catch(function(t){e.listLoading=!1})},DeleteIns:function(e,t){var a=this,i=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={goods_id:t.goods_id};v.GoodsDel(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),i.GetGoodsList()):-2===e.data.code&&a.$message({message:e.data.msg,type:"error"})}).catch(function(e){})}).catch(function(){})},handleAdd:function(){this.$router.push({path:"/order/commoditiesIns"})},handleEdit:function(e,t){this.$router.push({path:"/order/EditingCommodities",query:{goods_id:t.goods_id}})},handleDetail:function(e,t){this.$router.push({path:"/order/DetailCommodities",query:{goods_id:t.goods_id}})},batchRemove:function(){var e=this;this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0}).catch(function(){})}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.GetGoodsList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"商品名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-cascader",{ref:"asd",attrs:{options:e.searchOptions,size:"mini",placeholder:"商品类型","show-all-levels":!1,clearable:"",filterable:"",props:{checkStrictly:!0,label:"goods_type_name",value:"id"}},on:{change:function(t){return e.getChecked(e.id)}},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增商品")])],1)],1)],1),e._v(" "),a("div",{staticClass:"add-button"}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%"},attrs:{data:e.users,"highlight-current-row":"",border:""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_id",label:"ID","min-width":"60",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_img",label:"商品图片","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.goods_img,width:"50",height:"50",align:"center"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_model",label:"商品型号","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_cpk",label:"商品编号","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"market_price",label:"市场价","min-width":"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_a",label:"代理A","min-width":"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_b",label:"代理B","min-width":"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:"",disabled:0==t.row.is_sale},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:"",disabled:0==t.row.is_sale},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:1==t.row.is_sale?"danger":"success",size:"mini",plain:""},on:{click:function(a){return e.racksHandle(t.row)}}},[e._v(e._s(1==t.row.is_sale?"下架":0==t.row.is_sale?"上架":"未知"))]),e._v(" "),a("el-button",{attrs:{disabled:0==t.row.is_sale,type:"danger",size:"mini",plain:""},on:{click:function(a){return e.DeleteIns(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%",display:"none"},attrs:{id:"commoditiesList",data:e.tableAllData,"highlight-current-row":"",border:""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"goods_id",label:"ID","min-width":"60",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_img",label:"商品图片","min-width":"100",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.goods_img,width:"50",height:"50",align:"center"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_model",label:"商品型号","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_cpk",label:"商品编号","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"market_price",label:"市场价","min-width":"100",align:"center",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"current-page":e.page,"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"exportExcel",attrs:{type:"primary",size:"mini"},on:{click:e.exportExcelSelect}},[e._v("导出到excel")])],1)],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("s6OD")},null,null).exports,ie={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t商品图片\n")])},staticRenderFns:[]};var oe=a("VU/8")({data:function(){return{}}},ie,!1,function(e){a("/nFZ")},null,null).exports,se=(a("3f40"),a("4qOc"),a("+cgv"),a("G0J2")),re=a("GH0r");se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var le={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{upUrl:"",form:{value1:"",value2:"",is_top:"",is_fragile:"",battery:"",goods_weight:"",goods_cpk:"",goods_model:"",goods_name:"",goods_img:"",goods_type:"",material_code:"",goods_type1:"",goods_type2:"",goods_type3:"",shop_price:"",goods_unit:"",supplier_id:"",goods_attr:"",is_sale:1,goods_desc:"",market_price:"",internal_price:"",distribution_price:"",agent_a:"",agent_b:""},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"change"}],is_top:[{required:!0,message:"请选择是否置顶",trigger:"change"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"change"}],supplier_id:[{required:!0,message:"请选择供应商",trigger:"change"}],value1:[{required:!0,message:"请选择商品类型",trigger:"change"}],value2:[{required:!0,message:"请选择商品类型",trigger:"change"}],goods_type3:[{required:!0,message:"请选择商品类型",trigger:"change"}],market_price:[{required:!0,message:"请输入市场价格",trigger:"change"}],shop_price:[{required:!0,message:"请输入促销价格",trigger:"change"}],internal_price:[{required:!0,message:"请输入进货价格",trigger:"change"}],distribution_price:[{required:!0,message:"请输入分销价格",trigger:"change"}],agent_a:[{required:!0,message:"请输入代理A价格",trigger:"change"}],agent_b:[{required:!0,message:"请输入代理B价格",trigger:"change"}]},gtype2:!1,gtype3:!1,goodsType:[],goodsType2:[],goodsType3:[],specsState:!1,dialogVisible:!1,specList:[{specCon:"",checked:!1,btnstate:0}],tables:[],titleData:[],market_value:"0",shop_price:"0",tableHeader:[],tableData:[],specs:[],checkedArr:[],checkRadio:-1,firstLinkage:[],first:"",twoLinkage:[],two:"",threeLinkage:[],three:"",specsList:[],gid:0,editId:[],file:{},quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(console.log(x()(e)),1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{},supplier:[]}},created:function(){this.upUrl=v.tarUrl(),this.GetGoodsType(),this.getsupplier()},watch:{tableData:{handler:function(){},deep:!0},market_value:{handler:function(e){this.modifyTable("market_value",e)}},shop_price:{handler:function(e){this.modifyTable("shop_price",e)}},specs:{handler:function(){this.generateList()},deep:!0}},mounted:function(){},methods:{getsupplier:function(){var e=this;v.getSupplier().then(function(t){1===t.code?e.supplier=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},submitEdit:function(){var e=this,t=this;void 0!==t.$route.query.goods_id?t.GoodsEdit(t.$route.query.goods_id):(t.packageGoodsSpecData(),t.packageSpecData(),t.$refs.form.validate(function(a){if(a){var i=t.form;!t.gtype3&&t.gtype2?i.goods_type3=t.form.goods_type2:t.gtype2?i.goods_type3=t.form.goods_type3.id:(i.goods_type2=t.form.goods_type1,i.goods_type3=t.form.goods_type1),"否"==t.form.is_top?t.form.is_top=0:"是"==t.form.is_top&&(t.form.is_top=1),"否"==t.form.is_fragile?t.form.is_fragile=1:"是"==t.form.is_fragile&&(t.form.is_fragile=2),"无"==t.form.battery?t.form.battery=1:"有"==t.form.battery&&(t.form.battery=2),i.goods_type=t.form.goods_type3,v.GoodsAdd(i).then(function(a){1===a.data.code?(t.$message({message:"添加成功",type:"success"}),e.form={goods_cpk:"",goods_model:"",goods_name:"",goods_img:"",is_top:"",is_fragile:"",battery:"",goods_weight:"",goods_type:"",goods_type1:"",goods_type2:"",goods_type3:"",material_code:"",supplier_id:"",shop_price:"",goods_unit:"",goods_attr:"",is_sale:1,goods_desc:"",market_price:"",internal_price:"",distribution_price:"",agent_a:"",agent_b:""},e.gtype2=!1,e.gtype3=!1,e.tableHeader=[],e.tableData=[],e.specs=[],e.specsState=!1,e.$router.replace({path:"/order/allCommodities"})):e.$message({message:a.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}}))},GetGoodsType:function(){var e=this;v.GetGoodsType({id:""}).then(function(t){1===t.code?(e.goodsType=t.data,_this.firstLinkage=t.data):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},selGoods:function(e){this.form.goods_type1=e.id,this.goodsType2.length=0,this.goodsType3.length=0,this.form.value2="",this.form.goods_type3="",this.GetGoodsType2(e.id,"","")},GetGoodsType2:function(e,t,a){var i=this,o=this,s={id:e};v.GetGoodsType(s).then(function(e){if(1===e.code){if(i.goodsType2=e.data,0!==e.data.length?i.gtype2=!0:i.gtype2=!1,""!==t&&""!==a){var s;s=o.goodsType2.find(function(e){return e.id===t}),o.form.value2=s,i.GetGoodsType3(s.id,a)}}else-7===e.code&&i.$message({message:e.msg,type:"error"})}).catch(function(e){i.listLoading=!1})},selGoods2:function(e){this.form.goods_type2=e.id,this.goodsType3.length=0,this.form.goods_type3="",this.GetGoodsType3(e.id,"")},GetGoodsType3:function(e,t){var a=this,i=this,o={id:e};v.GetGoodsType(o).then(function(e){if(1===e.code){if(a.goodsType3=e.data,0!==e.data.length?a.gtype3=!0:a.gtype3=!1,""!==t){var o;o=i.goodsType3.find(function(e){return e.id===t}),i.form.goods_type3=o,i.form.goods_type=o}}else-7===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},selGoods3:function(e){var t=this,a=this,i={goods_type:e.id};v.GetSpec(i).then(function(e){1===e.code?0!==e.data.length?(t.specsState=!0,a.specsList=e.data,a.specsSwitch()):t.specsState=!1:-7===e.code&&(a.specsState=!1,a.$message({message:e.msg,type:"error"}))}).catch(function(e){})},specsSwitch:function(){for(var e=[],t=0;t<this.specsList.length;t++){this.specsList[t];e.push({id:this.specsList[t].cat_id,title:this.specsList[t].cat_name,is_img:1==this.specsList[t].is_img})}this.specsList=e,this.init()},init:function(){this.specs=[];for(var e=this.specsList,t=0;t<e.length;t++)this.specs.push({id:e[t].id,title:e[t].title,is_img:e[t].is_img,_list:[{is_checked:!1,value:"",img:""}]})},newlyAdded:function(e){this.specs[e]._list.push({is_checked:!1,value:"",img:""})},newlyDel:function(e,t){this.specs[e]._list.splice(t,1)},cartesianProductOf:function(){return Array.prototype.reduce.call(arguments,function(e,t){var a=[];return e.forEach(function(e){t.forEach(function(t){a.push(e.concat([t]))})}),a},[[]])},generateList:function(){var e={};this.tableHeader=[],this.checkedArr=[];for(var t=0;t<this.specs.length;t++)for(var a=0;a<this.specs[t]._list.length;a++)if(this.specs[t]._list[a].is_checked){var i=this.specs[t].title;e[i]?e[i].push(this.specs[t]._list[a].value):(e[i]=[],e[i].push(this.specs[t]._list[a].value))}for(var a in e)this.tableHeader.push(a),this.checkedArr.push(e[a]);for(var a in 0!=this.checkedArr.length&&(this.tableData=this.cartesianProductOf.apply(this,this.checkedArr)),this.tableData)this.tableData[a].market_value="0",this.tableData[a].shop_price="0";this.packageSpecData(),this.packageGoodsSpecData()},modifyTable:function(e,t){for(var a in this.tableData)this.tableData[a][e]=t},packageSpecData:function(){for(var e=[],t={},a=[],i=0;i<this.specs.length;i++){e=[];for(var o=0;o<this.specs[i]._list.length;o++)this.specs[i]._list[o].is_checked&&e.push({spec_name:this.specs[i]._list[o].value,url:this.specs[i]._list[o].img});0!=e.length&&(t[this.specs[i].title]=e,a.push(this.specs[i].id))}this.form.spec=t,this.form.specs=t},packageGoodsSpecData:function(){for(var e=[],t=0;t<this.specs.length;t++){-1!=(s=this.tableHeader.indexOf(this.specs[t].title))&&e.push(this.specs[t].title)}for(var a={},i=[],o=0;o<this.tableData.length;o++){var s=this.tableData[o];for(var r in a={},s)e[r]?C()(a,m()({},e[r],s[r])):C()(a,m()({},r,s[r])),o==this.checkRadio?C()(a,{is_default:1}):C()(a,{is_default:0});i[o]=a}if(0!==this.editId.length)for(var l=0;l<this.editId.length;l++)i[l].id=this.editId[l];this.form.goods_spec=i},submit:function(){},handleAvatarSuccess:function(e,t){this.form.goods_img=URL.createObjectURL(t.raw)},uploadImg:function(e,t,a){var i=this,o=e.target.files[0],s=new FormData;s.append("action","UploadVMKImagePath"),s.append("file",o),v.uploadImg(s).then(function(e){1===e.data.code&&(i.specs[t]._list[a].img=e.data.data,i.specs[t]._list[a].is_img=!0)}).catch(function(e){})},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(a){if(1===a.data.code){if(console.log(t),""!==e.form.goods_img){var i=e.form.goods_img;v.deleOldImg(i)}e.form.goods_img=a.data.data}}).catch(function(e){})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}};var ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goodsIns",attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"商品信息"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品型号",prop:"goods_model"}},[a("el-input",{attrs:{placeholder:"请输入产品型号"},model:{value:e.form.goods_model,callback:function(t){e.$set(e.form,"goods_model",t)},expression:"form.goods_model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CPK编码"}},[a("el-input",{attrs:{placeholder:"请输入CPK编码"},model:{value:e.form.goods_cpk,callback:function(t){e.$set(e.form,"goods_cpk",t)},expression:"form.goods_cpk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料编码",prop:"material_code"}},[a("el-input",{attrs:{placeholder:"请输入物料编码"},model:{value:e.form.material_code,callback:function(t){e.$set(e.form,"material_code",t)},expression:"form.material_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{attrs:{placeholder:"请输入商品重量"},model:{value:e.form.goods_weight,callback:function(t){e.$set(e.form,"goods_weight",t)},expression:"form.goods_weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否置顶",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.is_top,callback:function(t){e.$set(e.form,"is_top",t)},expression:"form.is_top"}},[a("el-radio-button",{attrs:{label:"否",value:"0"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否易碎",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.is_fragile,callback:function(t){e.$set(e.form,"is_fragile",t)},expression:"form.is_fragile"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无电池",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.battery,callback:function(t){e.$set(e.form,"battery",t)},expression:"form.battery"}},[a("el-radio-button",{attrs:{label:"无",value:"1"}},[e._v("无")]),e._v(" "),a("el-radio-button",{attrs:{label:"有",value:"2"}},[e._v("有")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商",prop:"supplier_id"}},[a("el-select",{staticStyle:{display:"block"},attrs:{placeholder:"请选供应商"},model:{value:e.form.supplier_id,callback:function(t){e.$set(e.form,"supplier_id",t)},expression:"form.supplier_id"}},e._l(e.supplier,function(e){return a("el-option",{key:e.id,attrs:{label:e.supplier_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品类型",required:""}},[a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value1"}},[a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.goodsType,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1)],1)],1),e._v(" "),e.gtype2?a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value2"}},[e.gtype2?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods2},model:{value:e.form.value2,callback:function(t){e.$set(e.form,"value2",t)},expression:"form.value2"}},e._l(e.goodsType2,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e(),e._v(" "),e.gtype3?a("el-col",{staticStyle:{width:"30%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"goods_type3"}},[e.gtype3?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods3},model:{value:e.form.goods_type3,callback:function(t){e.$set(e.form,"goods_type3",t)},expression:"form.goods_type3"}},e._l(e.goodsType3,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"市场价格",prop:"market_price"}},[a("el-input",{attrs:{placeholder:"请输入市场价格"},model:{value:e.form.market_price,callback:function(t){e.$set(e.form,"market_price",t)},expression:"form.market_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"促销价格",prop:"shop_price"}},[a("el-input",{attrs:{placeholder:"请输入促销价格"},model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"进货价格",prop:"internal_price"}},[a("el-input",{attrs:{placeholder:"请输入进货价格"},model:{value:e.form.internal_price,callback:function(t){e.$set(e.form,"internal_price",t)},expression:"form.internal_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网销价格",prop:"distribution_price"}},[a("el-input",{attrs:{placeholder:"请输入分销价格"},model:{value:e.form.distribution_price,callback:function(t){e.$set(e.form,"distribution_price",t)},expression:"form.distribution_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理A",prop:"agent_a"}},[a("el-input",{attrs:{placeholder:"请输入代理A价格"},model:{value:e.form.agent_a,callback:function(t){e.$set(e.form,"agent_a",t)},expression:"form.agent_a"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理B",prop:"agent_b"}},[a("el-input",{attrs:{placeholder:"请输入代理B价格"},model:{value:e.form.agent_b,callback:function(t){e.$set(e.form,"agent_b",t)},expression:"form.agent_b"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品属性",prop:"goods_attr"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入商品属性"},model:{value:e.form.goods_attr,callback:function(t){e.$set(e.form,"goods_attr",t)},expression:"form.goods_attr"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品描述"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品描述"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品图片"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品主图",prop:"goods_img"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1}},[e.form.goods_img?a("img",{staticClass:"avatar",attrs:{src:e.form.goods_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),e.specsState?a("el-tab-pane",{attrs:{label:"规格属性"}},[a("div",{attrs:{id:"specContent"}},[a("p",{staticClass:"title"},[e._v("商品规格")]),e._v(" "),a("div",{staticClass:"top"},e._l(e.specs,function(t,i){return a("div",{key:i,staticClass:"topOne"},[t.title?a("div",{staticClass:"btn_list"},[a("p",{staticClass:"spectit"},[e._v(e._s(t.title)+"：")]),e._v(" "),e._l(t._list,function(o,s){return a("div",{key:s,staticClass:"specItem"},[a("el-checkbox",{model:{value:o.is_checked,callback:function(t){e.$set(o,"is_checked",t)},expression:"v.is_checked"}}),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:o.value,callback:function(t){e.$set(o,"value",t)},expression:"v.value"}}),e._v(" "),a("a",{staticClass:"showImg",attrs:{href:o.img,target:"_blank"}},[o.is_img?a("img",{staticClass:"view-img",attrs:{src:o.img}}):e._e()]),e._v(" "),t.is_img?a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[e._v("上传图片\n                                                "),a("input",{staticClass:"file-upload",attrs:{type:"file",id:"fileUpload-"+s,cat:i,index:s},on:{change:function(t){return e.uploadImg(t,i,s)}}})]):e._e(),e._v(" "),0==s?a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.newlyAdded(i)}}},[e._v("新增")]):e._e(),e._v(" "),0!=s?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.newlyDel(i,s)}}},[e._v("删除")]):e._e()],1)})],2):e._e()])}),0),e._v(" "),a("div",{staticClass:"shoptip"},[e._v("1.若改动商品规格时，销售规则表将会重新绘制，填写销售规格表前选择好商品规格")]),e._v(" "),a("p",{staticClass:"title"},[e._v("销售规格")]),e._v(" "),a("div",{staticClass:"am-form-group"},[a("div",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[a("table",{staticClass:"am-table"},[a("thead",{attrs:{id:"amsThead"}},[""!=e.tableHeader?a("tr",[a("th",{staticClass:"norms"},[e._v("推荐规格")]),e._v(" "),e._l(e.tableHeader,function(t){return a("th",{key:t,staticClass:"agreement"},[e._v(e._s(t))])}),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("市场价")]),a("el-input",{model:{value:e.market_value,callback:function(t){e.market_value=t},expression:"market_value"}})],1),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("促销价")]),a("el-input",{model:{value:e.shop_price,callback:function(t){e.shop_price=t},expression:"shop_price"}})],1)],2):e._e()]),e._v(" "),a("tbody",{attrs:{id:"amsTbody"}},e._l(e.tableData,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"normsC"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkRadio,expression:"checkRadio"}],attrs:{name:"recommend",type:"radio"},domProps:{value:i,checked:e._q(e.checkRadio,i)},on:{change:function(t){e.checkRadio=i}}})]),e._v(" "),e._l(t,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.market_value,expression:"row.market_value"}],staticClass:"el-input__inner",domProps:{value:t.market_value},on:{input:function(a){a.target.composing||e.$set(t,"market_value",a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.shop_price,expression:"row.shop_price"}],staticClass:"el-input__inner",domProps:{value:t.shop_price},on:{input:function(a){a.target.composing||e.$set(t,"shop_price",a.target.value)}}})])],2)}),0)])])])])]):e._e()],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var de=a("VU/8")(le,ne,!1,function(e){a("2jjM"),a("yA8Y")},"data-v-18f550dc",null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var ce={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{upUrl:"",form:{value1:"",value2:"",is_top:"",is_fragile:"",battery:"",goods_weight:"",goods_cpk:"",goods_model:"",goods_name:"",goods_img:"",material_code:"",goods_type:"",goods_type1:"",goods_type2:"",goods_type3:"",supplier_id:"",shop_price:"",goods_unit:"",goods_attr:"",is_sale:1,goods_desc:"",market_price:"",internal_price:"",distribution_price:"",agent_a:"",agent_b:""},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"change"}],is_top:[{required:!0,message:"请选择是否置顶",trigger:"change"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"change"}],supplier_id:[{required:!0,message:"请选择供应商",trigger:"change"}],value1:[{required:!0,message:"请选择商品类型",trigger:"change"}],value2:[{required:!0,message:"请选择商品类型",trigger:"change"}],goods_type3:[{required:!0,message:"请选择商品类型",trigger:"change"}],market_price:[{required:!0,message:"请输入市场价格",trigger:"change"}],shop_price:[{required:!0,message:"请输入促销价格",trigger:"change"}],internal_price:[{required:!0,message:"请输入进货价格",trigger:"change"}],distribution_price:[{required:!0,message:"请输入分销价格",trigger:"change"}],agent_a:[{required:!0,message:"请输入代理A价格",trigger:"change"}],agent_b:[{required:!0,message:"请输入代理B价格",trigger:"change"}]},gtype2:!1,gtype3:!1,goodsType:[],goodsType2:[],goodsType3:[],specsState:!1,dialogVisible:!1,specList:[{specCon:"",checked:!1,btnstate:0}],tables:[],titleData:[],market_value:"0",shop_price:"0",tableHeader:[],tableData:[],specs:[],checkedArr:[],checkRadio:-1,firstLinkage:[],first:"",twoLinkage:[],two:"",threeLinkage:[],three:"",specsList:[],gid:0,editId:[],file:{},quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(console.log(x()(e)),1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{},supplier:[]}},created:function(){this.upUrl=v.tarUrl(),this.GetGoodsType(),this.GetGoodsDetail(),this.getsupplier()},watch:{tableData:{handler:function(){},deep:!0},market_value:{handler:function(e){this.modifyTable("market_value",e)}},shop_price:{handler:function(e){this.modifyTable("shop_price",e)}},specs:{handler:function(){this.generateList()},deep:!0}},methods:{getsupplier:function(){var e=this;v.getSupplier().then(function(t){1===t.code?e.supplier=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},GetGoodsDetail:function(){var e=this,t=this,a={goods_id:this.$route.query.goods_id};v.GoodsDetail(a).then(function(a){if(1===a.code){t.form=a.data,0!==a.data.spec_ids.length?t.specsState=!0:t.specsState=!1,1==t.form.supplier_id?t.form.supplier_id="涂鸦智能":2==t.form.supplier_id&&(t.form.supplier_id="烽火科技"),0==t.form.is_top?t.form.is_top="否":1==t.form.is_top&&(t.form.is_top="是"),1==t.form.is_fragile?t.form.is_fragile="否":2==t.form.is_fragile&&(t.form.is_fragile="是"),1==t.form.battery?t.form.battery="无":2==t.form.battery&&(t.form.battery="有");var i={};i=e.goodsType.find(function(e){return e.id===a.data.goods_type1}),t.form.value1=i,e.GetGoodsType2(i.id,a.data.goods_type2,a.data.goods_type3);var o=a.data.spec_name,s=a.data.market_price,r=a.data.shop_price;t.market_value=s,t.shop_price=r;var l=[],n=[],d=[];for(var c in a.data.spec_ids){var m=a.data.spec_ids[c];(i={}).title=c,i._list=[];for(var u=0;u<m.length;u++){var p={is_checked:!0};p.value=m[u].spec_name,p.img=m[u].url,""!==m[u].url?p.is_img=!0:p.is_img=!1,i._list.push(p)}d.push(i)}t.specs=d,t.$refs.form.resetFields();var g={goods_type:a.data.goods_type3};v.GetSpec(g).then(function(e){if(1===e.code){for(var a=0;a<o.length;a++){var i=o[a],s=JSON.parse(i.goods_spec);t.editId.push(s.id),t.packageGoodsSpecData();for(var r=[],d={},c=0;c<e.data.length;c++)for(var m in s)m===e.data[c].cat_name&&(r.push(s[m]),r.market_value=s.market_value,r.shop_price=s.shop_price,d[m]=s[m]);l.push(r),n.push(d)}t.tableData=l;var u=[];for(m=0;m<e.data.length;m++)u.push(e.data[m].cat_name);t.tableHeader=u}else-7===e.code&&(t.specsState=!1,t.$message({message:e.msg,type:"error"}))}).catch(function(e){})}else e.$message({message:a.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},submitEdit:function(){var e=this,t=this;t.packageGoodsSpecData(),t.packageSpecData(),t.$refs.form.validate(function(a){if(a){var i=t.form;i.goods_id=t.$route.query.goods_id,t.gtype3?t.gtype2?i.goods_type3=t.form.goods_type3.id:(i.goods_type2=t.form.goods_type1,i.goods_type3=t.form.goods_type1):i.goods_type3=t.form.goods_type2,"涂鸦智能"==t.form.supplier_id?t.form.supplier_id=1:"烽火科技"==t.form.supplier_id&&(t.form.supplier_id=2),"否"==t.form.is_top?t.form.is_top=0:"是"==t.form.is_top&&(t.form.is_top=1),"否"==t.form.is_fragile?t.form.is_fragile=1:"是"==t.form.is_fragile&&(t.form.is_fragile=2),console.log(t.form.battery),"无"==t.form.battery?t.form.battery=1:"有"==t.form.battery&&(t.form.battery=2),i.goods_type=t.form.goods_type3,v.GoodsEdit(i).then(function(a){1===a.data.code?(t.$message({message:"编辑成功",type:"success"}),e.$router.replace({path:"/order/allCommodities"})):e.$message({message:a.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}})},GetGoodsType:function(){var e=this;v.GetGoodsType({id:""}).then(function(t){1===t.code?(e.goodsType=t.data,_this.firstLinkage=t.data):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},selGoods:function(e){this.form.goods_type1=e.id,this.goodsType2.length=0,this.goodsType3.length=0,this.form.value2="",this.form.goods_type3="",this.GetGoodsType2(e.id,"","")},GetGoodsType2:function(e,t,a){var i=this,o=this,s={id:e};v.GetGoodsType(s).then(function(e){if(1===e.code){if(i.goodsType2=e.data,0!==e.data.length?i.gtype2=!0:i.gtype2=!1,""!==t&&""!==a){var s;s=o.goodsType2.find(function(e){return e.id===t}),o.form.value2=s,i.GetGoodsType3(s.id,a)}}else-7===e.code&&i.$message({message:e.msg,type:"error"})}).catch(function(e){i.listLoading=!1})},selGoods2:function(e){this.form.goods_type2=e.id,this.goodsType3.length=0,this.form.goods_type3="",this.GetGoodsType3(e.id,"")},GetGoodsType3:function(e,t){var a=this,i=this,o={id:e};v.GetGoodsType(o).then(function(e){if(1===e.code){if(a.goodsType3=e.data,0!==e.data.length?a.gtype3=!0:a.gtype3=!1,""!==t){var o;o=i.goodsType3.find(function(e){return e.id===t}),i.form.goods_type3=o,i.form.goods_type=o}}else-7===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},selGoods3:function(e){var t=this,a=this,i={goods_type:e.id};v.GetSpec(i).then(function(e){1===e.code?0!==e.data.length?(t.specsState=!0,a.specsList=e.data,a.specsSwitch()):t.specsState=!1:-7===e.code&&(a.specsState=!1,a.$message({message:e.msg,type:"error"}))}).catch(function(e){})},specsSwitch:function(){for(var e=[],t=0;t<this.specsList.length;t++){this.specsList[t];e.push({id:this.specsList[t].cat_id,title:this.specsList[t].cat_name,is_img:1==this.specsList[t].is_img})}this.specsList=e,this.init()},init:function(){this.specs=[];for(var e=this.specsList,t=0;t<e.length;t++)this.specs.push({id:e[t].id,title:e[t].title,is_img:e[t].is_img,_list:[{is_checked:!1,value:"",img:""}]})},newlyAdded:function(e){this.specs[e]._list.push({is_checked:!1,value:"",img:""})},newlyDel:function(e,t){this.specs[e]._list.splice(t,1)},cartesianProductOf:function(){return Array.prototype.reduce.call(arguments,function(e,t){var a=[];return e.forEach(function(e){t.forEach(function(t){a.push(e.concat([t]))})}),a},[[]])},generateList:function(){var e={};this.tableHeader=[],this.checkedArr=[];for(var t=0;t<this.specs.length;t++)for(var a=0;a<this.specs[t]._list.length;a++)if(this.specs[t]._list[a].is_checked){var i=this.specs[t].title;e[i]?e[i].push(this.specs[t]._list[a].value):(e[i]=[],e[i].push(this.specs[t]._list[a].value))}for(var a in e)this.tableHeader.push(a),this.checkedArr.push(e[a]);for(var a in 0!=this.checkedArr.length&&(this.tableData=this.cartesianProductOf.apply(this,this.checkedArr)),this.tableData)this.tableData[a].market_value="0",this.tableData[a].shop_price="0";this.packageSpecData(),this.packageGoodsSpecData()},modifyTable:function(e,t){for(var a in this.tableData)this.tableData[a][e]=t},packageSpecData:function(){for(var e=[],t={},a=[],i=0;i<this.specs.length;i++){e=[];for(var o=0;o<this.specs[i]._list.length;o++)this.specs[i]._list[o].is_checked&&e.push({spec_name:this.specs[i]._list[o].value,url:this.specs[i]._list[o].img});0!=e.length&&(t[this.specs[i].title]=e,a.push(this.specs[i].id))}this.form.spec=t,this.form.specs=t},packageGoodsSpecData:function(){for(var e=[],t=0;t<this.specs.length;t++){-1!=(s=this.tableHeader.indexOf(this.specs[t].title))&&e.push(this.specs[t].title)}for(var a={},i=[],o=0;o<this.tableData.length;o++){var s=this.tableData[o];for(var r in a={},s)e[r]?C()(a,m()({},e[r],s[r])):C()(a,m()({},r,s[r])),o==this.checkRadio?C()(a,{is_default:1}):C()(a,{is_default:0});i[o]=a}if(0!==this.editId.length)for(var l=0;l<this.editId.length;l++)i[l].id=this.editId[l];this.form.goods_spec=i},handleAvatarSuccess:function(e,t){this.form.goods_img=URL.createObjectURL(t.raw)},uploadImg:function(e,t,a){var i=this,o=e.target.files[0],s=new FormData;s.append("action","UploadVMKImagePath"),s.append("file",o),v.uploadImg(s).then(function(e){1===e.data.code&&(i.specs[t]._list[a].img=e.data.data,i.specs[t]._list[a].is_img=!0)}).catch(function(e){})},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.form.goods_img){var a=e.form.goods_img;v.deleOldImg(a)}e.form.goods_img=t.data.data}}).catch(function(e){})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}};var me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goodsIns",attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"商品信息"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{attrs:{placeholder:"商品名称"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品型号",prop:"goods_model"}},[a("el-input",{attrs:{placeholder:"产品型号"},model:{value:e.form.goods_model,callback:function(t){e.$set(e.form,"goods_model",t)},expression:"form.goods_model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CPK编码"}},[a("el-input",{attrs:{placeholder:"CPK编码"},model:{value:e.form.goods_cpk,callback:function(t){e.$set(e.form,"goods_cpk",t)},expression:"form.goods_cpk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料编码",prop:"material_code"}},[a("el-input",{attrs:{placeholder:"请输入物料编码"},model:{value:e.form.material_code,callback:function(t){e.$set(e.form,"material_code",t)},expression:"form.material_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{attrs:{placeholder:"请输入商品重量"},model:{value:e.form.goods_weight,callback:function(t){e.$set(e.form,"goods_weight",t)},expression:"form.goods_weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否置顶",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.is_top,callback:function(t){e.$set(e.form,"is_top",t)},expression:"form.is_top"}},[a("el-radio-button",{attrs:{label:"否",value:"0"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否易碎",prop:"is_fragile"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.is_fragile,callback:function(t){e.$set(e.form,"is_fragile",t)},expression:"form.is_fragile"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无电池",prop:"battery"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.battery,callback:function(t){e.$set(e.form,"battery",t)},expression:"form.battery"}},[a("el-radio-button",{attrs:{label:"无",value:"1"}},[e._v("无")]),e._v(" "),a("el-radio-button",{attrs:{label:"有",value:"2"}},[e._v("有")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商",prop:"supplier_id"}},[a("el-select",{staticStyle:{display:"block"},attrs:{placeholder:"请选供应商"},model:{value:e.form.supplier_id,callback:function(t){e.$set(e.form,"supplier_id",t)},expression:"form.supplier_id"}},e._l(e.supplier,function(e){return a("el-option",{key:e.id,attrs:{label:e.supplier_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品类型",required:""}},[a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value1"}},[a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.goodsType,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1)],1)],1),e._v(" "),e.gtype2?a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value2"}},[e.gtype2?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods2},model:{value:e.form.value2,callback:function(t){e.$set(e.form,"value2",t)},expression:"form.value2"}},e._l(e.goodsType2,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e(),e._v(" "),e.gtype3?a("el-col",{staticStyle:{width:"30%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"goods_type3"}},[e.gtype3?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods3},model:{value:e.form.goods_type3,callback:function(t){e.$set(e.form,"goods_type3",t)},expression:"form.goods_type3"}},e._l(e.goodsType3,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"市场价格",prop:"market_price"}},[a("el-input",{attrs:{placeholder:"市场价格"},model:{value:e.form.market_price,callback:function(t){e.$set(e.form,"market_price",t)},expression:"form.market_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"促销价格",prop:"shop_price"}},[a("el-input",{attrs:{placeholder:"促销价格"},model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"进货价格",prop:"internal_price"}},[a("el-input",{attrs:{placeholder:"进货价格"},model:{value:e.form.internal_price,callback:function(t){e.$set(e.form,"internal_price",t)},expression:"form.internal_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分销价格",prop:"distribution_price"}},[a("el-input",{attrs:{placeholder:"分销价格"},model:{value:e.form.distribution_price,callback:function(t){e.$set(e.form,"distribution_price",t)},expression:"form.distribution_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理A",prop:"agent_a"}},[a("el-input",{attrs:{placeholder:"请输入代理A价格"},model:{value:e.form.agent_a,callback:function(t){e.$set(e.form,"agent_a",t)},expression:"form.agent_a"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理B",prop:"agent_b"}},[a("el-input",{attrs:{placeholder:"请输入代理B价格"},model:{value:e.form.agent_b,callback:function(t){e.$set(e.form,"agent_b",t)},expression:"form.agent_b"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品属性",prop:"goods_attr"}},[a("el-input",{attrs:{type:"textarea",placeholder:"商品属性"},model:{value:e.form.goods_attr,callback:function(t){e.$set(e.form,"goods_attr",t)},expression:"form.goods_attr"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品描述"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品描述"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品图片"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品主图",prop:"goods_img"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1}},[e.form.goods_img?a("img",{staticClass:"avatar",attrs:{src:e.form.goods_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),e.specsState?a("el-tab-pane",{attrs:{label:"规格属性"}},[a("div",{attrs:{id:"specContent"}},[a("p",{staticClass:"title"},[e._v("商品规格")]),e._v(" "),a("div",{staticClass:"top"},e._l(e.specs,function(t,i){return a("div",{key:i,staticClass:"topOne"},[t.title?a("div",{staticClass:"btn_list"},[a("p",{staticClass:"spectit"},[e._v(e._s(t.title)+"：")]),e._v(" "),e._l(t._list,function(o,s){return a("div",{key:s,staticClass:"specItem"},[a("el-checkbox",{model:{value:o.is_checked,callback:function(t){e.$set(o,"is_checked",t)},expression:"v.is_checked"}}),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:o.value,callback:function(t){e.$set(o,"value",t)},expression:"v.value"}}),e._v(" "),a("a",{staticClass:"showImg",attrs:{href:o.img,target:"_blank"}},[o.is_img?a("img",{staticClass:"view-img",attrs:{src:o.img}}):e._e()]),e._v(" "),t.is_img?a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[e._v("\n                  上传图片\n                  "),a("input",{staticClass:"file-upload",attrs:{type:"file",id:"fileUpload-"+s,cat:i,index:s},on:{change:function(t){return e.uploadImg(t,i,s)}}})]):e._e(),e._v(" "),0==s?a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.newlyAdded(i)}}},[e._v("新增")]):e._e(),e._v(" "),0!=s?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.newlyDel(i,s)}}},[e._v("删除")]):e._e()],1)})],2):e._e()])}),0),e._v(" "),a("div",{staticClass:"shoptip"},[e._v("1.若改动商品规格时，销售规则表将会重新绘制，填写销售规格表前选择好商品规格")]),e._v(" "),a("p",{staticClass:"title"},[e._v("销售规格")]),e._v(" "),a("div",{staticClass:"am-form-group"},[a("div",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[a("table",{staticClass:"am-table"},[a("thead",{attrs:{id:"amsThead"}},[""!=e.tableHeader?a("tr",[a("th",{staticClass:"norms"},[e._v("推荐规格")]),e._v(" "),e._l(e.tableHeader,function(t){return a("th",{key:t,staticClass:"agreement"},[e._v(e._s(t))])}),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("市场价\n                    ")]),e._v(" "),a("el-input",{model:{value:e.market_value,callback:function(t){e.market_value=t},expression:"market_value"}})],1),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("促销价\n                    ")]),e._v(" "),a("el-input",{model:{value:e.shop_price,callback:function(t){e.shop_price=t},expression:"shop_price"}})],1)],2):e._e()]),e._v(" "),a("tbody",{attrs:{id:"amsTbody"}},e._l(e.tableData,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"normsC"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkRadio,expression:"checkRadio"}],attrs:{name:"recommend",type:"radio"},domProps:{value:i,checked:e._q(e.checkRadio,i)},on:{change:function(t){e.checkRadio=i}}})]),e._v(" "),e._l(t,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.market_value,expression:"row.market_value"}],staticClass:"el-input__inner",domProps:{value:t.market_value},on:{input:function(a){a.target.composing||e.$set(t,"market_value",a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.shop_price,expression:"row.shop_price"}],staticClass:"el-input__inner",domProps:{value:t.shop_price},on:{input:function(a){a.target.composing||e.$set(t,"shop_price",a.target.value)}}})])],2)}),0)])])])])]):e._e()],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(ce,me,!1,function(e){a("UQVq"),a("vdX3")},"data-v-9d100b26",null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var pe={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{upUrl:"",form:{value1:"",value2:"",is_top:"",is_fragile:"",battery:"",goods_weight:"",goods_cpk:"",goods_model:"",goods_name:"",goods_img:"",material_code:"",goods_type:"",goods_type1:"",goods_type2:"",goods_type3:"",supplier_id:"",shop_price:"",goods_unit:"",goods_attr:"",is_sale:1,goods_desc:"",market_price:"",internal_price:"",distribution_price:"",agent_a:"",agent_b:""},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"change"}],is_top:[{required:!0,message:"请选择是否置顶",trigger:"change"}],supplier_id:[{required:!0,message:"请选择供应商",trigger:"change"}],value1:[{required:!0,message:"请选择商品类型",trigger:"change"}],value2:[{required:!0,message:"请选择商品类型",trigger:"change"}],goods_type3:[{required:!0,message:"请选择商品类型",trigger:"change"}],market_price:[{required:!0,message:"请输入市场价格",trigger:"change"}],shop_price:[{required:!0,message:"请输入促销价格",trigger:"change"}],internal_price:[{required:!0,message:"请输入进货价格",trigger:"change"}],distribution_price:[{required:!0,message:"请输入分销价格",trigger:"change"}],agent_a:[{required:!0,message:"请输入代理A价格",trigger:"change"}],agent_b:[{required:!0,message:"请输入代理B价格",trigger:"change"}]},gtype2:!1,gtype3:!1,goodsType:[],goodsType2:[],goodsType3:[],specsState:!1,dialogVisible:!1,specList:[{specCon:"",checked:!1,btnstate:0}],tables:[],titleData:[],market_value:"0",shop_price:"0",tableHeader:[],tableData:[],specs:[],checkedArr:[],checkRadio:-1,firstLinkage:[],first:"",twoLinkage:[],two:"",threeLinkage:[],three:"",specsList:[],gid:0,editId:[],file:{},quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(console.log(x()(e)),1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{},supplier:[]}},created:function(){this.upUrl=v.tarUrl(),this.GetGoodsType(),this.GetGoodsDetail(),this.getsupplier()},watch:{tableData:{handler:function(){},deep:!0},market_value:{handler:function(e){this.modifyTable("market_value",e)}},shop_price:{handler:function(e){this.modifyTable("shop_price",e)}},specs:{handler:function(){this.generateList()},deep:!0}},methods:{getsupplier:function(){var e=this;v.getSupplier().then(function(t){1===t.code?e.supplier=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},GetGoodsDetail:function(){var e=this,t=this,a={goods_id:this.$route.query.goods_id};v.GoodsDetail(a).then(function(a){if(1===a.code){t.form=a.data,0!==a.data.spec_ids.length?t.specsState=!0:t.specsState=!1,1==t.form.supplier_id?t.form.supplier_id="涂鸦智能":2==t.form.supplier_id&&(t.form.supplier_id="烽火科技"),0==t.form.is_top?t.form.is_top="否":1==t.form.is_top&&(t.form.is_top="是"),1==t.form.is_fragile?t.form.is_fragile="否":2==t.form.is_fragile&&(t.form.is_fragile="是"),1==t.form.battery?t.form.battery="无":2==t.form.battery&&(t.form.battery="有");var i={};i=e.goodsType.find(function(e){return e.id===a.data.goods_type1}),t.form.value1=i,e.GetGoodsType2(i.id,a.data.goods_type2,a.data.goods_type3);var o=a.data.spec_name,s=a.data.market_price,r=a.data.shop_price;t.market_value=s,t.shop_price=r;var l=[],n=[],d=[];for(var c in a.data.spec_ids){var m=a.data.spec_ids[c];(i={}).title=c,i._list=[];for(var u=0;u<m.length;u++){var p={is_checked:!0};p.value=m[u].spec_name,p.img=m[u].url,""!==m[u].url?p.is_img=!0:p.is_img=!1,i._list.push(p)}d.push(i)}t.specs=d;var g={goods_type:a.data.goods_type3};v.GetSpec(g).then(function(e){if(1===e.code){for(var a=0;a<o.length;a++){var i=o[a],s=JSON.parse(i.goods_spec);t.editId.push(s.id),t.packageGoodsSpecData();for(var r=[],d={},c=0;c<e.data.length;c++)for(var m in s)m===e.data[c].cat_name&&(r.push(s[m]),r.market_value=s.market_value,r.shop_price=s.shop_price,d[m]=s[m]);l.push(r),n.push(d)}t.tableData=l;var u=[];for(m=0;m<e.data.length;m++)u.push(e.data[m].cat_name);t.tableHeader=u}else-7===e.code&&(t.specsState=!1,t.$message({message:e.msg,type:"error"}))}).catch(function(e){})}else e.$message({message:a.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},submitEdit:function(){var e=this,t=this;t.packageGoodsSpecData(),t.packageSpecData(),t.$refs.form.validate(function(a){if(a){var i=t.form;i.goods_id=t.$route.query.goods_id,t.gtype3?t.gtype2?i.goods_type3=t.form.goods_type3.id:(i.goods_type2=t.form.goods_type1,i.goods_type3=t.form.goods_type1):i.goods_type3=t.form.goods_type2,"涂鸦智能"==t.form.supplier_id?t.form.supplier_id=1:"烽火科技"==t.form.supplier_id&&(t.form.supplier_id=2),"否"==t.form.is_top?t.form.is_top=0:"是"==t.form.is_top&&(t.form.is_top=1),i.goods_type=t.form.goods_type3,v.GoodsEdit(i).then(function(a){1===a.data.code?(t.$message({message:"编辑成功",type:"success"}),e.$router.replace({path:"/order/allCommodities"})):e.$message({message:a.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}})},GetGoodsType:function(){var e=this;v.GetGoodsType({id:""}).then(function(t){1===t.code?(e.goodsType=t.data,_this.firstLinkage=t.data):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},selGoods:function(e){this.form.goods_type1=e.id,this.goodsType2.length=0,this.goodsType3.length=0,this.form.value2="",this.form.goods_type3="",this.GetGoodsType2(e.id,"","")},GetGoodsType2:function(e,t,a){var i=this,o=this,s={id:e};v.GetGoodsType(s).then(function(e){if(1===e.code){if(i.goodsType2=e.data,0!==e.data.length?i.gtype2=!0:i.gtype2=!1,""!==t&&""!==a){var s;s=o.goodsType2.find(function(e){return e.id===t}),o.form.value2=s,i.GetGoodsType3(s.id,a)}}else-7===e.code&&i.$message({message:e.msg,type:"error"})}).catch(function(e){i.listLoading=!1})},selGoods2:function(e){this.form.goods_type2=e.id,this.goodsType3.length=0,this.form.goods_type3="",this.GetGoodsType3(e.id,"")},GetGoodsType3:function(e,t){var a=this,i=this,o={id:e};v.GetGoodsType(o).then(function(e){if(1===e.code){if(a.goodsType3=e.data,0!==e.data.length?a.gtype3=!0:a.gtype3=!1,""!==t){var o;o=i.goodsType3.find(function(e){return e.id===t}),i.form.goods_type3=o,i.form.goods_type=o}}else-7===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},selGoods3:function(e){var t=this,a=this,i={goods_type:e.id};v.GetSpec(i).then(function(e){1===e.code?0!==e.data.length?(t.specsState=!0,a.specsList=e.data,a.specsSwitch()):t.specsState=!1:-7===e.code&&(a.specsState=!1,a.$message({message:e.msg,type:"error"}))}).catch(function(e){})},specsSwitch:function(){for(var e=[],t=0;t<this.specsList.length;t++){this.specsList[t];e.push({id:this.specsList[t].cat_id,title:this.specsList[t].cat_name,is_img:1==this.specsList[t].is_img})}this.specsList=e,this.init()},init:function(){this.specs=[];for(var e=this.specsList,t=0;t<e.length;t++)this.specs.push({id:e[t].id,title:e[t].title,is_img:e[t].is_img,_list:[{is_checked:!1,value:"",img:""}]})},newlyAdded:function(e){this.specs[e]._list.push({is_checked:!1,value:"",img:""})},newlyDel:function(e,t){this.specs[e]._list.splice(t,1)},cartesianProductOf:function(){return Array.prototype.reduce.call(arguments,function(e,t){var a=[];return e.forEach(function(e){t.forEach(function(t){a.push(e.concat([t]))})}),a},[[]])},generateList:function(){var e={};this.tableHeader=[],this.checkedArr=[];for(var t=0;t<this.specs.length;t++)for(var a=0;a<this.specs[t]._list.length;a++)if(this.specs[t]._list[a].is_checked){var i=this.specs[t].title;e[i]?e[i].push(this.specs[t]._list[a].value):(e[i]=[],e[i].push(this.specs[t]._list[a].value))}for(var a in e)this.tableHeader.push(a),this.checkedArr.push(e[a]);for(var a in 0!=this.checkedArr.length&&(this.tableData=this.cartesianProductOf.apply(this,this.checkedArr)),this.tableData)this.tableData[a].market_value="0",this.tableData[a].shop_price="0";this.packageSpecData(),this.packageGoodsSpecData()},modifyTable:function(e,t){for(var a in this.tableData)this.tableData[a][e]=t},packageSpecData:function(){for(var e=[],t={},a=[],i=0;i<this.specs.length;i++){e=[];for(var o=0;o<this.specs[i]._list.length;o++)this.specs[i]._list[o].is_checked&&e.push({spec_name:this.specs[i]._list[o].value,url:this.specs[i]._list[o].img});0!=e.length&&(t[this.specs[i].title]=e,a.push(this.specs[i].id))}this.form.spec=t,this.form.specs=t},packageGoodsSpecData:function(){for(var e=[],t=0;t<this.specs.length;t++){-1!=(s=this.tableHeader.indexOf(this.specs[t].title))&&e.push(this.specs[t].title)}for(var a={},i=[],o=0;o<this.tableData.length;o++){var s=this.tableData[o];for(var r in a={},s)e[r]?C()(a,m()({},e[r],s[r])):C()(a,m()({},r,s[r])),o==this.checkRadio?C()(a,{is_default:1}):C()(a,{is_default:0});i[o]=a}if(0!==this.editId.length)for(var l=0;l<this.editId.length;l++)i[l].id=this.editId[l];this.form.goods_spec=i},handleAvatarSuccess:function(e,t){this.form.goods_img=URL.createObjectURL(t.raw)},uploadImg:function(e,t,a){var i=this,o=e.target.files[0],s=new FormData;s.append("action","UploadVMKImagePath"),s.append("file",o),v.uploadImg(s).then(function(e){1===e.data.code&&(i.specs[t]._list[a].img=e.data.data,i.specs[t]._list[a].is_img=!0)}).catch(function(e){})},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.form.goods_img){var a=e.form.goods_img;v.deleOldImg(a)}e.form.goods_img=t.data.data}}).catch(function(e){})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}};var ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goodsIns",attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"商品信息"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{attrs:{readonly:!0,placeholder:"商品名称"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品型号",prop:"goods_model"}},[a("el-input",{attrs:{readonly:!0,placeholder:"产品型号"},model:{value:e.form.goods_model,callback:function(t){e.$set(e.form,"goods_model",t)},expression:"form.goods_model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CPK编码"}},[a("el-input",{attrs:{readonly:!0,placeholder:"CPK编码"},model:{value:e.form.goods_cpk,callback:function(t){e.$set(e.form,"goods_cpk",t)},expression:"form.goods_cpk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料编码",prop:"material_code"}},[a("el-input",{attrs:{readonly:!0,placeholder:"请输入物料编码"},model:{value:e.form.material_code,callback:function(t){e.$set(e.form,"material_code",t)},expression:"form.material_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入商品重量"},model:{value:e.form.goods_weight,callback:function(t){e.$set(e.form,"goods_weight",t)},expression:"form.goods_weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否置顶",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small",disabled:!0},model:{value:e.form.is_top,callback:function(t){e.$set(e.form,"is_top",t)},expression:"form.is_top"}},[a("el-radio-button",{attrs:{label:"否",value:"0"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否易碎",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small",disabled:!0},model:{value:e.form.is_fragile,callback:function(t){e.$set(e.form,"is_fragile",t)},expression:"form.is_fragile"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无电池",prop:"is_top"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.battery,callback:function(t){e.$set(e.form,"battery",t)},expression:"form.battery"}},[a("el-radio-button",{attrs:{label:"无",value:"1",disabled:""}},[e._v("无")]),e._v(" "),a("el-radio-button",{attrs:{label:"有",value:"2",disabled:""}},[e._v("有")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商",prop:"supplier_id"}},[a("el-select",{attrs:{placeholder:"请选供应商",disabled:!0},model:{value:e.form.supplier_id,callback:function(t){e.$set(e.form,"supplier_id",t)},expression:"form.supplier_id"}},e._l(e.supplier,function(e){return a("el-option",{key:e.id,attrs:{label:e.supplier_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品类型",required:""}},[a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value1"}},[a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型",disabled:!0},on:{change:e.selGoods},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.goodsType,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1)],1)],1),e._v(" "),e.gtype2?a("el-col",{staticStyle:{width:"30%","margin-right":"5%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"value2"}},[e.gtype2?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型",disabled:!0},on:{change:e.selGoods2},model:{value:e.form.value2,callback:function(t){e.$set(e.form,"value2",t)},expression:"form.value2"}},e._l(e.goodsType2,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e(),e._v(" "),e.gtype3?a("el-col",{staticStyle:{width:"30%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"goods_type3"}},[e.gtype3?a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选商品类型",disabled:!0},on:{change:e.selGoods3},model:{value:e.form.goods_type3,callback:function(t){e.$set(e.form,"goods_type3",t)},expression:"form.goods_type3"}},e._l(e.goodsType3,function(e){return a("el-option",{key:e.id,attrs:{label:e.goods_type_name,value:e}})}),1):e._e()],1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"市场价格",prop:"market_price"}},[a("el-input",{attrs:{readonly:!0,placeholder:"市场价格"},model:{value:e.form.market_price,callback:function(t){e.$set(e.form,"market_price",t)},expression:"form.market_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"促销价格",prop:"shop_price"}},[a("el-input",{attrs:{readonly:!0,placeholder:"促销价格"},model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"进货价格",prop:"internal_price"}},[a("el-input",{attrs:{readonly:!0,placeholder:"进货价格"},model:{value:e.form.internal_price,callback:function(t){e.$set(e.form,"internal_price",t)},expression:"form.internal_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分销价格",prop:"distribution_price"}},[a("el-input",{attrs:{readonly:!0,placeholder:"分销价格"},model:{value:e.form.distribution_price,callback:function(t){e.$set(e.form,"distribution_price",t)},expression:"form.distribution_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理A",prop:"agent_a"}},[a("el-input",{attrs:{placeholder:"请输入代理A价格"},model:{value:e.form.agent_a,callback:function(t){e.$set(e.form,"agent_a",t)},expression:"form.agent_a"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理B",prop:"agent_b"}},[a("el-input",{attrs:{placeholder:"请输入代理B价格"},model:{value:e.form.agent_b,callback:function(t){e.$set(e.form,"agent_b",t)},expression:"form.agent_b"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品属性",prop:"goods_attr"}},[a("el-input",{attrs:{type:"textarea",readonly:!0,placeholder:"商品属性"},model:{value:e.form.goods_attr,callback:function(t){e.$set(e.form,"goods_attr",t)},expression:"form.goods_attr"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品描述"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品描述"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品图片"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品主图",prop:"goods_img"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1}},[e.form.goods_img?a("img",{staticClass:"avatar",attrs:{src:e.form.goods_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),e.specsState?a("el-tab-pane",{attrs:{label:"规格属性"}},[a("div",{attrs:{id:"specContent"}},[a("p",{staticClass:"title"},[e._v("商品规格")]),e._v(" "),a("div",{staticClass:"top"},e._l(e.specs,function(t,i){return a("div",{key:i,staticClass:"topOne"},[t.title?a("div",{staticClass:"btn_list"},[a("p",{staticClass:"spectit"},[e._v(e._s(t.title)+"：")]),e._v(" "),e._l(t._list,function(o,s){return a("div",{key:s,staticClass:"specItem"},[a("el-checkbox",{attrs:{disabled:!0},model:{value:o.is_checked,callback:function(t){e.$set(o,"is_checked",t)},expression:"v.is_checked"}}),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入",readonly:!0},model:{value:o.value,callback:function(t){e.$set(o,"value",t)},expression:"v.value"}}),e._v(" "),a("a",{staticClass:"showImg",attrs:{href:o.img,target:"_blank"}},[o.is_img?a("img",{staticClass:"view-img",attrs:{src:o.img}}):e._e()]),e._v(" "),t.is_img?a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[e._v("\n                  上传图片\n                  "),a("input",{staticClass:"file-upload",attrs:{type:"file",id:"fileUpload-"+s,cat:i,index:s},on:{change:function(t){return e.uploadImg(t,i,s)}}})]):e._e(),e._v(" "),0==s?a("el-button",{attrs:{type:"success",disabled:!0,size:"small"},on:{click:function(t){return e.newlyAdded(i)}}},[e._v("新增")]):e._e(),e._v(" "),0!=s?a("el-button",{attrs:{type:"primary",disabled:!0,size:"small"},on:{click:function(t){return e.newlyDel(i,s)}}},[e._v("删除")]):e._e()],1)})],2):e._e()])}),0),e._v(" "),a("div",{staticClass:"shoptip"},[e._v("1.若改动商品规格时，销售规则表将会重新绘制，填写销售规格表前选择好商品规格")]),e._v(" "),a("p",{staticClass:"title"},[e._v("销售规格")]),e._v(" "),a("div",{staticClass:"am-form-group"},[a("div",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[a("table",{staticClass:"am-table"},[a("thead",{attrs:{id:"amsThead"}},[""!=e.tableHeader?a("tr",[a("th",{staticClass:"norms"},[e._v("推荐规格")]),e._v(" "),e._l(e.tableHeader,function(t){return a("th",{key:t,staticClass:"agreement"},[e._v(e._s(t))])}),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("市场价\n                    ")]),e._v(" "),a("el-input",{attrs:{readonly:!0},model:{value:e.market_value,callback:function(t){e.market_value=t},expression:"market_value"}})],1),e._v(" "),a("th",{staticClass:"common-input"},[a("p",[a("span",{staticClass:"red"},[e._v("*")]),e._v("促销价\n                    ")]),e._v(" "),a("el-input",{attrs:{readonly:!0},model:{value:e.shop_price,callback:function(t){e.shop_price=t},expression:"shop_price"}})],1)],2):e._e()]),e._v(" "),a("tbody",{attrs:{id:"amsTbody"}},e._l(e.tableData,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"normsC"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkRadio,expression:"checkRadio"}],attrs:{name:"recommend",disabled:!0,type:"radio"},domProps:{value:i,checked:e._q(e.checkRadio,i)},on:{change:function(t){e.checkRadio=i}}})]),e._v(" "),e._l(t,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.market_value,expression:"row.market_value"}],staticClass:"el-input__inner",attrs:{readonly:!0},domProps:{value:t.market_value},on:{input:function(a){a.target.composing||e.$set(t,"market_value",a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.shop_price,expression:"row.shop_price"}],staticClass:"el-input__inner",attrs:{readonly:!0},domProps:{value:t.shop_price},on:{input:function(a){a.target.composing||e.$set(t,"shop_price",a.target.value)}}})])],2)}),0)])])])])]):e._e()],1)],1)},staticRenderFns:[]};var fe=a("VU/8")(pe,ge,!1,function(e){a("3qNO"),a("U3t7")},"data-v-572994fa",null).exports,_e={data:function(){return{filters:{name:"",options:[],value:""},users:[],total:0,page:1,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:{dev_type_code:[{required:!0,message:"请输入设备code",trigger:"change"}],dev_type_name:[{required:!0,message:"请输入设备类型名称",trigger:"change"}],lang_key:[{required:!0,message:"请输入lang_key",trigger:"change"}]},editForm:{dev_type_name:"",dev_desc:"",lang_key:"",icon:"",equtype:"",parent_type_code:0,lv:1},file2:{},addFormVisible:!1,addLoading:!1,addFormRules:{dev_type_code:[{required:!0,message:"请输入设备code",trigger:"change"}],dev_type_name:[{required:!0,message:"请输入设备类型名称",trigger:"change"}],lang_key:[{required:!0,message:"请输入lang_key",trigger:"change"}]},addForm:{id:0,dev_type_name:"",dev_desc:"",lang_key:"",icon:"",equtype:"",parent_type_code:0,lv:1},file:{},pageSize:10}},created:function(){this.getGoodsTypeList()},mounted:function(){},methods:{handleSizeChange:function(e){this.pageSize=e,this.getGoodsTypeList()},handleChange2:function(e){this.file2=e.raw},uploadMainImg2:function(){var e=this,t=new FormData;t.append("file",this.file2),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.editForm.icon){var a=e.editForm.icon;v.deleOldImg(a)}e.editForm.icon=t.data.data}}).catch(function(e){})},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.addForm.icon){var a=e.addForm.icon;v.deleOldImg(a)}e.addForm.icon=t.data.data}}).catch(function(e){})},handleCurrentChange:function(e){this.page=e,this.getGoodsTypeList()},getGoodsTypeList:function(){var e=this,t={goods_name:this.filters.name,goods_type:"",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.GoodsTypeList(t).then(function(t){e.users=t.data,e.listLoading=!1}).catch(function(t){e.listLoading=!1})},selGoods:function(e){void 0!==e.goods_type_name?(this.addForm.id=e.id,this.addForm.lv=e.lv):(this.addForm.equtype=e,this.addForm.id=0,this.addForm.lv=1)},handleEdit:function(e,t){this.editFormVisible=!0;var a;a=this.users.find(function(e){return e.id===t.id}),this.editForm={id:t.id,dev_type_name:a.goods_type_name,dev_desc:null==a.dev_desc?"":a.goods_type_desc,icon:a.icon,equtype:a,parent_type_code:a.p_id,dev_type_level:a.lv}},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.goodsTypeDel(e).then(function(e){1===e.data.code?(a.$message({message:"编辑成功",type:"success"}),a.editLoading=!1,a.getGoodsTypeList()):-7===e.data.code&&a.$message({message:e.data.msg,type:"error"})}).catch(function(e){})}).catch(function(){})},handleAdd:function(){this.addFormVisible=!0,this.addForm={dev_type_name:"",dev_desc:"",lang_key:"",icon:"",equtype:"",parent_type_code:0,dev_type_level:1}},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0,e.editForm.equtype=e.editForm.equtype.dev_type_name;var a={id:t.editForm.id,goods_type_name:t.editForm.dev_type_name,p_id:t.editForm.parent_type_code,goods_type_desc:t.editForm.dev_desc,icon:t.editForm.icon};v.goodsTypeEdit(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editLoading=!1,e.editFormVisible=!1,e.getGoodsTypeList()):-7===t.data.code&&e.$message({message:t.data.msg,type:"error"})}).catch(function(e){})})})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0,""===e.addForm.equtype&&(t.addForm.id=0);var a={goods_type_name:t.addForm.dev_type_name,p_id:t.addForm.id,goods_type_desc:t.addForm.dev_desc,icon:t.addForm.icon};v.goodsTypeAdd(a).then(function(t){1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addLoading=!1,e.addFormVisible=!1,e.$refs.addForm.resetFields(),e.getGoodsTypeList()):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})})}}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getGoodsTypeList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"类型名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建分类")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{label:"类型名称","min-width":"280",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(t.row.showName)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_type_name",label:"设备类型名称","min-width":"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑分类",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"title"}},[a("el-select",{attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.editForm.equtype,callback:function(t){e.$set(e.editForm,"equtype",t)},expression:"editForm.equtype"}},[a("el-option",{attrs:{value:"请选商品类型"}},[e._v("请选商品类型")]),e._v(" "),e._l(e.users,function(t){return a("el-option",{key:t.id,attrs:{label:t.goods_type_name,value:t},domProps:{innerHTML:e._s(t.showName)}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"dev_type_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入设备类型名称"},model:{value:e.editForm.dev_type_name,callback:function(t){e.$set(e.editForm,"dev_type_name",t)},expression:"editForm.dev_type_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备描述",prop:""}},[a("el-input",{attrs:{placeholder:"请输入设备描述","auto-complete":"off"},model:{value:e.editForm.dev_desc,callback:function(t){e.$set(e.editForm,"dev_desc",t)},expression:"editForm.dev_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备图片",prop:"phone"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange2,"http-request":e.uploadMainImg2,"show-file-list":!1}},[e.editForm.icon?a("img",{staticClass:"avatar",attrs:{src:e.editForm.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建商品分类",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"title"}},[a("el-select",{attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.addForm.equtype,callback:function(t){e.$set(e.addForm,"equtype",t)},expression:"addForm.equtype"}},[a("el-option",{attrs:{value:"请选商品类型"}},[e._v("请选商品类型")]),e._v(" "),e._l(e.users,function(t){return a("el-option",{key:t.id,attrs:{label:t.goods_type_name,value:t},domProps:{innerHTML:e._s(t.showName)}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"dev_type_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入设备类型名称"},model:{value:e.addForm.dev_type_name,callback:function(t){e.$set(e.addForm,"dev_type_name",t)},expression:"addForm.dev_type_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备描述",prop:""}},[a("el-input",{attrs:{placeholder:"请输入设备描述","auto-complete":"off"},model:{value:e.addForm.dev_desc,callback:function(t){e.$set(e.addForm,"dev_desc",t)},expression:"addForm.dev_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备图片",prop:"phone"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1}},[e.addForm.icon?a("img",{staticClass:"avatar",attrs:{src:e.addForm.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var ve=a("VU/8")(_e,he,!1,function(e){a("YNfs")},null,null).exports,be={data:function(){return{filters:{name:"",options:[],value:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{cat_name:[{required:!0,message:"请输入规格类型名称",trigger:"change"}],goods_type:[{required:!0,message:"请选择商品类型",trigger:"change"}],is_img:[{required:!0,message:"请选择是否有图片",trigger:"change"}],status:[{required:!0,message:"请选择是否显示",trigger:"change"}]},editForm:{cat_name:"",goods_type:"",is_img:"",status:""},addFormVisible:!1,addLoading:!1,addFormRules:{cat_name:[{required:!0,message:"请输入规格类型名称",trigger:"change"}],goods_type:[{required:!0,message:"请选择商品类型",trigger:"change"}],is_img:[{required:!0,message:"请选择是否有图片",trigger:"change"}],status:[{required:!0,message:"请选择是否显示",trigger:"change"}]},addForm:{cat_name:"",goods_type:"",is_img:"2",status:"1"},pageSize:10,goodsType:[]}},methods:{selGoods:function(e){},stopHandle:function(e,t){var a=this,i={id:t.id,status:t.status?0:1};v.ChangeUserStatus(i).then(function(e){200===e.status&&(1===e.data.code?(a.$message({message:"修改成功",type:"success"}),a.getSpecList()):-7===e.code&&a.$message({message:e.msg,type:"error"}))}).catch(function(e){a.listLoading=!1})},handleSizeChange:function(e){this.pageSize=e,this.getSpecList()},formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getSpecList()},getSpecList:function(){var e=this,t={cat_name:this.filters.name,goods_type:"",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.specList(t).then(function(t){1===t.code?(e.total=t.data.total,e.users=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},getGoodsType:function(){var e=this,t={goods_name:"",goods_type:"",page:this.page,per_page:this.pageSize};v.GoodsTypeList(t).then(function(t){e.goodsType=t.data}).catch(function(t){e.listLoading=!1})},resetPwd:function(e,t){var a=this;this.$confirm("确定要重置密码吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id,password:t.password};v.ResetPwd(e).then(function(e){1===e.data.code?a.$message({message:"重置成功",type:"success"}):-2===e.data.code&&a.$message({message:e.data.msg,type:"error"})}).catch(function(e){})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0;var a;a=this.goodsType.find(function(e){return e.id===t.goods_type}),this.editForm={cat_id:t.cat_id,cat_name:t.cat_name,goods_type:a,is_img:String(t.is_img),status:String(t.status)}},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t={cat_id:e.editForm.cat_id,cat_name:e.editForm.cat_name,goods_type:e.editForm.goods_type.id,is_img:e.editForm.is_img,status:e.editForm.status};v.specEdit(t).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editLoading=!1,e.editFormVisible=!1,e.getSpecList()):-7===t.data.code&&e.$message({message:t.data.msg,type:"error"})}).catch(function(e){})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t={cat_name:e.addForm.cat_name,goods_type:e.addForm.goods_type.id,is_img:e.addForm.is_img,status:e.addForm.status};v.specAdd(t).then(function(t){1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addLoading=!1,e.addFormVisible=!1,e.addForm={cat_name:"",goods_type:"",is_img:"",status:""},e.$refs.addForm.resetFields(),e.getSpecList()):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})})},selsChange:function(e){this.sels=e}},created:function(){this.getGoodsType(),this.getSpecList()},mounted:function(){}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getSpecList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"规格名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建规格")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":"",border:""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"goods_type_name",label:"类型名称","min-width":"240",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cat_name",label:"规格名称","min-width":"240",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑规格",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"goods_type"}},[a("el-select",{attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.editForm.goods_type,callback:function(t){e.$set(e.editForm,"goods_type",t)},expression:"editForm.goods_type"}},e._l(e.goodsType,function(t){return a("el-option",{key:t.id,attrs:{label:t.goods_type_name,value:t},domProps:{innerHTML:e._s(t.showName)}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"规格类型",prop:"cat_name"}},[a("el-input",{attrs:{placeholder:"请输入规格类型名称","auto-complete":"off"},model:{value:e.editForm.cat_name,callback:function(t){e.$set(e.editForm,"cat_name",t)},expression:"editForm.cat_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无图片",prop:"is_img"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.editForm.is_img,callback:function(t){e.$set(e.editForm,"is_img",t)},expression:"editForm.is_img"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建规格",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"goods_type"}},[a("el-select",{attrs:{"value-key":"id",placeholder:"请选商品类型"},on:{change:e.selGoods},model:{value:e.addForm.goods_type,callback:function(t){e.$set(e.addForm,"goods_type",t)},expression:"addForm.goods_type"}},e._l(e.goodsType,function(t){return a("el-option",{key:t.id,attrs:{label:t.goods_type_name,value:t},domProps:{innerHTML:e._s(t.showName)}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"规格类型",prop:"cat_name"}},[a("el-input",{attrs:{placeholder:"请输入规格类型名称","auto-complete":"off"},model:{value:e.addForm.cat_name,callback:function(t){e.$set(e.addForm,"cat_name",t)},expression:"addForm.cat_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无图片",prop:"is_img"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.addForm.is_img,callback:function(t){e.$set(e.addForm,"is_img",t)},expression:"addForm.is_img"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var ke=a("VU/8")(be,ye,!1,function(e){a("neAa")},null,null).exports,we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content grid1"},[a("div",{staticClass:"left"},[a("p",[e._v("联网智能空间总量 (间)")]),e._v(" "),a("div",{staticClass:"font50"},[e._v("858780")]),e._v(" "),a("p",[e._v("累计控制智能设备 5671904台")])]),e._v(" "),a("div",{staticClass:"right"},[a("i",{staticClass:"iconfont icon icon-sitemap"})])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content grid2"},[a("div",{staticClass:"left"},[a("p",[e._v("使用智能服务次数 (次)")]),e._v(" "),a("div",{staticClass:"font50"},[e._v("44380281")]),e._v(" "),a("p",[e._v("累计提供智能轻应用 5741016个")])]),e._v(" "),a("div",{staticClass:"right"},[a("i",{staticClass:"iconfont icon icon-skyatlas",staticStyle:{"font-size":"92px","margin-right":"24px"}})])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content grid3"},[a("div",{staticClass:"left"},[a("p",[e._v("使用智能服务人数 (人)")]),e._v(" "),a("div",{staticClass:"font50"},[e._v("5164190")]),e._v(" "),a("p",[e._v("累计消费总额 ¥62,050,895.98元")])]),e._v(" "),a("div",{staticClass:"right"},[a("i",{staticClass:"iconfont icon icon-bed"})])])])],1),e._v(" "),a("div",[a("div",{staticClass:"Keyin7"},[a("div",{staticClass:"Keyin7_tit"},[e._m(0),e._v(" "),a("div",{staticClass:"Keyin7_div right"},e._l(e.Specific,function(t,i){return a("span",{key:i,staticClass:"gloomy",class:{totals:i==e.current},on:{click:function(t){return e.speci(i)}}},[e._v(e._s(t.name))])}),0)]),e._v(" "),a("div",{staticClass:"Keyin7_con topnav_box"},[a("table",[a("tbody",{attrs:{border:""}},e._l(e.tableData,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"Merchant"},[e._v(e._s(t.name))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.value))]),e._v(" "),a("td",{staticClass:"Merchant"},[e._v(e._s(t.space))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.spaceNum))]),e._v(" "),a("td",{staticClass:"Merchant"},[e._v(e._s(t.user))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.userNum))]),e._v(" "),a("td",{staticClass:"Merchant"},[e._v(e._s(t.agent))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.agentNum))])])}),0)])])]),e._v(" "),a("div",{staticClass:"Keyin3"},[e._m(1),e._v(" "),a("div",{staticClass:"Keyin3_con topnav_box"},[a("ul",e._l(e.Globalstate,function(t,i){return a("li",{key:i},[a("i",{class:t.icon}),e._v(" "),a("span",[e._v(e._s(t.value))]),e._v(" "),e._m(2,!0)])}),0)])])]),e._v(" "),a("div",[a("div",{staticClass:"Keyin31",staticStyle:{width:"31%"}},[e._m(3),e._v(" "),a("table",[a("tbody",{attrs:{border:""}},e._l(e.Overview,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"Merchant"},[e._v(e._s(t.title))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.price))]),e._v(" "),a("td",{staticClass:"Merchant"},[e._v(e._s(t.magnitude))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.num))])])}),0)])]),e._v(" "),a("div",{staticClass:"Keyin31",staticStyle:{width:"33.5%","margin-left":"15px"}},[e._m(4),e._v(" "),a("table",[a("tbody",{attrs:{border:""}},e._l(e.Overview2,function(t,i){return a("tr",{key:i},[a("td",{staticClass:"Merchant"},[e._v(e._s(t.title))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.price))]),e._v(" "),a("td",{staticClass:"Merchant"},[e._v(e._s(t.magnitude))]),e._v(" "),a("td",{staticClass:"character"},[e._v(e._s(t.num))])])}),0)])]),e._v(" "),a("div",{staticClass:"Keyin31 right",staticStyle:{width:"32%"}},[a("div",{staticClass:"Keyin31_tit"},[a("h3",[e._v("DuotelPartner 销售排行榜")]),e._v(" "),a("div",{staticClass:"Keyin7_div right"},e._l(e.Monthly,function(t,i){return a("span",{key:i,staticClass:"gloomy",class:{totals:i==e.currents},on:{click:function(t){return e.monthly(i)}}},[e._v(e._s(t.name))])}),0)]),e._v(" "),a("div",{staticClass:"Keyin31_con topnav_box"},[a("ul",e._l(e.SalesList,function(t,i){return a("li",{key:i},[""!=t.num?a("span",{style:t.background},[e._v(e._s(t.num))]):a("span",{staticStyle:{display:"none"}}),e._v(" "),a("span",[e._v(e._s(t.RankingList))]),e._v(" "),a("span",{staticClass:"right"},[e._v(e._s(t.price))])])}),0)])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",[this._v("\n\t\t\t\t\t关键指标数据增量统计\n\t\t\t\t\t"),t("span",[this._v("   -   数据统计最后更新 2019-08-21 15:00")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Keyin3_tit"},[t("h3",[this._v("全局状态")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right"},[t("span",[this._v("查看")]),this._v(" "),t("i",{staticClass:"el-icon-arrow-right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Keyin31_tit"},[t("h3",[this._v("2019年 DuotelCube 销售情况概览")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Keyin31_tit"},[t("h3",[this._v("2019年 Duotel AIoT Suite 销售情况概览")])])}]};var Fe=a("VU/8")({data:function(){return{tableData:[{name:"商户",value:"720个",space:"空间",spaceNum:"7838间",user:"用户",userNum:"129个",agent:"代理",agentNum:"6945个"},{name:"主机",value:"9406台",space:"设备",spaceNum:"70542台",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"续费",value:"7830台",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"MT",value:"90\t",space:"VoIP",spaceNum:"72",user:"LAPP",userNum:"82",agent:"-",agentNum:"-"},{name:"工单",value:"5445",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"},{name:"-",value:"-",space:"-",spaceNum:"-",user:"-",userNum:"-",agent:"-",agentNum:"-"}],Globalstate:[{icon:"el-icon-bell",value:"当前 2845 份待处理工单"},{icon:"el-icon-info",value:"当前 9 条通讯线路故障"},{icon:"el-icon-bangzhu",value:" 当前 8 台服务器故障"},{icon:"el-icon-s-marketing",value:"当前 9 台服务器报错"},{icon:"el-icon-share",value:"当前 70 个接口错误提示消息"},{icon:"el-icon-s-tools",value:"当前 1519 台CUBE主机故障报错"},{icon:"el-icon-s-operation",value:"当前 2026 台设备待机/离线状态"},{icon:"el-icon-paperclip",value:"当前 9809 个外设配件故障报错"},{icon:"el-icon-folder-opened",value:"当前 5645 条系统云端故障报错"}],Overview:[{title:"Q1",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q2",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q3",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q4",price:"¥ 55,676,680.67",magnitude:"数量",num:"2704"},{title:"总额",price:"¥ 55,676,680.6",magnitude:"总量",num:"2704"}],Overview2:[{title:"Q1",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q2",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q3",price:"¥ 0.00",magnitude:"数量",num:"0"},{title:"Q4",price:"¥ 67,283,608.34",magnitude:"数量",num:"2860"},{title:"总额",price:"¥ 67,283,608.34",magnitude:"总量",num:"2860"}],SalesList:[{background:"background-color:#dd514c",num:"1",RankingList:"北京营销管理有限公司",price:"¥5,363,469.97元"},{background:"background-color:#F37B1D",num:"2",RankingList:"北京营销管理有限公司",price:"¥901,542.81元"},{background:"background-color:#5eb95e",num:"3",RankingList:"北京营销管理有限公司",price:"¥48,406.83元"},{background:"background-color:#999",num:"4",RankingList:"北京营销管理有限公司",price:"¥7,697.24元"},{background:"background-color:#999",num:"5",RankingList:"北京营销管理有限公司",price:"¥7,592.53元"},{background:"",num:"",RankingList:"北京营销管理有限公司",price:"¥9,655.58元"},{background:"",num:"",RankingList:"北京营销管理有限公司",price:"¥6,356.22元"},{background:"",num:"",RankingList:"北京营销管理有限公司",price:"¥1,327.46元"},{background:"",num:"",RankingList:"北京营销管理有限公司",price:"¥3,534.19元"},{background:"",num:"",RankingList:"北京营销管理有限公司",price:"¥3,254.70元"}],Specific:[{id:1,name:"日"},{id:2,name:"周"},{id:3,name:"月"},{id:4,name:"季"},{id:5,name:"年"}],Monthly:[{id:1,name:"月"},{id:2,name:"季"},{id:3,name:"年"}],current:0,currents:0}},created:function(){},methods:{speci:function(e){this.current=e},monthly:function(e){this.currents=e}}},we,!1,function(e){a("J0Hh")},"data-v-2a2c854f",null).exports,Le={data:function(){return{page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:"",search:{name:""},tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",remark:"备注"}]}},created:function(){},methods:{formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.formatter}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"name","min-width":"100",align:"center",label:"序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var $e=a("VU/8")(Le,xe,!1,function(e){a("ptfj")},"data-v-2dce9777",null).exports,Ce={data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",remark:"备注"}],page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:"",search:{name:""}}},created:function(){},methods:{formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.formatter}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"name","min-width":"100",align:"center",label:"序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ze=a("VU/8")(Ce,Se,!1,function(e){a("bzLj")},"data-v-e6556802",null).exports,qe={data:function(){return{addwarehousVisible:!1,addLoading:!1,addFormRules:{order_no:[{required:!0,message:"请输入订单号",trigger:"change"}]},addwarehousForm:{project_id:"",duotel_id:"",order_no:""},options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:"",search:{name:""}}},created:function(){},methods:{AddtoStorage:function(){this.$router.push({path:"/office/inventory/AddtoStorage"})},formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){},handleDetail:function(){this.$router.push({path:"/office/inventory/DetailStorage"})},handleEdit:function(){this.$router.push({path:"/office/inventory/EditStorage"})},addwarehousSubmit:function(){},handleAdd:function(){this.addwarehousVisible=!0}}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"left",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.AddtoStorage}},[e._v("添加")])],1),e._v(" "),a("el-form-item",{staticClass:"left",staticStyle:{float:"left"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择",size:"small"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"序号",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"备注",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增入库单",visible:e.addwarehousVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.addwarehousVisible=t}}},[a("el-form",{ref:"addwarehousForm",staticClass:"creactivit",attrs:{model:e.addwarehousForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"入库单号",prop:"order_no"}},[a("el-input",{attrs:{placeholder:"入库单号","auto-complete":"off"},model:{value:e.addwarehousForm.order_no,callback:function(t){e.$set(e.addwarehousForm,"order_no",t)},expression:"addwarehousForm.order_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入库日期",prop:"order_no"}},[a("el-input",{attrs:{placeholder:"入库日期","auto-complete":"off"},model:{value:e.addwarehousForm.order_no,callback:function(t){e.$set(e.addwarehousForm,"order_no",t)},expression:"addwarehousForm.order_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商名称",prop:"order_no"}},[a("el-input",{attrs:{placeholder:"供应商名称","auto-complete":"off"},model:{value:e.addwarehousForm.order_no,callback:function(t){e.$set(e.addwarehousForm,"order_no",t)},expression:"addwarehousForm.order_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商地址",prop:"order_no"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addwarhousForm")}},nativeOn:{click:function(t){e.addwarehousVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addwarehousSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Te=a("VU/8")(qe,Ue,!1,function(e){a("Arqr")},"data-v-55c4d5a8",null).exports,De={data:function(){var e;return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],page:1,pageSize:10,total:0,listLoading:!1,wareSearch:!1,time1:"",time2:"",supplier_id:"",supplier_contact_people:"",supplier_phone:"",value1:"",search:{user:""},options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",payWay:[{value:"1",label:"微信"},{value:"2",label:"支付宝"},{value:"3",label:"建行"},{value:"4",label:"线下"}],addwarehousVisible:!1,addLoading:!1,addFormRules:m()({supplier_id:[{required:!0,trigger:"change"}],i_order_no:[{required:!0,trigger:"change"}],total_price:[{required:!0,trigger:"change"}],audit_user:[{required:!0,trigger:"change"}],audit_time:[{required:!0,trigger:"change"}],pay_user:[{required:!0,trigger:"change"}],pay_time:[{required:!0,trigger:"change"}],agent:[{required:!0,trigger:"change"}],logistics_no:[{required:!0,trigger:"change"}],logistics_providers:[{required:!0,trigger:"change"}],logistics_status:[{required:!0,trigger:"change"}],logistics_price:[{required:!0,trigger:"change"}],pay_way:[{required:!0,trigger:"change"}],is_pay:[{required:!0,trigger:"change"}],material_code:[{required:!0,trigger:"change"}],goods_cpk:[{required:!0,trigger:"change"}],goods_name:[{required:!0,trigger:"change"}],goods_model:[{required:!0,trigger:"change"}],goods_price:[{required:!0,trigger:"change"}],goods_number:[{required:!0,trigger:"change"}]},"total_price",[{required:!0,trigger:"change"}]),addwarehousForm:(e={supplier_id:"",i_order_no:"",order_goods:[],total_price:"",audit_user:"",audit_time:"",pay_user:"",pay_time:"",agent:"",logistics_no:"",logistics_providers:"",logistics_status:"",logistics_price:"",pay_way:"",is_pay:"",order_no:"",material_code:"",goods_cpk:"",goods_name:"",goods_model:"",goods_price:"",goods_number:""},m()(e,"total_price",""),m()(e,"desc",""),e),orderGoods:{material_code:"",goods_cpk:"",goods_name:"",goods_model:"",goods_price:"",goods_number:"",total_price:"",desc:""},supplier_address:"",suppliers:[],agentsLists:[]}},created:function(){this.supplierList(),this.ordersList(),this.agentsList()},methods:{formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){},Advanced:function(){0==this.wareSearch?this.wareSearch=!0:this.wareSearch=!1},changeSelect:function(e){this.wareSearch=!0,this.supplier_address="";for(var t=0;t<this.suppliers.length;t++)e==this.suppliers[t].id&&(this.supplier_address=this.suppliers[t].supplier_address,this.supplier_contact_people=this.suppliers[t].supplier_contact_people,this.supplier_phone=this.suppliers[t].supplier_phone)},addWare:function(){this.addwarehousVisible=!0},resetFields:function(){this.wareSearch=!1},supplierList:function(){var e=this;v.supplierList({}).then(function(t){1===t.code&&(e.suppliers=t.data)}).catch(function(e){return!1})},ordersList:function(){var e=this;v.ordernoList({}).then(function(t){1===t.code&&(e.addwarehousForm.i_order_no=t.data)}).catch(function(e){return!1})},agentsList:function(){var e=this;v.agentList({}).then(function(t){1===t.code&&(e.agentsLists=t.data)}).catch(function(e){return!1})},gettrackNum:function(){var e=this,t={logistics_no:this.addwarehousForm.logistics_no};v.getlogistics(t).then(function(t){1===t.code&&(e.addwarehousForm.logistics_providers=t.data.ShipperName,e.addwarehousForm.logistics_status=t.data.State,"2"==t.data.State?e.addwarehousForm.logistics_status="在途中":"3"==t.data.State?e.addwarehousForm.logistics_status="已签收":"4"==t.data.State&&(e.addwarehousForm.logistics_status="问题件"))}).catch(function(e){return!1})},addwarehousSubmit:function(){var e=this;this.$refs.addwarehousForm.validate(function(t){if(t){e.orderGoods.material_code=e.addwarehousForm.material_code,e.orderGoods.goods_cpk=e.addwarehousForm.goods_cpk,e.orderGoods.goods_name=e.addwarehousForm.goods_name,e.orderGoods.goods_model=e.addwarehousForm.model,e.orderGoods.goods_price=e.addwarehousForm.goods_price,e.orderGoods.goods_number=e.addwarehousForm.goods_number,e.orderGoods.total_price=e.addwarehousForm.total_price,e.orderGoods.desc=e.addwarehousForm.desc,e.addwarehousForm.order_goods.push(e.orderGoods),"在途中"==e.addwarehousForm.logistics_status?e.addwarehousForm.logistics_status="2":"已签收"==e.addwarehousForm.logistics_status?e.addwarehousForm.logistics_status="3":"问题件"==e.addwarehousForm.logistics_status&&(e.addwarehousForm.logistics_status="4");var a={supplier_id:e.addwarehousForm.supplier_id,i_order_no:e.addwarehousForm.i_order_no,order_goods:e.addwarehousForm.order_goods,total_price:e.addwarehousForm.total_price,audit_user:e.addwarehousForm.audit_user,audit_time:e.addwarehousForm.audit_time,pay_user:e.addwarehousForm.pay_user,pay_time:e.addwarehousForm.pay_time,agent:e.addwarehousForm.agent,logistics_no:e.addwarehousForm.logistics_no,logistics_providers:e.addwarehousForm.logistics_providers,logistics_status:e.addwarehousForm.logistics_status,logistics_price:e.addwarehousForm.logistics_price,pay_way:e.addwarehousForm.pay_way,is_pay:e.addwarehousForm.is_pay,order_no:e.addwarehousForm.order_no};v.addWare(a).then(function(t){1===t.code&&e.$message({message:"添加成功",type:"success"})}).catch(function(e){return!1})}})}}},je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{staticClass:"formList",attrs:{inline:!0,model:e.search,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"入库日期："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商名称："}},[a("el-select",{staticClass:"searchname",attrs:{placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.addwarehousForm.supplier_id,callback:function(t){e.$set(e.addwarehousForm,"supplier_id",t)},expression:"addwarehousForm.supplier_id"}},e._l(e.suppliers,function(e){return a("el-option",{key:e.supplier_name,attrs:{label:e.supplier_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"入库单号：",prop:"i_order_no"}},[a("el-input",{staticClass:"searchList",attrs:{placeholder:"入库单号",disabled:""},model:{value:e.addwarehousForm.i_order_no,callback:function(t){e.$set(e.addwarehousForm,"i_order_no",t)},expression:"addwarehousForm.i_order_no"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.wareSearch,expression:"wareSearch"}]},[a("el-form",{ref:"addwarehousForm",staticClass:"demo-form-inline addware",attrs:{inline:!0,model:e.addwarehousForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"供应商地址：",prop:"supplier_address"}},[a("el-input",{attrs:{placeholder:"供应商地址",disabled:"","auto-complete":"off"},model:{value:e.supplier_address,callback:function(t){e.supplier_address=t},expression:"supplier_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商联系人：",prop:"supplier_contact_people"}},[a("el-input",{attrs:{placeholder:"供应商联系人",disabled:"","auto-complete":"off"},model:{value:e.supplier_contact_people,callback:function(t){e.supplier_contact_people=t},expression:"supplier_contact_people"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商电话：",prop:"supplier_phone"}},[a("el-input",{attrs:{placeholder:"供应商电话",disabled:"","auto-complete":"off"},model:{value:e.supplier_phone,callback:function(t){e.supplier_phone=t},expression:"supplier_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料编码：",prop:"material_code"}},[a("el-input",{attrs:{placeholder:"物料编码","auto-complete":"off"},model:{value:e.addwarehousForm.material_code,callback:function(t){e.$set(e.addwarehousForm,"material_code",t)},expression:"addwarehousForm.material_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品编码：",prop:"goods_cpk"}},[a("el-input",{attrs:{placeholder:"商品编码","auto-complete":"off"},model:{value:e.addwarehousForm.goods_cpk,callback:function(t){e.$set(e.addwarehousForm,"goods_cpk",t)},expression:"addwarehousForm.goods_cpk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称：",prop:"goods_name"}},[a("el-input",{attrs:{placeholder:"商品名称","auto-complete":"off"},model:{value:e.addwarehousForm.goods_name,callback:function(t){e.$set(e.addwarehousForm,"goods_name",t)},expression:"addwarehousForm.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品型号：",prop:"goods_model"}},[a("el-input",{attrs:{placeholder:"商品型号","auto-complete":"off"},model:{value:e.addwarehousForm.goods_model,callback:function(t){e.$set(e.addwarehousForm,"goods_model",t)},expression:"addwarehousForm.goods_model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品进货单价：",prop:"goods_price"}},[a("el-input",{attrs:{placeholder:"商品进货单价","auto-complete":"off"},model:{value:e.addwarehousForm.goods_price,callback:function(t){e.$set(e.addwarehousForm,"goods_price",t)},expression:"addwarehousForm.goods_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品数量：",prop:"goods_number"}},[a("el-input",{attrs:{placeholder:"商品数量","auto-complete":"off"},model:{value:e.addwarehousForm.goods_number,callback:function(t){e.$set(e.addwarehousForm,"goods_number",t)},expression:"addwarehousForm.goods_number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品总价：",prop:"total_price"}},[a("el-input",{attrs:{placeholder:"商品总价","auto-complete":"off"},model:{value:e.addwarehousForm.total_price,callback:function(t){e.$set(e.addwarehousForm,"total_price",t)},expression:"addwarehousForm.total_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合计金额：",prop:"total_price"}},[a("el-input",{attrs:{placeholder:"合计金额","auto-complete":"off"},model:{value:e.addwarehousForm.total_price,callback:function(t){e.$set(e.addwarehousForm,"total_price",t)},expression:"addwarehousForm.total_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批人：",prop:"audit_user"}},[a("el-input",{attrs:{placeholder:"审批人","auto-complete":"off"},model:{value:e.addwarehousForm.audit_user,callback:function(t){e.$set(e.addwarehousForm,"audit_user",t)},expression:"addwarehousForm.audit_user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批时间：",prop:"audit_time"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addwarehousForm.audit_time,callback:function(t){e.$set(e.addwarehousForm,"audit_time",t)},expression:"addwarehousForm.audit_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算人：",prop:"pay_user"}},[a("el-input",{attrs:{placeholder:"结算人","auto-complete":"off"},model:{value:e.addwarehousForm.pay_user,callback:function(t){e.$set(e.addwarehousForm,"pay_user",t)},expression:"addwarehousForm.pay_user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算时间：",prop:"pay_time"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addwarehousForm.pay_time,callback:function(t){e.$set(e.addwarehousForm,"pay_time",t)},expression:"addwarehousForm.pay_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经办人：",prop:"agent"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addwarehousForm.agent,callback:function(t){e.$set(e.addwarehousForm,"agent",t)},expression:"addwarehousForm.agent"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.username,attrs:{label:e.username,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"物流单号：",prop:"logistics_no"}},[a("el-input",{attrs:{placeholder:"物流单号","auto-complete":"off"},on:{change:e.gettrackNum},model:{value:e.addwarehousForm.logistics_no,callback:function(t){e.$set(e.addwarehousForm,"logistics_no",t)},expression:"addwarehousForm.logistics_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物流供应商：",prop:"logistics_providers"}},[a("el-input",{attrs:{placeholder:"物流供应商",disabled:"","auto-complete":"off"},model:{value:e.addwarehousForm.logistics_providers,callback:function(t){e.$set(e.addwarehousForm,"logistics_providers",t)},expression:"addwarehousForm.logistics_providers"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物流状态：",prop:"logistics_status"}},[a("el-input",{attrs:{placeholder:"物流状态",disabled:"","auto-complete":"off"},model:{value:e.addwarehousForm.logistics_status,callback:function(t){e.$set(e.addwarehousForm,"logistics_status",t)},expression:"addwarehousForm.logistics_status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物流费用：",prop:"logistics_price"}},[a("el-input",{attrs:{placeholder:"物流费用","auto-complete":"off"},model:{value:e.addwarehousForm.logistics_price,callback:function(t){e.$set(e.addwarehousForm,"logistics_price",t)},expression:"addwarehousForm.logistics_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式：",prop:"pay_way"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addwarehousForm.pay_way,callback:function(t){e.$set(e.addwarehousForm,"pay_way",t)},expression:"addwarehousForm.pay_way"}},e._l(e.payWay,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否支付：",prop:"is_pay"}},[a("el-radio-group",{model:{value:e.addwarehousForm.is_pay,callback:function(t){e.$set(e.addwarehousForm,"is_pay",t)},expression:"addwarehousForm.is_pay"}},[a("el-radio",{attrs:{label:"1"}},[e._v("已支付")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("未支付")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"desc"}},[a("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.addwarehousForm.desc,callback:function(t){e.$set(e.addwarehousForm,"desc",t)},expression:"addwarehousForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addwarhousForm")}},nativeOn:{click:function(t){e.addwarehousVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addwarehousSubmit(t)}}},[e._v("提交")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"name","min-width":"100",align:"center",label:"序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Ee=a("VU/8")(De,je,!1,function(e){a("dLI3")},"data-v-5d7e6a65",null).exports,Ve={data:function(){return{tableData:[],page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:""}},created:function(){},methods:{formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"sn","min-width":"100",align:"center",label:"序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"f_code",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_key","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"h_name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_number",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"f_code",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_key","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"备注",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(Ve,Ie,!1,function(e){a("BzeE")},"data-v-93193ea0",null).exports,Ae={data:function(){return{tableData:[],page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:""}},created:function(){},methods:{formatter:function(){console.log("我是查询")},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()},chooseTimeRange:function(){}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"sn","min-width":"100",align:"center",label:"序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"f_code",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_key","min-width":"120",align:"center",label:"商品编码",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"h_name",align:"center",label:"型号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_number",align:"center",label:"单价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"f_code",label:"数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_key","min-width":"120",align:"center",label:"总价",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"备注",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Re=a("VU/8")(Ae,Oe,!1,function(e){a("IrbW")},"data-v-578bdf7a",null).exports,Ne={data:function(){return{listLoading:!1,starLevel:[],addFormVisible:!1,editFormVisible:!1,addForm:{supplier_name:"",supplier_address:"",supplier_contact_people:"",supplier_phone:""},addFormRules:{supplier_name:[{required:!0,message:"请输入供应商名称",trigger:"change"}],supplier_address:[{required:!0,message:"请输入地址",trigger:"change"}],supplier_contact_people:[{required:!0,message:"请输入供应商联系人",trigger:"change"}],supplier_phone:[{required:!0,message:"请输入供应商电话",trigger:"change"}]},editForm:{id:"",supplier_name:"",supplier_address:"",supplier_contact_people:"",supplier_phone:""},editFormRules:{supplier_name:[{required:!0,message:"请输入供应商名称",trigger:"change"}],supplier_address:[{required:!0,message:"请输入地址",trigger:"change"}],supplier_contact_people:[{required:!0,message:"请输入供应商联系人",trigger:"change"}],supplier_phone:[{required:!0,message:"请输入供应商电话",trigger:"change"}]}}},created:function(){this.supplierdata()},methods:{supplierdata:function(){var e=this;v.supplierList({}).then(function(t){1===t.code&&(e.starLevel=t.data)}).catch(function(e){return!1})},addSupplier:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={supplier_name:e.addForm.supplier_name,supplier_address:e.addForm.supplier_address,supplier_contact_people:e.addForm.supplier_contact_people,supplier_phone:e.addForm.supplier_phone};v.addSuppliers(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.supplierdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm.id=t.id,this.editForm.supplier_name=t.supplier_name,this.editForm.supplier_address=t.supplier_address,this.editForm.supplier_contact_people=t.supplier_contact_people,this.editForm.supplier_phone=t.supplier_phone},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.editForm.id,supplier_name:e.editForm.supplier_name,supplier_address:e.editForm.supplier_address,supplier_contact_people:e.editForm.supplier_contact_people,supplier_phone:e.editForm.supplier_phone};v.editSuppliers(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.supplierdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delSuppliers(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.supplierdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addSupplier}},[e._v("新增供应商")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.starLevel,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"供应商id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier_name",label:"供应商名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier_address",label:"供应商地址",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier_contact_people",label:"供应商联系人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier_phone",label:"供应商电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑供应商",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"供应商名称：",prop:"supplier_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商名称"},model:{value:e.editForm.supplier_name,callback:function(t){e.$set(e.editForm,"supplier_name",t)},expression:"editForm.supplier_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商地址：",prop:"supplier_address"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商地址"},model:{value:e.editForm.supplier_address,callback:function(t){e.$set(e.editForm,"supplier_address",t)},expression:"editForm.supplier_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商联系人：",prop:"supplier_contact_people"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商联系人"},model:{value:e.editForm.supplier_contact_people,callback:function(t){e.$set(e.editForm,"supplier_contact_people",t)},expression:"editForm.supplier_contact_people"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商联系电话：",prop:"supplier_phone"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商联系电话"},model:{value:e.editForm.supplier_phone,callback:function(t){e.$set(e.editForm,"supplier_phone",t)},expression:"editForm.supplier_phone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增供应商",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"供应商名称：",prop:"supplier_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商名称"},model:{value:e.addForm.supplier_name,callback:function(t){e.$set(e.addForm,"supplier_name",t)},expression:"addForm.supplier_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商地址：",prop:"supplier_address"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商地址"},model:{value:e.addForm.supplier_address,callback:function(t){e.$set(e.addForm,"supplier_address",t)},expression:"addForm.supplier_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商联系人：",prop:"supplier_contact_people"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商联系人"},model:{value:e.addForm.supplier_contact_people,callback:function(t){e.$set(e.addForm,"supplier_contact_people",t)},expression:"addForm.supplier_contact_people"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商联系电话：",prop:"supplier_phone"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入供应商联系电话"},model:{value:e.addForm.supplier_phone,callback:function(t){e.$set(e.addForm,"supplier_phone",t)},expression:"addForm.supplier_phone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(Ne,Ge,!1,function(e){a("9hcw")},"data-v-3c4e5c04",null).exports;var Me={data:function(){return{listLoading:!1,department:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入部门名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入部门名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"department"}).then(function(t){1===t.code&&(e.department=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"department",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"department",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("部门")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.department,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"业主名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑部门",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"部门名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入部门名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建部门",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"部门名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入部门名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(Me,We,!1,function(e){a("RVlj")},"data-v-2cc0c7ad",null).exports;var Be={data:function(){return{listLoading:!1,paymentType:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入类别名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入类别名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"payment_type"}).then(function(t){1===t.code&&(e.paymentType=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"payment_type",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"payment_type",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("支出类别")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.paymentType,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"类别名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑支出类别",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入类别名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建支出类别",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入类别名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(Be,Ke,!1,function(e){a("Torr")},"data-v-92505742",null).exports;var He=a("95YI"),Qe=a.n(He),Je={components:{VDistpicker:Qe.a},data:function(){var e;return e={Upload:"",activeNames:["1"],id:"",file:"",tableData:[],addFormVisible:!1,listLoading:!1,uploadLoading:!1,showModel:!1,time1:"",time2:"",supplier_id:"",supplier_contact_people:"",supplier_phone:"",value1:"",search:{user:""},value:"",payWay:[{value:"1",label:"微信"},{value:"2",label:"支付宝"},{value:"3",label:"建行"},{value:"4",label:"线下"}],addLoading:!1,approvalRules:{department:[{required:!0,message:"请选择部门",trigger:"change"}],applicant:[{required:!0,message:"请输入申请人",trigger:"change"}],payment_type:[{required:!0,message:"请选择支出类别",trigger:"change"}],application_date:[{required:!0,message:"请输入申请日期",trigger:"change"}],payee:[{required:!0,message:"请输入收款人",trigger:"change"}],collection_account:[{required:!0,message:"请输入收款账户",trigger:"change"}],bank:[{required:!0,message:"请输入开户行",trigger:"change"}],payment_amount:[{required:!0,message:"请输入小写金额",trigger:"change"}],payment_amount_capitalized:[{required:!0,message:"请输入大写金额",trigger:"change"}]},approvalList:{supplier_id:"",department:"",applicant:"",payment_type:"",application_date:"",payee:"",collection_account:"",bank:"",payment_amount:"",payment_amount_capitalized:"",promotional_use:"",project_name:"",project_id:"",payment_reason:"",yjfzr:"",cw:"",bmfzr:"",cwfzr:"",ceo:"沈雨薇",contract_files:[],list_files:[],goods:[],material_code:"",goods_cpk:"",goods_name:"",goods_model:"",goods_price:"",goods_number:"",total_price:"",desc:""},goods:{material_code:"",goods_cpk:"",goods_name:"",goods_model:"",goods_price:"",goods_number:"",total_price:"",desc:""},pageSize:10,page:1,total:0,goods_number:1,supplier_address:"",suppliers:[],agentsLists:[],departments:[],paymenttypes:[],goodsList:[],multipleSelection:[],fileList1:[],fileList:[]},m()(e,"uploadLoading",!1),m()(e,"uploadLoading2",!1),m()(e,"videoUploadPercent",0),m()(e,"heTong",[]),e},created:function(){this.supplierList(),this.agentsList(),this.departmentsList(),this.paymenttypesList()},computed:{},methods:{getSummaries:function(e){var t=e.columns,a=e.data,i=[],o=[];return t.forEach(function(e,t){0!==t?(o="total_price"===e.property?a.map(function(e){return Number(e.goods_number*e.goods_price)}):a.map(function(e){return Number(e.goods_price)}),"total_price"==e.property||"goods_price"==e.property?(i[t]=o.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0),i[t]):i[t]="--"):i[t]="合计"}),i},handleNumChange:function(e,t){for(var a=0;a<this.multipleSelection.length;a++)this.multipleSelection[a].id==e&&(this.multipleSelection[a].goods_number=t,this.multipleSelection[a].total_price=t*this.multipleSelection[a].goods_price)},renderHeader:function(e){var t=this;return e("div",{style:"text-align:center;"},[e("el-button",{attrs:{type:"success",plain:!0,size:"mini"},on:{click:function(){return t.exportExcel()}}},[e("i",{class:"el-icon-plus"})])])},exportExcel:function(){this.addFormVisible=!0},handleSelectionChange:function(e){this.multipleSelection=e},handleChange1:function(){console.log("折叠改变触发事件")},changeSelect:function(e){var t=this,a=this;this.supplier_address="";for(var i=0;i<this.suppliers.length;i++)e==this.suppliers[i].id&&(this.supplier_address=this.suppliers[i].supplier_address,this.supplier_contact_people=this.suppliers[i].supplier_contact_people,this.supplier_phone=this.suppliers[i].supplier_phone);var o={page:this.page,per_page:this.pageSize,supplier_id:e};v.suppliergoodsList(o).then(function(e){if(1===e.code){for(var i=e.data.data,o=0;o<i.length;o++)if(0!==a.multipleSelection.length)for(var s=0;s<a.multipleSelection.length;s++)i[o].id==a.multipleSelection[s].id?(i[o].goods_number,a.multipleSelection[s].goods_number,i[o].total_price,a.multipleSelection[s].goods_number,a.multipleSelection[s].goods_price):(i[o].goods_number=1,i[o].total_price=a.multipleSelection[s].goods_price);else i[o].goods_number=1,i[o].total_price=i[o].goods_price;t.goodsList=i,t.total=e.data.total}}).catch(function(e){return!1})},changeType:function(e){this.showModel="1"==e},departmentsList:function(){var e=this;v.departmentList({}).then(function(t){1===t.code&&(e.departments=t.data)}).catch(function(e){return!1})},paymenttypesList:function(){var e=this;v.paymentTypeList({}).then(function(t){1===t.code&&(e.paymenttypes=t.data)}).catch(function(e){return!1})},supplierList:function(){var e=this;v.supplierList({}).then(function(t){1===t.code&&(e.suppliers=t.data)}).catch(function(e){return!1})},agentsList:function(){var e=this;v.agentList({}).then(function(t){1===t.code&&(e.agentsLists=t.data)}).catch(function(e){return!1})},addwarehousSubmit:function(){var e=this;this.$refs.approvalList.validate(function(t){if(t){var a=e;e.approvalList.goods=e.multipleSelection;var i={supplier_id:e.approvalList.supplier_id,department:e.approvalList.department,applicant:e.approvalList.applicant,application_date:e.approvalList.application_date,payee:e.approvalList.payee,collection_account:e.approvalList.collection_account,bank:e.approvalList.bank,payment_amount:e.approvalList.payment_amount,payment_amount_capitalized:e.approvalList.payment_amount_capitalized,payment_type:e.approvalList.payment_type,contract_files:x()(a.fileList1),list_files:x()(a.fileList),project_name:e.approvalList.project_name,promotional_use:e.approvalList.promotional_use,yjfzr:e.approvalList.yjfzr,cw:e.approvalList.cw,bmfzr:e.approvalList.bmfzr,cwfzr:e.approvalList.cwfzr,ceo:e.approvalList.ceo,goods:x()(e.multipleSelection)};v.addApprolierList(i).then(function(t){1===t.code&&(e.$message({message:"添加成功",type:"success"}),e.$router.push({path:"/office/approvalManagement"}))}).catch(function(e){return!1})}})},handleCurrentChange:function(e){this.page=e,this.changeSelect()},handleSizeChange:function(e){this.pageSize=e,this.changeSelect()},handleChange:function(e){this.file=e.raw},uploaderror:function(e){if(this.file.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1},uploadMainImg:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),console.log(this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoUploadPercent=a,t.uploadLoading=!0}}).then(function(a){if(1===a.data.code){e.$message({message:"上传成功",type:"success"});[].push(a.data.data);var i={};i.name=e.file.name,i.file_url=a.data.data,t.fileList1.push(i),t.videoUploadPercent=0,t.uploadLoading=!1}else-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){reject(e)})},uploadMainImg1:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){if(1===a.data.code){e.$message({message:"上传成功",type:"success"});[].push(a.data.data);var i={};i.name=e.file.name,i.file_url=a.data.data,t.fileList.push(i),t.videoUploadPercent=0,t.uploadLoading2=!1}else-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){reject(e)})}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"添加请款单"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"approvalList",attrs:{model:e.approvalList,rules:e.approvalRules,"hide-required-asterisk":!0,"label-width":"140px"}},[a("el-collapse",{on:{change:e.handleChange1},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"请款单",name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("请款单")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"支出类别：",prop:"payment_type"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeType},model:{value:e.approvalList.payment_type,callback:function(t){e.$set(e.approvalList,"payment_type",t)},expression:"approvalList.payment_type"}},e._l(e.paymenttypes,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"部门：",prop:"department"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.department,callback:function(t){e.$set(e.approvalList,"department",t)},expression:"approvalList.department"}},e._l(e.departments,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"申请人：",prop:"applicant"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.applicant,callback:function(t){e.$set(e.approvalList,"applicant",t)},expression:"approvalList.applicant"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"申请日期：",prop:"application_date"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.approvalList.application_date,callback:function(t){e.$set(e.approvalList,"application_date",t)},expression:"approvalList.application_date"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"收款人/公司：",prop:"payee"}},[a("el-input",{attrs:{placeholder:"请输入收款人/公司"},model:{value:e.approvalList.payee,callback:function(t){e.$set(e.approvalList,"payee",t)},expression:"approvalList.payee"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"银行账号：",prop:"collection_account"}},[a("el-input",{attrs:{placeholder:"请输入银行账号"},model:{value:e.approvalList.collection_account,callback:function(t){e.$set(e.approvalList,"collection_account",t)},expression:"approvalList.collection_account"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"银行开户行：",prop:"bank"}},[a("el-input",{attrs:{placeholder:"请输入银行开户行"},model:{value:e.approvalList.bank,callback:function(t){e.$set(e.approvalList,"bank",t)},expression:"approvalList.bank"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"大写金额：",prop:"payment_amount_capitalized"}},[a("el-input",{attrs:{placeholder:"请输入大写金额"},model:{value:e.approvalList.payment_amount_capitalized,callback:function(t){e.$set(e.approvalList,"payment_amount_capitalized",t)},expression:"approvalList.payment_amount_capitalized"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"小写金额：",prop:"payment_amount"}},[a("el-input",{attrs:{placeholder:"请输入小写金额"},model:{value:e.approvalList.payment_amount,callback:function(t){e.$set(e.approvalList,"payment_amount",t)},expression:"approvalList.payment_amount"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"推广用途：",prop:"promotional_use"}},[a("el-input",{attrs:{placeholder:"请输入推广用途"},model:{value:e.approvalList.promotional_use,callback:function(t){e.$set(e.approvalList,"promotional_use",t)},expression:"approvalList.promotional_use"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目名称：",prop:"project_name"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.approvalList.project_name,callback:function(t){e.$set(e.approvalList,"project_name",t)},expression:"approvalList.project_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目ID：",prop:"project_id"}},[a("el-input",{attrs:{placeholder:"请输入项目ID"},model:{value:e.approvalList.project_id,callback:function(t){e.$set(e.approvalList,"project_id",t)},expression:"approvalList.project_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"转款原因：",prop:"payment_reason"}},[a("el-input",{attrs:{placeholder:"请输入转款原因"},model:{value:e.approvalList.payment_reason,callback:function(t){e.$set(e.approvalList,"payment_reason",t)},expression:"approvalList.payment_reason"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"一级负责审批人：",prop:"yjfzr"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.yjfzr,callback:function(t){e.$set(e.approvalList,"yjfzr",t)},expression:"approvalList.yjfzr"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"财务审批：",prop:"cw"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.cw,callback:function(t){e.$set(e.approvalList,"cw",t)},expression:"approvalList.cw"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"部门负责人审批：",prop:"bmfzr"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.bmfzr,callback:function(t){e.$set(e.approvalList,"bmfzr",t)},expression:"approvalList.bmfzr"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"财务负责人审批：",prop:"cwfzr"}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.cwfzr,callback:function(t){e.$set(e.approvalList,"cwfzr",t)},expression:"approvalList.cwfzr"}},e._l(e.agentsLists,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"CEO审批：",prop:"ceo"}},[a("el-input",{attrs:{placeholder:"请输入CEO名称"},model:{value:e.approvalList.ceo,callback:function(t){e.$set(e.approvalList,"ceo",t)},expression:"approvalList.ceo"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"合同附件："}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","on-change":e.handleChange,"before-upload":e.uploaderror,"http-request":e.uploadMainImg,multiple:"","show-file-list":!0,"file-list":e.fileList1}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading}},[e._v("点击上传")])],1)],1),a("br"),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"清单附件："}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","on-change":e.handleChange,"before-upload":e.uploaderror,"http-request":e.uploadMainImg1,multiple:"","show-file-list":!0,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading}},[e._v("点击上传")])],1)],1)],1)],2)],1),e._v(" "),a("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.showModel,expression:"showModel"}],on:{change:e.handleChange1},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"供应商信息",name:"供应商信息"}},[a("template",{slot:"title"},[a("h3",[e._v("供应商信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"供应商名称："}},[a("el-select",{staticClass:"searchname",attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.approvalList.supplier_id,callback:function(t){e.$set(e.approvalList,"supplier_id",t)},expression:"approvalList.supplier_id"}},e._l(e.suppliers,function(e){return a("el-option",{key:e.supplier_name,attrs:{label:e.supplier_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"供应商地址：",prop:"supplier_address"}},[a("el-input",{attrs:{placeholder:"供应商地址",disabled:"","auto-complete":"off"},model:{value:e.supplier_address,callback:function(t){e.supplier_address=t},expression:"supplier_address"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"供应商联系人：",prop:"supplier_contact_people"}},[a("el-input",{attrs:{placeholder:"供应商联系人",disabled:"","auto-complete":"off"},model:{value:e.supplier_contact_people,callback:function(t){e.supplier_contact_people=t},expression:"supplier_contact_people"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"供应商电话：",prop:"supplier_phone"}},[a("el-input",{attrs:{placeholder:"供应商电话",disabled:"","auto-complete":"off"},model:{value:e.supplier_phone,callback:function(t){e.supplier_phone=t},expression:"supplier_phone"}})],1),a("br")],1)],2)],1),e._v(" "),a("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.showModel,expression:"showModel"}],on:{change:e.handleChange1},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"申请列表",name:"申请列表"}},[a("template",{slot:"title"},[a("h3",[e._v("申请列表")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.multipleSelection,"summary-method":e.getSummaries,"show-summary":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{width:"100","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{prop:"id","min-width":"100",align:"center",label:"ID",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_spec","min-width":"120",align:"center",label:"商品规格",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.goods_spec,function(t,i){return a("p",{key:i},[e._v(e._s(i)+":"+e._s(t))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_number",label:"商品数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_cpk",label:"商品编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_model",label:"商品型号",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"material_code",label:"物料编码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_price","min-width":"50",align:"center",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",align:"center",label:"总价",sortable:""}})],1)],1)],2)],1),e._v(" "),a("div",{staticClass:"btnBox",staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addwarehousSubmit}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加商品",height:"30%",width:"70%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.goodsList,"text-align":"center",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"35"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id","min-width":"30",align:"center",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name","min-width":"50",label:"商品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"","min-width":"50",align:"center",label:"商品规格"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.goods_spec,function(t,i){return a("p",{key:i},[e._v(e._s(i)+":"+e._s(t))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_cpk",label:"商品编码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_model",label:"商品型号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"material_code",label:"物料编码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"商品数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{size:"mini",min:1,max:10,label:"描述文字"},on:{change:function(a){return e.handleNumChange(t.row.id,t.row.goods_number)}},model:{value:t.row.goods_number,callback:function(a){e.$set(t.row,"goods_number",a)},expression:"scope.row.goods_number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_price","min-width":"50",align:"center",label:"单价"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Xe=a("VU/8")(Je,Ye,!1,function(e){a("zD3N"),a("WJlz")},"data-v-b31414f4",null).exports,Ze={data:function(){return{listLoading:!1,activeNames:["1"],reverse:!0,detailList:{},info:{department:1,applicant:"",application_date:"",payee:"",collection_account:"",bank:"",payment_amount:"",payment_amount_capitalized:"",payment_type:3,promotional_use:"",project_name:"",project_id:"",payment_reason:"",approval_status:"",department_name:"",payment_type_name:"",payment_time:""},approval_log:[],contract_files:[],inbound_goods_list:[],list_files:[],projectDemand:[]}},created:function(){this.approvalDetails()},methods:{handleChange:function(){},approvalDetails:function(){var e=this,t={id:this.$route.query.id};v.approlierDetail(t).then(function(t){1==t.data.code&&(e.detailList=t.data.data,e.info=t.data.data.info,e.approval_log=t.data.data.approval_log,e.contract_files=t.data.data.contract_files,e.inbound_goods_list=t.data.data.inbound_goods_list,e.list_files=t.data.data.list_files)}).catch(function(t){return e.listLoading=!1,!1})},downContract:function(e){console.log(this.contract_files[e].file_url,44444444);var t=this.contract_files[e].file_url,a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",t),document.body.appendChild(a),a.click()},downfileList:function(e){console.log(this.contract_files[e].file_url,44444444);var t=this.contract_files[e].file_url,a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",t),document.body.appendChild(a),a.click()}}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"请款单详情"}},[a("el-form",{attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"申请人",prop:"applicant"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.applicant,callback:function(t){e.$set(e.info,"applicant",t)},expression:"info.applicant"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"申请日期",prop:"application_date"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.application_date,callback:function(t){e.$set(e.info,"application_date",t)},expression:"info.application_date"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"收款人/公司",prop:"payee"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payee,callback:function(t){e.$set(e.info,"payee",t)},expression:"info.payee"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"收款账户",prop:"collection_account"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.collection_account,callback:function(t){e.$set(e.info,"collection_account",t)},expression:"info.collection_account"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"开户行"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.bank,callback:function(t){e.$set(e.info,"bank",t)},expression:"info.bank"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"请款小写金额",prop:"payment_amount"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_amount,callback:function(t){e.$set(e.info,"payment_amount",t)},expression:"info.payment_amount"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"请款大写金额",prop:"payment_amount_capitalized"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_amount_capitalized,callback:function(t){e.$set(e.info,"payment_amount_capitalized",t)},expression:"info.payment_amount_capitalized"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"支出用处",prop:"promotional_use"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.promotional_use,callback:function(t){e.$set(e.info,"promotional_use",t)},expression:"info.promotional_use"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目id"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.project_id,callback:function(t){e.$set(e.info,"project_id",t)},expression:"info.project_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.project_name,callback:function(t){e.$set(e.info,"project_name",t)},expression:"info.project_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"请款原因"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_reason,callback:function(t){e.$set(e.info,"payment_reason",t)},expression:"info.payment_reason"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"请款状态",prop:"approval_status"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_reason,callback:function(t){e.$set(e.info,"payment_reason",t)},expression:"info.payment_reason"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"部门名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.department_name,callback:function(t){e.$set(e.info,"department_name",t)},expression:"info.department_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"支出类型名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_type_name,callback:function(t){e.$set(e.info,"payment_type_name",t)},expression:"info.payment_type_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"支出时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.info.payment_time,callback:function(t){e.$set(e.info,"payment_time",t)},expression:"info.payment_time"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"附件",name:"附件"}},[a("template",{slot:"title"},[a("h3",[e._v("附件")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{attrs:{label:"合同附件"}},e._l(e.contract_files,function(t,i){return a("div",{key:i},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downContract(i)}}},[a("i",{staticClass:"el-icon-download"},[e._v("下载")]),e._v("  \n                                        ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(t.file_url))])],1)}),0),e._v(" "),a("el-form-item",{attrs:{label:"清单附件"}},e._l(e.list_files,function(t,i){return a("div",{key:i},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downfileList(i)}}},[a("i",{staticClass:"el-icon-download"},[e._v("下载")]),e._v("  \n                                        ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(t.file_url))])],1)}),0)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"审核进度",name:"审核进度"}},[a("template",{slot:"title"},[a("h3",[e._v("审核进度")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",[a("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.approval_log,function(t,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t.created_at}},[e._v("\n                                    "+e._s(t.result_title)+"  "+e._s(t.reason)+"\n                                    ")])}),1)],1)],1)],2)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"入库单列表"}},[a("el-form",{attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"入库单列表",name:"1"}},[a("b",{attrs:{slot:"title"},slot:"title"},[e._v("\n                            入库单列表\n                        ")]),e._v(" "),a("div",{staticClass:"specItem"},[a("el-table",{staticStyle:{width:"99.9%"},attrs:{data:e.inbound_goods_list,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"material_code",label:"物料编码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_model",label:"商品类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_number",label:"商品数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_price",label:"商品单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"商品总价",align:"center"}})],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Ze,et,!1,function(e){a("T6c/")},"data-v-556a91aa",null).exports,at={data:function(){return{listLoading:!1,payment:[],page:1,pageSize:10,total:0,search:{name:""}}},created:function(){this.paymentrequestdata()},methods:{paymentrequestdata:function(){var e=this,t={page:this.page,per_page:this.pageSize};this.listLoading=!0,v.paymentrequestList(t).then(function(t){1===t.code&&(e.payment=t.data.data,e.total=t.data.total,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},searchApproval:function(){var e=this,t={searchKey:this.search.name,page:this.page,per_page:this.pageSize};this.listLoading=!0,v.paymentrequestList(t).then(function(t){1===t.code&&(e.payment=t.data.data,e.total=t.data.total,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},handleCurrentChange:function(e){this.page=e,this.paymentrequestdata()},handleSizeChange:function(e){this.pageSize=e,this.paymentrequestdata()},addSupplier:function(){this.$router.push({path:"/office/addApproval"})},handleDetail:function(e,t){this.$router.push({path:"/office/paymentDetail",query:{id:t.id}})},handlePermission:function(){},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delSuppliers(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.supplierdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchApproval}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addSupplier}},[e._v("添加请款单")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.payment,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"application_date",label:"日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department_name",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payment_type_name",label:"支出类别",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bank",label:"银行开户行",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applicant",label:"申请人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payment_amount",label:"金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handlePermission(t.$index,t.row)}}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ot=a("VU/8")(at,it,!1,function(e){a("5HmG")},"data-v-2f7dcdb3",null).exports,st={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    报损单\n")])},staticRenderFns:[]};a("VU/8")({},st,!1,function(e){a("I1ma")},"data-v-82b3bd38",null).exports;var rt={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    报溢单\n")])},staticRenderFns:[]};a("VU/8")({},rt,!1,function(e){a("A7od")},"data-v-e4c433b4",null).exports;var lt={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    请款单\n")])},staticRenderFns:[]};var nt=a("VU/8")({},lt,!1,function(e){a("nz34")},"data-v-4c9c14b3",null).exports,dt={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t默认设置\n")])},staticRenderFns:[]};a("VU/8")({data:function(){return{}}},dt,!1,function(e){a("igmG")},null,null).exports;var ct={data:function(){return{tableData:[],page:1,pageSize:10,total:0,listLoading:!1,time1:"",time2:"",value1:"",search:{name:""}}},created:function(){this.formatter()},methods:{formatter:function(){var e=this,t={page:this.page,per_page:this.pageSize,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.cubeList(t).then(function(t){1===t.code?(e.tableData=t.data.data,e.listLoading=!1):-2===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(e){})},activetampToTime:function(e,t){if(null==e.active_time)return!1;var a=new Date(1e3*e.active_time);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+(a.getDate()+" ")+(a.getHours()+":")+(a.getMinutes()+":")+a.getSeconds()},expiretampToTime:function(e,t){if(0==e.expire_time)return!1;var a=new Date(1e3*e.expire_time);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+(a.getDate()+" ")+(a.getHours()+":")+(a.getMinutes()+":")+a.getSeconds()},chooseTimeRange:function(e){null!=e?(this.time1=Math.round(e[0].getTime()/1e3),this.time2=Math.round(e[1].getTime()/1e3),this.formatter()):(this.time1="",this.time2="",this.formatter())},handleSizeChange:function(e){this.pageSize=e,this.formatter()},handleCurrentChange:function(e){this.page=e,this.formatter()}}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.formatter}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-date-picker",{attrs:{type:"daterange",size:"mini","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.chooseTimeRange},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,"text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"sn","min-width":"100",align:"center",label:"唯一序号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"f_code",label:"F码",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_key","min-width":"120",align:"center",label:"激活key",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_time","min-width":"100",align:"center",formatter:e.activetampToTime,label:"激活时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"expire_time","min-width":"100",align:"center",formatter:e.expiretampToTime,label:"激活有限期截止",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("未激活")]):1==t.row.status?a("span",[e._v("已激活")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",align:"center",label:"mac地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"h_name",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_number",align:"center",label:"房间号"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ut=a("VU/8")(ct,mt,!1,function(e){a("2xXA")},"data-v-d3a25aae",null).exports,pt={data:function(){return{search:{name:""},value1:"",tableData:[],listLoading:!1,addFormVisible:!1,addForm:{},addFormRules:[],pageSize:10,total:0,page:1,Schedule:[],time1:"",time2:""}},created:function(){this.orderList()},mounted:function(){},methods:{orderList:function(){var e=this,t={page:this.page,per_page:this.pageSize,searchKey:this.search.name,start_time:this.time1,end_time:this.time2};this.listLoading=!0,v.projectList(t).then(function(t){1===t.code&&(e.total=t.data.total,e.tableData=t.data.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1});v.webgetcommonsdata({class_type:"schedule"}).then(function(t){1===t.code&&(e.Schedule=t.data)}).catch(function(e){return!1})},details:function(e,t){this.$router.push({path:"/project/detailsList",query:{id:t.project_id}})},edit:function(e,t){this.$router.push({path:"/project/edittion",query:{id:t.project_id}})},deleteasd:function(e,t){var a=this;this.$confirm("确定要删除当前项目吗?","提示",{type:"warning"}).then(function(){var e={project_id:t.project_id};v.projectOrderDel(e).then(function(e){1===e.data.code&&(a.$message({message:"删除成功",type:"success"}),a.orderList())}).catch(function(e){return!1})})},Aftersale:function(e,t){},Advanced:function(){},addition:function(){this.$router.push({path:"/project/addition"})},handleSizeChange:function(e){this.pageSize=e,this.orderList()},handleCurrentChange:function(e){this.page=e,this.orderList()},chooseTimeRange:function(e){null!=e?(this.time1=Math.round(e[0].getTime()/1e3),this.time2=Math.round(e[1].getTime()/1e3),this.orderList()):(this.time1="",this.time2="",this.orderList())}}},gt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.orderList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.chooseTimeRange},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.Advanced}},[e._v("高级筛选")])],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addition}},[e._v("添加项目")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableData,border:"","tooltip-effect":"dark","text-align":"center","show-overflow-tooltip":!0}},[a("el-table-column",{attrs:{prop:"project_id",align:"center",label:"ID",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"项目名称",sortable:"","min-width":"360"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{margin:"0","text-align":"left"}},[e._v(e._s(t.row.project_name))]),e._v(" "),a("p",{staticStyle:{margin:"0","text-align":"left"}},[e._v(e._s(t.row.duotel_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"room_number",align:"center","min-width":"100",label:"房间数量",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"当前进度","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.Schedule,function(i){return a("div",{key:i.id},[t.row.schedule===i.id?a("p",[e._v(e._s(i.class_value))]):e._e()])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_manager","min-width":"120",align:"center",label:"项目经理"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.details(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.edit(t.$index,t.row)}}},[e._v("编辑")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"6px"}},[a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.deleteasd(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Aftersale(t.$index,t.row)}}},[e._v("售后")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ft=a("VU/8")(pt,gt,!1,function(e){a("olVT"),a("0n8a")},null,null).exports,_t={data:function(){var e;return e={addprojectVisible:!1,addLoading:!1,addFormRules:{project_id:[{required:!0,message:"请输入项目id",trigger:"change"}],duotel_id:[{required:!0,message:"请输入duotel_id",trigger:"change"}],order_no:[{required:!0,message:"请输入订单号",trigger:"change"}]},addprojectForm:{project_id:"",duotel_id:"",order_no:""},hideUpload:!1,Upload:"",activeNames:["1"],search:{name:""},detailList:{project_name:"",project_category:"",star_level:"",schedule:"",room_number:"",time:"",source:"",owner:"",brand:"",company:"",duotel_id:"",project_manager:"",expect_money:"",complete_money:"",template_room:"",bind_cube_room_number:"",address:""},value1:"",addFormVisible:!1,addForm:{catname:""},projectDraw:{project_name:""},projectOrder:{project_name:""},customerService:{project_name:""},Demand:[],templateDrawings:[],template_drawings:[],docking_user:[],listLoading:!1,goods_spec:"",goodsInfo:[],company_address:"",personal_address:"",projectCategory:[],starLevel:[],fileList:[],Schedul:[],fileList1:[],fileLists:[{name:"",url:""}],name:[],OrderList:[]},m()(e,"customerService",[]),m()(e,"Schedul",[]),m()(e,"name",[]),m()(e,"drawList",[]),m()(e,"file",""),m()(e,"file2",""),m()(e,"drawingsUrl",""),m()(e,"drawingsUrl2",""),m()(e,"drawingsName",""),m()(e,"drawingsName2",""),m()(e,"id",""),m()(e,"editFormVisible",!1),m()(e,"projectDemand",[]),m()(e,"projectDrawws",[]),m()(e,"getProject",[]),m()(e,"Source",[]),m()(e,"Owner",[]),m()(e,"uploadLoading",!1),m()(e,"uploadLoading2",!1),m()(e,"videoUploadPercent",0),e},created:function(){this.commonsData(),this.projectDetails(),this.projectDrawing(),this.projectOrderList()},methods:{selsChange:function(){},downDemand:function(e){var t=this.Demand[e],a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",t),document.body.appendChild(a),a.click()},downConstruction:function(e){var t=this.templateDrawings[e],a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",t),document.body.appendChild(a),a.click()},handleDown:function(e,t){var a=t.drawings_url,i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",a),document.body.appendChild(i),i.click()},projectDetails:function(){var e=this,t={project_id:this.$route.query.id};this.listLoading=!0,v.projectDetails(t).then(function(t){if(1===t.code){e.detailList=t.data;for(var a=0;a<t.data.demand.length;a++){var i=t.data.demand[a].split("/")[3].split("_")[0];e.projectDemand.push(i)}for(var o=0;o<t.data.template_drawings.length;o++){var s=t.data.template_drawings[o].split("/")[3].split("_")[0];e.projectDrawws.push(s)}e.Demand=e.detailList.demand,e.templateDrawings=e.detailList.template_drawings,e.detailList.docking_user=t.data.docking_user;for(o=0;o<e.detailList.docking_user.length;o++)e.name.push(e.detailList.docking_user[o].name);e.listLoading=!1}}).catch(function(t){return e.listLoading=!1,!1})},projectOrderList:function(){var e=this,t={project_id:this.$route.query.id};this.listLoading=!0,v.projectOrder(t).then(function(t){1===t.code&&(e.OrderList=t.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},projectorderList:function(){this.addprojectVisible=!0,this.addprojectForm.project_id=this.detailList.project_id,this.addprojectForm.duotel_id=this.detailList.duotel_id},addprojectSubmit:function(){var e=this;this.$refs.addprojectForm.validate(function(t){t&&(e.addLoading=!0,v.addprojectOrder(e.addprojectForm).then(function(t){1===t.data.code?(e.$message({message:"新增成功",type:"success"}),e.$refs.addprojectForm.resetFields(),e.addprojectVisible=!1,e.projectOrderList()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){}))})},handleorderDel:function(e,t){var a=this;this.$confirm("确定要删除当前订单吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};a.listLoading=!0,v.delprojectOrder(e).then(function(e){1===e.code&&(a.projectOrderList(),a.listLoading=!1)}).catch(function(e){return a.listLoading=!1,!1})})},addList:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;if(""==this.drawingsUrl)return!1;var t={project_id:this.$route.query.id,drawings_name:this.drawingsName,drawings_url:this.drawingsUrl};v.addProjectDrawings(t).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.projectDrawing(),e.$refs.upload.clearFiles()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},cancel:function(e){this.addFormVisible=!1,this.$refs.upload.clearFiles()},projectDrawing:function(){var e=this,t={project_id:this.$route.query.id};this.listLoading=!0,v.projectDrawing(t).then(function(t){1===t.code&&(e.drawList=t.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前图纸吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delProjectDrawings(e).then(function(e){1===e.data.code&&(a.$message({message:"删除成功",type:"success"}),a.projectDrawing())}).catch(function(e){return!1})})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.fileLists[0].name=t.drawings_name,this.fileLists[0].url=t.drawings_url},editSubmit:function(){var e=this;if(""==this.drawingsUrl2)return!1;var t={id:this.id,project_id:this.$route.query.id,drawings_name:this.drawingsName2,drawings_url:this.drawingsUrl2};v.editProjectDrawings(t).then(function(t){1===t.data.code&&(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.projectDrawing())}).catch(function(e){return!1})},handleChange:function(e,t){this.file=e.raw;for(var a=0;a<t.length;a++)this.drawingsName=t[a].name},uploadMainImg:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoUploadPercent=a,t.uploadLoading=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.drawingsUrl=a.data.data,t.uploadLoading=!1):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},handleChange2:function(e,t){this.file2=e.raw;for(var a=0;a<t.length;a++)this.drawingsName2=t[a].name},uploadMainImg2:function(){var e=this,t=this,a=new FormData;a.append("file",this.file2),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.drawingsUrl2=a.data.data,console.log(t.drawingsUrl2,8888888),t.videoUploadPercent=0,t.uploadLoading2=!1):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},commonsData:function(){var e=this;v.getProjectBrand().then(function(t){1===t.code&&(e.getProject=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_category"}).then(function(t){1===t.code?e.projectCategory=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1});v.webgetcommonsdata({class_type:"project_source"}).then(function(t){1===t.code?e.Source=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1});v.webgetcommonsdata({class_type:"project_owner"}).then(function(t){1===t.code?e.Owner=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1});v.webgetcommonsdata({class_type:"star_level"}).then(function(t){1===t.code?e.starLevel=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1});v.webgetcommonsdata({class_type:"schedule"}).then(function(t){1===t.code?e.Schedul=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"项目详情"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.project_name,callback:function(t){e.$set(e.detailList,"project_name",t)},expression:"detailList.project_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目来源",prop:"source"}},e._l(e.Source,function(t){return a("div",{key:t.id},[e.detailList.source===t.id?a("el-input",{model:{value:t.class_value,callback:function(a){e.$set(t,"class_value",a)},expression:"item.class_value"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目类别",prop:"project_category"}},e._l(e.projectCategory,function(t){return a("div",{key:t.id},[e.detailList.project_category===t.id?a("el-input",{model:{value:t.class_value,callback:function(a){e.$set(t,"class_value",a)},expression:"item.class_value"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"Duotel ID"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.duotel_id,callback:function(t){e.$set(e.detailList,"duotel_id",t)},expression:"detailList.duotel_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目规模",prop:"star_level"}},e._l(e.starLevel,function(t){return a("div",{key:t.id},[e.detailList.star_level===t.id?a("el-input",{model:{value:t.class_value,callback:function(a){e.$set(t,"class_value",a)},expression:"item.class_value"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.time,callback:function(t){e.$set(e.detailList,"time",t)},expression:"detailList.time"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目品牌",prop:"brand"}},e._l(e.getProject,function(t){return a("div",{key:t.id},[e.detailList.brand===t.id?a("el-input",{model:{value:t.project_brand_name,callback:function(a){e.$set(t,"project_brand_name",a)},expression:"item.project_brand_name"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目业主",prop:"owner"}},e._l(e.Owner,function(t){return a("div",{key:t.id},[e.detailList.owner===t.id?a("el-input",{model:{value:t.class_value,callback:function(a){e.$set(t,"class_value",a)},expression:"item.class_value"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"管理公司"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.company,callback:function(t){e.$set(e.detailList,"company",t)},expression:"detailList.company"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目管理",name:"项目管理"}},[a("template",{slot:"title"},[a("h3",[e._v("项目管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"客房数量"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.room_number,callback:function(t){e.$set(e.detailList,"room_number",t)},expression:"detailList.room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目经理"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.project_manager,callback:function(t){e.$set(e.detailList,"project_manager",t)},expression:"detailList.project_manager"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"预计金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.expect_money,callback:function(t){e.$set(e.detailList,"expect_money",t)},expression:"detailList.expect_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"成交金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.complete_money,callback:function(t){e.$set(e.detailList,"complete_money",t)},expression:"detailList.complete_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目进度",prop:"schedule"}},e._l(e.Schedul,function(t){return a("div",{key:t.id},[e.detailList.schedule===t.id?a("el-input",{model:{value:t.class_value,callback:function(a){e.$set(t,"class_value",a)},expression:"item.class_value"}}):e._e()],1)}),0),e._v(" "),a("el-form-item",{attrs:{label:"项目需求"}},e._l(e.projectDemand,function(t,i){return a("div",{key:i},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downDemand(i)}}},[a("i",{staticClass:"el-icon-download"},[e._v("下载")]),e._v("  \n                                            ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(t))])],1)}),0)],1)],2)],1),e._v(" "),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"工程管理",name:"工程管理"}},[a("template",{slot:"title"},[a("h3",[e._v("工程管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",staticStyle:{width:"100%"},attrs:{label:"项目地址"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.address,callback:function(t){e.$set(e.detailList,"address",t)},expression:"detailList.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间数量",prop:"template_room"}},[a("el-input",{model:{value:e.detailList.template_room,callback:function(t){e.$set(e.detailList,"template_room",t)},expression:"detailList.template_room"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间完成数",prop:"template_room_complete",readonly:""}},[a("el-input",{model:{value:e.detailList.template_room_complete,callback:function(t){e.$set(e.detailList,"template_room_complete",t)},expression:"detailList.template_room_complete"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工总数量",prop:"construction_room_number"}},[a("el-input",{model:{value:e.detailList.construction_room_number,callback:function(t){e.$set(e.detailList,"construction_room_number",t)},expression:"detailList.construction_room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工完成数",prop:"bind_cube_room_number"}},[a("el-input",{model:{value:e.detailList.bind_cube_room_number,callback:function(t){e.$set(e.detailList,"bind_cube_room_number",t)},expression:"detailList.bind_cube_room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目地址"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.address,callback:function(t){e.$set(e.detailList,"address",t)},expression:"detailList.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"进场时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailList.arrival_time,callback:function(t){e.$set(e.detailList,"arrival_time",t)},expression:"detailList.arrival_time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工程图纸"}},e._l(e.projectDrawws,function(t,i){return a("div",{key:i},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downConstruction(i)}}},[a("i",{staticClass:"el-icon-download"},[e._v("下载")]),e._v("  \n                                            ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(t))])],1)}),0)],2)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"联系人信息"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},e._l(e.detailList.docking_user,function(t,i){return a("el-collapse",{key:i,model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:t.name,name:"1"}},[a("b",{attrs:{slot:"title"},slot:"title"},[e._v("\n                                "+e._s(t.name)+" \n                            ")]),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名",readonly:""},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"v.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话",readonly:""},model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"v.phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"职位"}},[a("el-input",{attrs:{placeholder:"请输入职位",readonly:""},model:{value:t.position,callback:function(a){e.$set(t,"position",a)},expression:"v.position"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注",readonly:""},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"v.desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",readonly:""},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"v.email"}})],1),e._v(" "),a("div",{staticClass:"gline"})],1)])],1)}),1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"项目图纸"}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("新增项目图纸")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.drawList,"highlight-current-row":"",border:"",align:"center"}},[a("el-table-column",{attrs:{prop:"drawings_name",label:"图纸名称",width:"280",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"上传时间",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_by",label:"上传人",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleDown(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增项目图纸",visible:e.addFormVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"creactivit",attrs:{"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","http-request":e.uploadMainImg,"on-change":e.handleChange,multiple:"","show-file-list":!0,"file-list":e.fileList1}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading}},[e._v("点击上传")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancel("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑图纸",visible:e.editFormVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{staticClass:"creactivit",attrs:{"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","http-request":e.uploadMainImg2,"on-change":e.handleChange2,multiple:"","show-file-list":!0,"file-list":e.fileLists}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading2}},[e._v("点击上传")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("editForm")}},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"项目订单"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.projectOrder,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.projectorderList}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.OrderList,"highlight-current-row":"",border:"",align:"center"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"project_id",label:"订单ID",width:"280",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_no",label:"订单编号",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_by",label:"下单人",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"下单时间",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleorderDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增订单",visible:e.addprojectVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.addprojectVisible=t}}},[a("el-form",{ref:"addprojectForm",staticClass:"creactivit",attrs:{model:e.addprojectForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"order_no"}},[a("el-input",{attrs:{placeholder:"订单号","auto-complete":"off"},model:{value:e.addprojectForm.order_no,callback:function(t){e.$set(e.addprojectForm,"order_no",t)},expression:"addprojectForm.order_no"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addprojectForm")}},nativeOn:{click:function(t){e.addprojectVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addprojectSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var vt,bt=a("VU/8")(_t,ht,!1,function(e){a("LQ8X"),a("9R9n")},"data-v-1b86ea20",null).exports,yt={components:{VDistpicker:Qe.a},data:function(){var e,t;return t={Upload:"",activeNames:"",bb:{},dataList:{project_names:"",project_category:"",star_levels:"",room_numbers:"",times:"",sources:"",owner:"",brand:"",demands:"",companys:"",duotel_ids:"",project_managers:"",expect_moneys:"",complete_moneys:"",template_rooms:"",construction_room_numbers:"",bind_cube_room_numbers:"",addresss:"",phones:"",names:"",positions:"",descs:"",emails:"",Schedules:"",template_room_complete:""},dataListRules:(e={project_names:[{required:!0,message:"请输入项目名称",trigger:"change"}],project_category:[{required:!0,message:"请输入项目类别",trigger:"change"}],room_numbers:[{required:!0,message:"请输入房间号码",trigger:"change"}],star_levels:[{required:!0,message:"请输入项目规模",trigger:"change"}],demands:[{required:!0,message:"请输入项目需要",trigger:"change"}],times:[{required:!0,message:"请输入项目时间",trigger:"change"}],sources:[{required:!0,message:"请输入项目来源",trigger:"change"}],owner:[{required:!0,message:"请输入项目业主",trigger:"change"}],template_rooms:[{required:!0,message:"请输入项目样板间",trigger:"change"}],brand:[{required:!0,message:"请输入项目品牌",trigger:"change"}],schedules:[{required:!0,message:"请输入项目进程",trigger:"change"}],companys:[{required:!0,message:"请输入项目公司",trigger:"change"}],duotel_ids:[{required:!0,message:"请输入Duotel ID",trigger:"change"}],project_managers:[{required:!0,message:"请输入项目经理",trigger:"change"}],expect_moneys:[{required:!0,message:"请输入预计金额",trigger:"change"}],complete_moneys:[{required:!0,message:"请输入成交金额",trigger:"change"}]},m()(e,"template_rooms",[{required:!0,message:"请输入项目样板间",trigger:"change"}]),m()(e,"bind_cube_room_numbers",[{required:!0,message:"请输入已完成数量",trigger:"change"}]),m()(e,"addresss",[{required:!0,message:"请输入项目地址",trigger:"change"}]),m()(e,"construction_room_numbers",[{required:!0,message:"请输入施工数量",trigger:"change"}]),e),demand:[],template_drawings:[],listLoading:!1,goods_spec:"",goodsInfo:[],company_address:"",personal_address:"",projectCategory:[],starLevel:[],fileList:[],Schedule:[],dockinguser:[],file:"",file2:""},m()(t,"demand",""),m()(t,"template_drawings",""),m()(t,"Demand",[]),m()(t,"templateDrawings",[]),m()(t,"fileList1",[]),m()(t,"fileLists",[]),m()(t,"Owner",[]),m()(t,"Brand",[]),m()(t,"Sources",[]),m()(t,"videoUploadPercent",0),m()(t,"uploadLoading",!1),m()(t,"uploadLoading2",!1),t},created:function(){this.commonsData(),this.aa()},methods:(vt={selected:function(e){this.province=e.province.value,this.city=e.city.value,this.area=e.area.value},aa:function(){var e=this,t=new Date(this.dataList.time),a=(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),{project_id:this.$route.query.id});v.projectDetails(a).then(function(t){if(1===t.code){for(var a in e.bb=t.data,e.dockinguser=e.bb.docking_user,e.dataList.project_names=e.bb.project_name,e.dataList.project_category=e.bb.project_category,e.dataList.star_levels=e.bb.star_level,e.dataList.room_numbers=e.bb.room_number,e.dataList.times=e.bb.time,e.dataList.sources=e.bb.source,e.dataList.owner=e.bb.owner,e.dataList.brand=e.bb.brand,e.dataList.companys=e.bb.company,e.dataList.duotel_ids=e.bb.duotel_id,e.dataList.project_managers=e.bb.project_manager,e.dataList.expect_moneys=e.bb.expect_money,e.dataList.complete_moneys=e.bb.complete_money,e.dataList.template_drawings=e.bb.template_drawings,e.dataList.template_rooms=e.bb.template_room,e.dataList.addresss=e.bb.address,e.dockinguser=e.bb.docking_user,e.dataList.bind_cube_room_numbers=e.bb.bind_cube_room_number,e.dataList.Schedules=e.bb.schedule,e.dataList.construction_room_numbers=e.bb.construction_room_number,e.dataList.template_room_complete=e.bb.template_room_complete,e.bb.demand){var i={name:e.bb.demand[a]};e.fileList1.push(i)}for(var a in e.bb.template_drawings){var o={name:e.bb.template_drawings[a]};e.fileLists.push(o)}}else-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},submitEdit:function(){var e=this;this.$refs.dataList.validate(function(t){if(t){var a={project_id:e.$route.query.id,project_name:e.dataList.project_names,project_category:e.dataList.project_category,star_level:e.dataList.star_levels,demand:e.Demand,room_number:e.dataList.room_numbers,time:e.dataList.times,source:e.dataList.sources,owner:e.dataList.owner,brand:e.dataList.brand,company:e.dataList.companys,duotel_id:e.dataList.duotel_ids,project_manager:e.dataList.project_managers,expect_money:e.dataList.expect_moneys,complete_money:e.dataList.complete_moneys,template_drawings:e.templateDrawings,template_room:e.dataList.template_rooms,bind_cube_room_number:e.dataList.bind_cube_room_numbers,address:e.dataList.addresss,docking_user:e.dockinguser,construction_room_number:e.dataList.construction_room_number,phone:e.dataList.phones,name:e.dataList.names,position:e.dataList.positions,desc:e.dataList.descs,email:e.dataList.email,schedule:e.dataList.Schedules,template_room_complete:e.dataList.template_room_complete};v.projectEdit(a).then(function(t){1===t.data.code?(e.$message({message:"修改成功",type:"success"}),e.$router.replace({path:"/projectManagement/allproject"})):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}})},commonsData:function(){var e=this;v.getProjectBrand().then(function(t){1===t.code&&(e.Brand=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_source"}).then(function(t){1===t.code&&(e.Sources=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_category"}).then(function(t){1===t.code&&(e.projectCategory=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"star_level"}).then(function(t){1===t.code&&(e.starLevel=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"schedule"}).then(function(t){1===t.code&&(e.Schedule=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_owner"}).then(function(t){1===t.code&&(e.Owner=t.data)}).catch(function(e){return!1})},newlyAdded:function(e){this.dockinguser.push({phone:"",name:"",position:"",desc:"",email:""})},newlyDel:function(e){this.dockinguser.splice(e,1)},handleChange:function(e){this.file=e.raw},uploaderror:function(e){if(this.file.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1},uploadMainImg:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoUploadPercent=a,t.uploadLoading=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.demand=a.data.data,t.Demand.push(t.demand),v.deleOldImg(t.demand),t.uploadLoading=!1):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},handleChange2:function(e){this.file2=e.raw}},m()(vt,"uploaderror",function(e){if(this.file.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1}),m()(vt,"uploadMainImg2",function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.template_drawings=a.data.data,t.templateDrawings.push(t.template_drawings),v.deleOldImg(t.template_drawings),t.uploadLoading2=!1):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})}),vt)},kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"编辑项目"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataList",attrs:{model:e.dataList,rules:e.dataListRules,"hide-required-asterisk":!0,"label-width":"100px",showClose:"false"}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目名称",prop:"project_names"}},[a("el-input",{model:{value:e.dataList.project_names,callback:function(t){e.$set(e.dataList,"project_names",t)},expression:"dataList.project_names"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目来源",prop:"sources"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.sources,callback:function(t){e.$set(e.dataList,"sources",t)},expression:"dataList.sources"}},e._l(e.Sources,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目类别",prop:"project_category"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.project_category,callback:function(t){e.$set(e.dataList,"project_category",t)},expression:"dataList.project_category"}},e._l(e.projectCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目规模",prop:"star_levels"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.star_levels,callback:function(t){e.$set(e.dataList,"star_levels",t)},expression:"dataList.star_levels"}},e._l(e.starLevel,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"Duotel ID",prop:"duotel_ids"}},[a("el-input",{model:{value:e.dataList.duotel_ids,callback:function(t){e.$set(e.dataList,"duotel_ids",t)},expression:"dataList.duotel_ids"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目业主",prop:"owner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.owner,callback:function(t){e.$set(e.dataList,"owner",t)},expression:"dataList.owner"}},e._l(e.Owner,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目品牌",prop:"brand"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.brand,callback:function(t){e.$set(e.dataList,"brand",t)},expression:"dataList.brand"}},e._l(e.Brand,function(e){return a("el-option",{key:e.id,attrs:{label:e.project_brand_name,value:e.project_brand_name}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"管理公司",prop:"companys"}},[a("el-input",{model:{value:e.dataList.companys,callback:function(t){e.$set(e.dataList,"companys",t)},expression:"dataList.companys"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目管理",name:"项目管理"}},[a("template",{slot:"title"},[a("h3",[e._v("项目管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"客房数量",prop:"room_numbers"}},[a("el-input",{model:{value:e.dataList.room_numbers,callback:function(t){e.$set(e.dataList,"room_numbers",t)},expression:"dataList.room_numbers"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目时间",prop:"times"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.dataList.times,callback:function(t){e.$set(e.dataList,"times",t)},expression:"dataList.times"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目经理",prop:"project_managers"}},[a("el-input",{model:{value:e.dataList.project_managers,callback:function(t){e.$set(e.dataList,"project_managers",t)},expression:"dataList.project_managers"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目进程"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataList.Schedules,callback:function(t){e.$set(e.dataList,"Schedules",t)},expression:"dataList.Schedules"}},e._l(e.Schedule,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"预计金额",prop:"expect_moneys"}},[a("el-input",{model:{value:e.dataList.expect_moneys,callback:function(t){e.$set(e.dataList,"expect_moneys",t)},expression:"dataList.expect_moneys"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"成交金额",prop:"complete_moneys"}},[a("el-input",{model:{value:e.dataList.complete_moneys,callback:function(t){e.$set(e.dataList,"complete_moneys",t)},expression:"dataList.complete_moneys"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目需求"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","before-upload":e.uploaderror,"http-request":e.uploadMainImg,"on-change":e.handleChange,multiple:"","show-file-list":!0,"file-list":e.fileList1}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading}},[e._v("点击上传")])],1)],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"工程管理",name:"工程管理"}},[a("template",{slot:"title"},[a("h3",[e._v("项目管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间数量",prop:"template_rooms"}},[a("el-input",{model:{value:e.dataList.template_rooms,callback:function(t){e.$set(e.dataList,"template_rooms",t)},expression:"dataList.template_rooms"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间完成数",prop:"template_room_complete",readonly:""}},[a("el-input",{model:{value:e.dataList.template_room_complete,callback:function(t){e.$set(e.dataList,"template_room_complete",t)},expression:"dataList.template_room_complete"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工总数量",prop:"construction_room_numbers"}},[a("el-input",{model:{value:e.dataList.construction_room_numbers,callback:function(t){e.$set(e.dataList,"construction_room_numbers",t)},expression:"dataList.construction_room_numbers"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工完成数",prop:"bind_cube_room_numbers"}},[a("el-input",{model:{value:e.dataList.bind_cube_room_numbers,callback:function(t){e.$set(e.dataList,"bind_cube_room_numbers",t)},expression:"dataList.bind_cube_room_numbers"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目详细地址",prop:"addresss"}},[a("el-input",{model:{value:e.dataList.addresss,callback:function(t){e.$set(e.dataList,"addresss",t)},expression:"dataList.addresss"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目地址"}},[a("VDistpicker",{attrs:{province:"省",city:"市",area:"区"},on:{selected:e.selected}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工程图纸",prop:"template_drawings"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","before-upload":e.uploaderror,"http-request":e.uploadMainImg2,"on-change":e.handleChange2,multiple:"","show-file-list":!0,"file-list":e.fileLists}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading2}},[e._v("点击上传")])],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"联系人信息",name:"联系人信息"}},[a("template",{slot:"title"},[a("h3",[e._v("联系人信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),e._l(e.dockinguser,function(t,i){return a("div",{key:i,staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"item.phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"职位"}},[a("el-input",{attrs:{placeholder:"请输入职位"},model:{value:t.position,callback:function(a){e.$set(t,"position",a)},expression:"item.position"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"item.desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"item.email"}})],1),e._v(" "),0==i?a("el-button",{staticClass:"dockingbut",attrs:{type:"success",size:"small"},on:{click:function(t){return e.newlyAdded(i)}}},[e._v("新增")]):e._e(),e._v(" "),0!=i?a("el-button",{staticClass:"dockingbut",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.newlyDel(i)}}},[e._v("删除")]):e._e(),e._v(" "),a("div",{staticClass:"gline"})],1)})],2)],1),e._v(" "),a("div",{staticClass:"btnBox",staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var wt=a("VU/8")(yt,kt,!1,function(e){a("adWN")},"data-v-01eb7908",null).exports,Ft={components:{VDistpicker:Qe.a},data:function(){var e;return{Upload:"",activeNames:["1"],dataLidt:{project_name:"",project_category:"",project_source:"",project_owner:"",star_level:"",room_number:"",time:"",source:"",schedule:"",owner:"",brand:"",company:"",duotel_id:"",project_manager:"",expect_money:"",complete_money:"",template_room:"",template_room_complete:"",construction_room_number:"",bind_cube_room_number:"",address:"",phone:"",name:"",position:"",desc:"",email:""},id:"",province:"",city:"",area:"",dataLidtRules:(e={project_name:[{required:!0,message:"请输入项目名称",trigger:"change"}],project_category:[{required:!0,message:"请输入项目类别",trigger:"change"}],room_number:[{required:!0,message:"请输入房间号码",trigger:"change"}],star_level:[{required:!0,message:"请输入项目规模",trigger:"change"}],demand:[{required:!0,message:"请输入项目需要",trigger:"change"}],template_drawings:[{required:!0,message:"请输入工程图纸",trigger:"change"}],time:[{required:!0,message:"请输入项目时间",trigger:"change"}],source:[{required:!0,message:"请输入项目来源",trigger:"change"}],owner:[{required:!0,message:"请输入项目业主",trigger:"change"}],template_room:[{required:!0,message:"请输入项目样板间",trigger:"change"}],brand:[{required:!0,message:"请输入项目品牌",trigger:"change"}],schedule:[{required:!0,message:"请输入项目进程",trigger:"change"}],company:[{required:!0,message:"请输入项目公司",trigger:"change"}],project_manager:[{required:!0,message:"请输入项目经理",trigger:"change"}],expect_money:[{required:!0,message:"请输入预计金额",trigger:"change"}],complete_money:[{required:!0,message:"请输入成交金额",trigger:"change"}]},m()(e,"template_room",[{required:!0,message:"请输入项目样板间",trigger:"change"}]),m()(e,"bind_cube_room_number",[{required:!0,message:"请输入已完成数量",trigger:"change"}]),m()(e,"template_room_complete",[{required:!0,message:"请输入样板间完成数",trigger:"change"}]),m()(e,"address",[{required:!0,message:"请输入项目地址",trigger:"change"}]),m()(e,"construction_room_number",[{required:!0,message:"请输入施工数量",trigger:"change"}]),e),asd:!1,listLoading:!1,goods_spec:"",goodsInfo:[],company_address:"",personal_address:"",projectCategory:[],starLevel:[],fileList:[],Schedule:[],dockinguser:[{phone:"",name:"",position:"",desc:"",email:""}],file:"",file2:"",demand:"",template_drawings:"",Demand:[],templateDrawings:[],duotel:"",userName:[],projectsource:[],projectOwner:[],projectBrand:[],getProject:"",uploadLoading:!1,uploadLoading2:!1,fileList1:[],fileList2:[],videoUploadPercent:0,ads:""}},created:function(){this.commonsData(),this.goodstypelist()},computed:{},methods:{proCategory:function(e){for(var t=0;t<this.projectCategory.length;t++)e==this.projectCategory[t].id?this.asd=!0:this.asd=!1},goodstypelist:function(){var e=this;v.projectBrandList({page:"1",per_page:"10"}).then(function(t){1===t.code&&(e.projectBrand=t.data.data)}).catch(function(e){return!1})},selected:function(e){this.province=e.province.value,this.city=e.city.value,this.area=e.area.value},Obtainty:function(){null!=this.dataLidt.duotel_id&&""!=this.dataLidt.duotel_id||(this.dataLidt.complete_money=0,this.dataLidt.bind_cube_room_number=0)},Obtain:function(){var e=this,t={duotel_id:this.dataLidt.duotel_id};v.getBindCubeNum(t).then(function(t){1===t.code&&(e.dataLidt.bind_cube_room_number=t.data)}).catch(function(e){return!1});var a={duotel_id:this.dataLidt.duotel_id};v.getCompleteMoney(a).then(function(t){1===t.code&&(e.dataLidt.complete_money=t.data)}).catch(function(e){return!1})},submitEdit:function(){var e=this;this.$refs.dataLidt.validate(function(t){if(t){var a=new Date(e.dataLidt.time),i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),o={project_name:e.dataLidt.project_name,project_category:e.dataLidt.project_category,star_level:e.dataLidt.star_level,schedule:e.dataLidt.schedule,demand:e.Demand,room_number:e.dataLidt.room_number,time:i,source:e.dataLidt.source,owner:e.dataLidt.owner,brand:e.dataLidt.brand,company:e.dataLidt.company,duotel_id:e.dataLidt.duotel_id,project_manager:e.dataLidt.project_manager,expect_money:e.dataLidt.expect_money,complete_money:e.dataLidt.complete_money,template_drawings:e.templateDrawings,template_room:e.dataLidt.template_room,template_room_complete:e.dataLidt.template_room_complete,bind_cube_room_number:e.dataLidt.bind_cube_room_number,construction_room_number:e.dataLidt.construction_room_number,address:e.dataLidt.address,docking_user:e.dockinguser,province:e.province,city:e.city,area:e.area};v.projectAdd(o).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.$router.replace({path:"/projectManagement/allproject"})):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})}})},commonsData:function(){var e=this;v.webgetcommonsdata({class_type:"project_source"}).then(function(t){1===t.code&&(e.projectsource=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_owner"}).then(function(t){1===t.code&&(e.projectOwner=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"project_category"}).then(function(t){1===t.code&&(e.projectCategory=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"star_level"}).then(function(t){1===t.code&&(e.starLevel=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"schedule"}).then(function(t){1===t.code&&(e.Schedule=t.data)}).catch(function(e){return!1}),v.getProjectManager().then(function(t){1===t.code&&(e.userName=t.data)}).catch(function(e){return!1})},newlyAdded:function(e){this.dockinguser.push({phone:"",name:"",position:"",desc:"",email:""})},newlyDel:function(e){this.dockinguser.splice(e,1)},handleChange:function(e){this.file=e.raw},uploaderror:function(e){if(this.file.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1},uploadMainImg:function(){var e=this,t=this,a=new FormData;console.log(this.file),a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoUploadPercent=a,t.uploadLoading=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.demand=a.data.data,t.Demand.push(t.demand),t.videoUploadPercent=0,t.uploadLoading=!1):-2===a.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},handleChange2:function(e){if(this.file2=e.raw,this.file2.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1},uploaderror2:function(e){if(this.file2.name.split(".")[0].match(/_+/))return this.$message({message:"文件上传不符合规则",type:"success"}),!1},uploadMainImg2:function(){var e=this,t=this,a=new FormData;a.append("file",this.file2),a.append("action","UploadVMKImagePath"),f.a.post(v.projectUpload(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.uploadLoading2=!1,t.template_drawings=a.data.data,t.templateDrawings.push(t.template_drawings)):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})}}},Lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"添加项目"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataLidt",attrs:{model:e.dataLidt,rules:e.dataLidtRules,"hide-required-asterisk":!0,"label-width":"100px"}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.dataLidt.project_name,callback:function(t){e.$set(e.dataLidt,"project_name",t)},expression:"dataLidt.project_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目来源",prop:"source"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataLidt.source,callback:function(t){e.$set(e.dataLidt,"source",t)},expression:"dataLidt.source"}},e._l(e.projectsource,function(e){return a("el-option",{key:e.class_code,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目类别",prop:"project_category"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.proCategory},model:{value:e.dataLidt.project_category,callback:function(t){e.$set(e.dataLidt,"project_category",t)},expression:"dataLidt.project_category"}},e._l(e.projectCategory,function(e){return a("el-option",{key:e.class_code,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{ref:"starLevelhid",staticClass:"dockingUser",attrs:{label:"项目规模",prop:"star_level"}},[a("el-select",{attrs:{disabled:e.asd,placeholder:"请选择"},model:{value:e.dataLidt.star_level,callback:function(t){e.$set(e.dataLidt,"star_level",t)},expression:"dataLidt.star_level"}},e._l(e.starLevel,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"Duotel ID",prop:"duotel_id"}},[a("el-input",{attrs:{placeholder:"请输入商户Duotel ID"},on:{change:e.Obtain,blur:e.Obtainty},model:{value:e.dataLidt.duotel_id,callback:function(t){e.$set(e.dataLidt,"duotel_id",t)},expression:"dataLidt.duotel_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目业主",prop:"owner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataLidt.owner,callback:function(t){e.$set(e.dataLidt,"owner",t)},expression:"dataLidt.owner"}},e._l(e.projectOwner,function(e){return a("el-option",{key:e.class_code,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{prop:"brand",label:"项目品牌"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataLidt.brand,callback:function(t){e.$set(e.dataLidt,"brand",t)},expression:"dataLidt.brand"}},e._l(e.projectBrand,function(e){return a("el-option",{key:e.id,attrs:{label:e.project_brand_name==e.son_name?e.project_brand_name:e.project_brand_name+" · "+e.son_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"管理公司",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入项目公司"},model:{value:e.dataLidt.company,callback:function(t){e.$set(e.dataLidt,"company",t)},expression:"dataLidt.company"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目管理",name:"项目管理"}},[a("template",{slot:"title"},[a("h3",[e._v("项目管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"客房数量",prop:"room_number"}},[a("el-input",{attrs:{placeholder:"请输入项目客房数量"},model:{value:e.dataLidt.room_number,callback:function(t){e.$set(e.dataLidt,"room_number",t)},expression:"dataLidt.room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.dataLidt.time,callback:function(t){e.$set(e.dataLidt,"time",t)},expression:"dataLidt.time"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目经理",prop:"project_manager"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.dataLidt.project_manager,callback:function(t){e.$set(e.dataLidt,"project_manager",t)},expression:"dataLidt.project_manager"}},e._l(e.userName,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目进度",prop:"schedule"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataLidt.schedule,callback:function(t){e.$set(e.dataLidt,"schedule",t)},expression:"dataLidt.schedule"}},e._l(e.Schedule,function(e){return a("el-option",{key:e.id,attrs:{label:e.class_value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"预计金额",prop:"expect_money"}},[a("el-input",{attrs:{placeholder:"请输入项目预计金额"},model:{value:e.dataLidt.expect_money,callback:function(t){e.$set(e.dataLidt,"expect_money",t)},expression:"dataLidt.expect_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"成交金额",prop:"complete_money"}},[a("el-input",{attrs:{placeholder:"请输入项目成交金额",readonly:""},model:{value:e.dataLidt.complete_money,callback:function(t){e.$set(e.dataLidt,"complete_money",t)},expression:"dataLidt.complete_money"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目需求"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","on-change":e.handleChange,"before-upload":e.uploaderror,"http-request":e.uploadMainImg,multiple:"","show-file-list":!0,"file-list":e.fileList1}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading}},[e._v("点击上传")])],1)],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"工程管理",name:"工程管理"}},[a("template",{slot:"title"},[a("h3",[e._v("工程管理")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间数量",prop:"template_room"}},[a("el-input",{attrs:{placeholder:"请输入项目样板间数量"},model:{value:e.dataLidt.template_room,callback:function(t){e.$set(e.dataLidt,"template_room",t)},expression:"dataLidt.template_room"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"样板间完成数",prop:"template_room_complete"}},[a("el-input",{attrs:{placeholder:"请输入样板间完成数"},model:{value:e.dataLidt.template_room_complete,callback:function(t){e.$set(e.dataLidt,"template_room_complete",t)},expression:"dataLidt.template_room_complete"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工总数量",prop:"construction_room_number"}},[a("el-input",{attrs:{placeholder:"请输入施工总数量"},model:{value:e.dataLidt.construction_room_number,callback:function(t){e.$set(e.dataLidt,"construction_room_number",t)},expression:"dataLidt.construction_room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"施工完成数",prop:"bind_cube_room_number"}},[a("el-input",{attrs:{placeholder:"请输入施工完成数",readonly:""},model:{value:e.dataLidt.bind_cube_room_number,callback:function(t){e.$set(e.dataLidt,"bind_cube_room_number",t)},expression:"dataLidt.bind_cube_room_number"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"项目详细地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入项目地址"},model:{value:e.dataLidt.address,callback:function(t){e.$set(e.dataLidt,"address",t)},expression:"dataLidt.address"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目地址"}},[a("VDistpicker",{attrs:{province:"省",city:"市",area:"区"},on:{selected:e.selected}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工程图纸"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".zip","http-request":e.uploadMainImg2,"on-change":e.handleChange2,"before-upload":e.uploaderror2,multiple:"","show-file-list":!0,"file-list":e.fileList2}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploadLoading2}},[e._v("点击上传")])],1)],1)],2)],1),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("联系人信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),e._l(e.dockinguser,function(t,i){return a("div",{key:i,staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"v.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"v.phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"职位"}},[a("el-input",{attrs:{placeholder:"请输入职位"},model:{value:t.position,callback:function(a){e.$set(t,"position",a)},expression:"v.position"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"v.desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"v.email"}})],1),e._v(" "),0==i?a("el-button",{staticClass:"dockingbut",attrs:{type:"success",size:"small"},on:{click:function(t){return e.newlyAdded(i)}}},[e._v("新增")]):e._e(),e._v(" "),0!=i?a("el-button",{staticClass:"dockingbut",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.newlyDel(i)}}},[e._v("删除")]):e._e(),e._v(" "),a("div",{staticClass:"gline"})],1)})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"btnBox",staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var xt=a("VU/8")(Ft,Lt,!1,function(e){a("vwbd"),a("hS9g")},"data-v-7e3b0abe",null).exports,$t={data:function(){return{listLoading:!1,projectCategory:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入类别名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{classValue:[{required:!0,message:"请输入类别名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"project_category"}).then(function(t){1===t.code&&(e.projectCategory=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"project_category",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){console.log(t),1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"project_category",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},Ct={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建类别")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.projectCategory,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"类别名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目类别",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入类别名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建项目类别",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入类别名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var St=a("VU/8")($t,Ct,!1,function(e){a("bdy2")},"data-v-552992d6",null).exports,zt={data:function(){return{listLoading:!1,starLevel:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入规模名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入规模名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"star_level"}).then(function(t){1===t.code&&(e.starLevel=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"star_level",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"star_level",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},qt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建规模")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.starLevel,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"规模名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目规模",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"规模名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入规模名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建项目规模",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"规模名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入规模名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ut=a("VU/8")(zt,qt,!1,function(e){a("qNkL")},"data-v-6d3c4560",null).exports,Tt={data:function(){return{listLoading:!1,Schedule:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入进度名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入进度名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"schedule"}).then(function(t){1===t.code&&(e.Schedule=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"schedule",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"schedule",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},Dt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建进度")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.Schedule,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"进度名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目进度",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"进度名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入进度名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建项目进度",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"进度名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入进度名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(Tt,Dt,!1,function(e){a("/qfz")},"data-v-f5de7e54",null).exports,Et={data:function(){return{listLoading:!1,source:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入来源名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入来源名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"project_source"}).then(function(t){1===t.code&&(e.source=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"project_source",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"project_source",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},Vt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("项目来源")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.source,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"项目来源名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目来源",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"来源名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入来源名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建项目来源",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"来源名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入来源名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var It=a("VU/8")(Et,Vt,!1,function(e){a("In4V")},"data-v-087c0410",null).exports,Pt={data:function(){return{listLoading:!1,source:[],addFormVisible:!1,editFormVisible:!1,addForm:{class_value:""},addFormRules:{class_value:[{required:!0,message:"请输入业主名称",trigger:"change"}]},editForm:{class_value:""},editFormRules:{class_value:[{required:!0,message:"请输入业主名称",trigger:"change"}]},id:""}},created:function(){this.commonsdata()},methods:{commonsdata:function(){var e=this;v.webgetcommonsdata({class_type:"project_owner"}).then(function(t){1===t.code&&(e.source=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={class_type:"project_owner",class_value:e.addForm.class_value};v.addCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.id=t.id,this.editForm.class_value=t.class_value},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.id,class_type:"project_owner",class_value:e.editForm.class_value};v.editCommonsData(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delCommonsData(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})}}},At={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("项目业主")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.source,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{prop:"class_value",label:"业主名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目业主",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"业主名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入业主名称"},model:{value:e.editForm.class_value,callback:function(t){e.$set(e.editForm,"class_value",t)},expression:"editForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建项目业主",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"业主名称",prop:"class_value"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入业主名称"},model:{value:e.addForm.class_value,callback:function(t){e.$set(e.addForm,"class_value",t)},expression:"addForm.class_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ot=a("VU/8")(Pt,At,!1,function(e){a("wX0W")},"data-v-484cd5f2",null).exports,Rt={data:function(){return{listLoading:!1,source:[],addFormVisible:!1,editFormVisible:!1,createFormVisible:!1,brandLists:[],pageSize:10,total:0,page:1,search:{name:""},addForm:{equtype:"",project_brand:"",pid:"",id:""},addFormRules:{project_brand:[{required:!0,message:"请输入品牌名称",trigger:"change"}]},editForm:{project_brand_name:"",pid:"",id:""},editFormRules:{project_brand_name:[{required:!0,message:"请输入品牌名称",trigger:"change"}]},createForm:{project_brand_name:"",pid:"",id:""},createFormRules:{project_brand_name:[{required:!0,message:"请输入品牌名称",trigger:"change"}]},Source:[]}},created:function(){this.commonsdata(),this.getBrandList()},methods:{selGoods:function(e){console.log(e),void 0!==e.project_brand_name?this.addForm.pid=e.id:(this.addForm.equtype=e,this.addForm.pid=0)},handleSizeChange:function(e){this.pageSize=e,this.getBrandList()},handleCurrentChange:function(e){this.page=e,this.getBrandList()},brandList:function(){this.getBrandList()},getBrandList:function(){var e=this,t={page:this.page,per_page:this.pageSize,searchKey:this.search.name};v.projectBrandList(t).then(function(t){1===t.code&&(e.brandLists=t.data.data,e.total=t.data.total)}).catch(function(e){return!1})},commonsdata:function(){var e=this;v.projectBrandTree().then(function(t){1===t.code&&(e.source=t.data)}).catch(function(e){return!1})},handleAdd:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){""===e.addForm.equtype&&(_this.addForm.pid=0);var a={pid:e.addForm.pid,project_brand_name:e.addForm.project_brand};v.addProjectBrand(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addFormVisible=!1,e.commonsdata(),e.$refs.addForm.resetFields()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm.id=t.id,this.editForm.pid=t.pid,this.editForm.project_brand_name=t.project_brand_name,console.log(t)},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.editForm.id,pid:e.editForm.pid,project_brand_name:e.editForm.project_brand_name};v.editProjectBrand(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.commonsdata()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})},handleDel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.delProjectBrand(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.commonsdata()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){return!1})})},createBrand:function(){this.createFormVisible=!0},createSubmit:function(){var e=this;console.log("确定创建新品牌"),this.$refs.createForm.validate(function(t){if(t){var a={pid:0,project_brand_name:e.createForm.project_brand_name};v.addProjectBrand(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.createFormVisible=!1,e.commonsdata(),e.$refs.createForm.resetFields()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})}})}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.brandList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right",staticStyle:{float:"right"}},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("创建品牌")])],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.createBrand}},[e._v("品牌管理")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.brandLists,"highlight-current-row":"","text-align":"center",border:""}},[a("el-table-column",{attrs:{label:"子品牌名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(t.row.son_name)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"品牌名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(t.row.project_brand_name)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑项目品牌",height:"30%",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"project_brand_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入品牌名称"},model:{value:e.editForm.project_brand_name,callback:function(t){e.$set(e.editForm,"project_brand_name",t)},expression:"editForm.project_brand_name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建品牌",height:"30%",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"品牌",prop:"project_brand_name"}},[a("el-select",{staticStyle:{display:"block"},attrs:{"value-key":"id",placeholder:"请选项目品牌"},on:{change:e.selGoods},model:{value:e.addForm.equtype,callback:function(t){e.$set(e.addForm,"equtype",t)},expression:"addForm.equtype"}},[a("el-option",{attrs:{value:"请选商品类型"}},[e._v("请选商品类型")]),e._v(" "),e._l(e.source,function(t){return a("el-option",{key:t.id,attrs:{label:t.project_brand_name,value:t},domProps:{innerHTML:e._s(t.showName)}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"子品牌",prop:"project_brand"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入子品牌名称"},model:{value:e.addForm.project_brand,callback:function(t){e.$set(e.addForm,"project_brand",t)},expression:"addForm.project_brand"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"管理品牌",height:"30%",visible:e.createFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.createFormVisible=t}}},[a("el-form",{ref:"createForm",attrs:{model:e.createForm,"hide-required-asterisk":!0,rules:e.createFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"project_brand_name"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入品牌名称"},model:{value:e.createForm.project_brand_name,callback:function(t){e.$set(e.createForm,"project_brand_name",t)},expression:"createForm.project_brand_name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.createFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.createSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Gt=a("VU/8")(Rt,Nt,!1,function(e){a("aa/G")},"data-v-266375ce",null).exports,Mt={data:function(){return{listLoading:!1,dataList:{project_brand:""},dataListRules:{project_brand:[{required:!0,message:"请输入品牌名称",trigger:"change"}]}}},created:function(){},methods:{submitAdd:function(){console.log("新增提交")},submitEdit:function(){console.log("编辑提交")}}},Wt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"创建品牌"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataList",attrs:{model:e.dataList,rules:e.dataListRules,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"project_names"}},[a("el-input",{model:{value:e.dataList.project_brand,callback:function(t){e.$set(e.dataList,"project_brand",t)},expression:"dataList.project_brand"}})],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitAdd}},[e._v("提交")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"编辑品牌"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataList",attrs:{model:e.dataList,rules:e.dataListRules,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"project_names"}},[a("el-input",{model:{value:e.dataList.project_brand,callback:function(t){e.$set(e.dataList,"project_brand",t)},expression:"dataList.project_brand"}})],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Bt=a("VU/8")(Mt,Wt,!1,function(e){a("6FE0")},"data-v-0fd7c009",null).exports,Kt={data:function(){return{DuotelID:"",dialogVisible:!1,tableList:[],rejection:"",dialogFormVisible:!1,dialogParticularsa:!1,dialogParticulars:!1,listLoading:!1,page:1,pageSize:10,total:1,id:"",formLabelWidth:"120px",filter:{ID:""},value:""}},created:function(){this.authListPage()},methods:{handleCurrentChange:function(e){this.page=e,this.authListPage()},handleSizeChange:function(e){this.pageSize=e,this.authListPage()},shiming:function(e,t){},authPass:function(e,t){var a=this,i={status:1,user_info_id:t.id,rejected:"1",identity:"merchat"};v.authAudit(i).then(function(e){"1"==e.data.code||"-15"==e.data.code?(a.$message({message:"修改成功",type:"success"}),a.authListPage()):-3===e.data.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},authListPage:function(){var e=this,t={search_key:this.filter.ID,identity:"merchat",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.authList(t).then(function(t){1===t.code?(e.tableList=t.data.data,e.total=t.data.total,e.listLoading=!1):-3===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})},Particulars:function(e,t){1==t.user_type?this.$router.push({path:"/audit/auditDetail",query:{id:t.id}}):2==t.user_type&&this.$router.push({path:"/audit/personDetail",query:{id:t.id}})},delauthor:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};a.listLoading=!0,v.delauthreList(e).then(function(e){1===e.code?(a.$message({message:e.msg,type:"error"}),a.listLoading=!1):-3===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})})}}},Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",{staticClass:"row-bg",attrs:{model:e.filter,type:"flex",justify:"space-between"}},[a("div"),e._v(" "),a("div",{staticStyle:{float:"right",width:"300px",right:"0"}},[a("el-input",{staticStyle:{width:"75%"},attrs:{size:"mini",placeholder:"Duotel ID/商户名称"},model:{value:e.filter.ID,callback:function(t){e.$set(e.filter,"ID",t)},expression:"filter.ID"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.authListPage}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableList,border:"","tooltip-effect":"dark","text-align":"center","show-overflow-tooltip":!0}},[a("el-table-column",{attrs:{prop:"id",width:"80",align:"center",sortable:"",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",label:"商户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"auditName",domProps:{innerHTML:e._s("1"==t.row.user_type?t.row.company_name:t.row.personal_name)}}),e._v(" "),a("p",{staticClass:"auditName",domProps:{innerHTML:e._s(t.row.duotel_id)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",width:"100",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("1"==t.row.user_type?"商户":"个人")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"省",width:"120",prop:"province_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.province_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"市",width:"120",prop:"city_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.city_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"区",width:"120",prop:"area_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.area_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",width:"100",align:"center",label:"代理"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",width:"160",align:"center",label:"归属"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("div",[a("p",[a("el-button",{attrs:{size:"mini",plain:"",type:"success"},on:{click:function(a){return e.shiming(t.$index,t.row)}}},[e._v("实名")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.authPass(t.$index,t.row)}}},[e._v("待审")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.delauthor(t.$index,t.row)}}},[e._v("删除")])],1)]):"1"==t.row.status?a("div",[a("p",[a("el-button",{attrs:{size:"mini",plain:"",type:"success"},on:{click:function(a){return e.shiming(t.$index,t.row)}}},[e._v("实名")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"success",size:"mini",plain:""}},[e._v("已审")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.delauthor(t.$index,t.row)}}},[e._v("删除")])],1)]):"-1"==t.row.status?a("div",[a("p",[a("el-button",{attrs:{size:"mini",plain:"",type:"success"},on:{click:function(a){return e.shiming(t.$index,t.row)}}},[e._v("实名")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1),e._v(" "),a("p",[a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.delauthor(t.$index,t.row)}}},[e._v("删除")])],1)]):e._e()]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Qt=a("VU/8")(Kt,Ht,!1,function(e){a("dluR"),a("YyHb")},"data-v-6ef3fd70",null).exports,Jt={components:{VDistpicker:Qe.a},data:function(){return{auditList:[],organType:[{class_name:"酒店",id:1,calss_value:"酒店"},{class_name:"公寓",id:2,calss_value:"公寓"},{class_name:"民宿",id:3,calss_value:"民宿"}],listLoading:!1,activeNames:["1"],formLabelWidth:"120px",search:{name:""},audit:[],detailList:{duotel_id:"",username:"",nickname:"",province_id:"",city_id:"",area_id:"",address:"",company_name:"",company_type:"",company_license_num:"",company_contact_phone:"",company_license_url:"",company_bank:"",company_bank_name:"",company_bank_account:"",attribution:"",create_time:"",work_id:""},file:"",uploadLoading:!1,province:"",city:"",area:"",license:""}},created:function(){this.projectOrderList()},methods:{compiler:function(){var e=this,t={id:this.$route.query.id,company_name:this.detailList.company_name,province_id:this.detailList.province_id,city_id:this.detailList.city_id,area_id:this.detailList.area_id,address:this.detailList.address,personal_phone:this.detailList.personal_phone,company_bank:this.detailList.company_bank,company_bank_name:this.detailList.company_bank_name,company_bank_account:this.detailList.company_bank_account};v.iduotelEdit(t).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$router.replace({path:"/audit/realNameList"})):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},projectOrderList:function(){var e=this,t={user_info_id:this.$route.query.id};this.listLoading=!0,v.authreParticulars(t).then(function(t){1===t.code&&(1===t.data.company_type?e.detailList.company_type="酒店":2===t.data.company_type?e.detailList.company_type="民宿":3===t.data.company_type&&(e.detailList.company_type="公寓"),e.detailList=t.data,e.auditList=e.detailList.userSonList,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},selected:function(e){this.detailList.province=e.province.value,this.detailList.city=e.city.value,this.detailList.area=e.area.value},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.tarUrl(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.uploadLoading=!1,t.detailList.company_license_url=a.data.data,v.deleOldImg(t.detailList.company_license_url)):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})}}},Yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"商户详情"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("注册信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.duotel_id,callback:function(t){e.$set(e.detailList,"duotel_id",t)},expression:"detailList.duotel_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"公司名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_name,callback:function(t){e.$set(e.detailList,"company_name",t)},expression:"detailList.company_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"用户昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.nickname,callback:function(t){e.$set(e.detailList,"nickname",t)},expression:"detailList.nickname"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"注册时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.create_time,callback:function(t){e.$set(e.detailList,"create_time",t)},expression:"detailList.create_time"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",staticStyle:{width:"66%",float:"left"},attrs:{label:"归属地名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.detailList.attribution,callback:function(t){e.$set(e.detailList,"attribution",t)},expression:"detailList.attribution"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"营业执照号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_license_num,callback:function(t){e.$set(e.detailList,"company_license_num",t)},expression:"detailList.company_license_num"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"机构类型","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.detailList.company_type,callback:function(t){e.$set(e.detailList,"company_type",t)},expression:"detailList.company_type"}},e._l(e.organType,function(e){return a("el-option",{key:e.class_name,attrs:{label:e.class_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser ",attrs:{label:"营业执照","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{float:"left"},attrs:{action:"","http-request":e.uploadMainImg,"on-change":e.handleChange,multiple:"","show-file-list":!1}},[e.detailList.company_license_url?a("img",{staticClass:"avatar",attrs:{src:e.detailList.company_license_url,alt:""}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("a",{staticClass:"reviewlook",attrs:{href:e.detailList.company_license_url,target:"_blank"}},[e._v("预览")])],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("联络信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.address,callback:function(t){e.$set(e.detailList,"address",t)},expression:"detailList.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"联系电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_contact_phone,callback:function(t){e.$set(e.detailList,"company_contact_phone",t)},expression:"detailList.company_contact_phone"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"省市区","label-width":e.formLabelWidth}},[a("VDistpicker",{attrs:{province:e.detailList.province_id,city:e.detailList.city_id,area:e.detailList.area_id},on:{selected:e.selected}})],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("银行信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"开户银行","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank,callback:function(t){e.$set(e.detailList,"company_bank",t)},expression:"detailList.company_bank"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"开户支行","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank_name,callback:function(t){e.$set(e.detailList,"company_bank_name",t)},expression:"detailList.company_bank_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"银行账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank_account,callback:function(t){e.$set(e.detailList,"company_bank_account",t)},expression:"detailList.company_bank_account"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("系统信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"系统账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.work_id,callback:function(t){e.$set(e.detailList,"work_id",t)},expression:"detailList.work_id"}})],1)],1)],2)],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.compiler}},[e._v("编辑")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"子账户"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.auditList,"highlight-current-row":"",border:"","text-align":"center"}},[a("el-table-column",{attrs:{label:"头像",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"avatar",attrs:{src:e.row.avatar}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"e-Mail",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"用户状态",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("0"==t.row.status?"禁用":"启用")}})]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var Xt=a("VU/8")(Jt,Yt,!1,function(e){a("ruS+"),a("D2fC"),a("45j2")},"data-v-9494557c",null).exports,Zt={components:{VDistpicker:Qe.a},data:function(){return{auditList:[],listLoading:!1,activeNames:["1"],formLabelWidth:"120px",search:{name:""},detailList:{duotel_id:"",username:"",nickname:"",province_id:"",city_id:"",area_id:"",address:"",attribution:"",create_time:"",work_id:"",company_bank:"",company_bank_name:"",company_bank_account:"",personal_name:"",personal_phone:"",personal_id_card:"",personal_id_card_img_front:"",personal_id_card_img_reverse:""},id_card_img_front:"",id_card_img_reverse:""}},created:function(){this.projectOrderList()},methods:{projectOrderList:function(){var e=this,t={user_info_id:this.$route.query.id};this.listLoading=!0,v.authreParticulars(t).then(function(t){1===t.code&&(e.detailList=t.data,e.auditList=e.detailList.userSonList,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},compiler:function(){var e=this,t={id:this.$route.query.id,province_id:this.detailList.province_id,city_id:this.detailList.city_id,area_id:this.detailList.area_id,address:this.detailList.address,personal_phone:this.detailList.personal_phone,company_bank:this.detailList.company_bank,company_bank_name:this.detailList.company_bank_name,company_bank_account:this.detailList.company_bank_account,personal_name:this.detailList.personal_name};v.iduotelEdit(t).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$router.replace({path:"/audit/realNameList"})):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},selected:function(e){this.detailList.province=e.province.value,this.detailList.city=e.city.value,this.detailList.area=e.area.value},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.tarUrl(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.uploadLoading=!1,t.id_card_img_front=a.data.data,t.detailList.personal_id_card_img_front=a.data.data,v.deleOldImg(t.detailList.personal_id_card_img_front)):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},handleChange1:function(e){this.file=e.raw},uploadMainImg1:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),f.a.post(v.tarUrl(),a,{timeout:1e9,onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.videoFlag=!0,t.videoUploadPercent=a,t.uploadLoading2=!0}}).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.videoUploadPercent=0,t.uploadLoading=!1,t.detailList.personal_id_card_img_reverse=a.data.data,v.deleOldImg(t.detailList.personal_id_card_img_reverse)):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})}}},ea={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"个人详情"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{model:e.detailList,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("h3",[e._v("注册信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.duotel_id,callback:function(t){e.$set(e.detailList,"duotel_id",t)},expression:"detailList.duotel_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"真实名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.personal_name,callback:function(t){e.$set(e.detailList,"personal_name",t)},expression:"detailList.personal_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"用户昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.detailList.nickname,callback:function(t){e.$set(e.detailList,"nickname",t)},expression:"detailList.nickname"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"注册时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",autocomplete:"off"},model:{value:e.detailList.create_time,callback:function(t){e.$set(e.detailList,"create_time",t)},expression:"detailList.create_time"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"66%",float:"left"},attrs:{label:"归属地名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.detailList.attribution,callback:function(t){e.$set(e.detailList,"attribution",t)},expression:"detailList.attribution"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"证件号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.personal_id_card,callback:function(t){e.$set(e.detailList,"personal_id_card",t)},expression:"detailList.personal_id_card"}})],1),a("br"),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"证件正面","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{float:"left"},attrs:{action:"","http-request":e.uploadMainImg,"on-change":e.handleChange,multiple:"","show-file-list":!1}},[e.detailList.personal_id_card_img_front?a("img",{staticClass:"avatar",staticStyle:{width:"50px",height:"50px"},attrs:{src:e.detailList.personal_id_card_img_front,alt:""}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("a",{staticClass:"reviewlook",attrs:{href:e.detailList.personal_id_card_img_front,target:"_blank"}},[e._v("预览")])],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"证件反面","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{float:"left"},attrs:{action:"","http-request":e.uploadMainImg1,"on-change":e.handleChange1,multiple:"","show-file-list":!1}},[e.detailList.personal_id_card_img_reverse?a("img",{staticClass:"avatar",staticStyle:{width:"50px",height:"50px"},attrs:{src:e.detailList.personal_id_card_img_reverse,alt:""}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("a",{staticClass:"reviewlook",attrs:{href:e.detailList.personal_id_card_img_reverse,target:"_blank"}},[e._v("预览")])],1)],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("联络信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.address,callback:function(t){e.$set(e.detailList,"address",t)},expression:"detailList.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"联系电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.personal_phone,callback:function(t){e.$set(e.detailList,"personal_phone",t)},expression:"detailList.personal_phone"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"省市区","label-width":e.formLabelWidth}},[a("VDistpicker",{attrs:{province:e.detailList.province_id,city:e.detailList.city_id,area:e.detailList.area_id},on:{selected:e.selected}})],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("银行信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"开户银行","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank,callback:function(t){e.$set(e.detailList,"company_bank",t)},expression:"detailList.company_bank"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"开户支行","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank_name,callback:function(t){e.$set(e.detailList,"company_bank_name",t)},expression:"detailList.company_bank_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"dockingUser",attrs:{label:"银行账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.company_bank_account,callback:function(t){e.$set(e.detailList,"company_bank_account",t)},expression:"detailList.company_bank_account"}})],1)],1)],2)],1),e._v(" "),a("el-collapse",[a("el-collapse-item",[a("template",{slot:"title"},[a("h3",[e._v("系统信息")])]),e._v(" "),a("div",{staticClass:"title_line"}),e._v(" "),a("div",{staticClass:"specItem"},[a("el-form-item",{staticClass:"dockingUser",attrs:{label:"系统账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.detailList.work_id,callback:function(t){e.$set(e.detailList,"work_id",t)},expression:"detailList.work_id"}})],1)],1)],2)],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.compiler}},[e._v("编辑")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"子账户"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"99.9%"},attrs:{data:e.auditList,"highlight-current-row":"",border:"","text-align":"center"}},[a("el-table-column",{attrs:{label:"头像",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"avatar",attrs:{src:e.row.avatar}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"e-Mail",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"用户状态",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("0"==t.row.status?"禁用":"启用")}})]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var ta=a("VU/8")(Zt,ea,!1,function(e){a("/GWv"),a("GxIS"),a("t9e9")},"data-v-41276211",null).exports,aa={data:function(){return{DuotelID:"",dialogVisible:!1,listLoading:!1,tableList:[],rejection:"",dialogFormVisible:!1,dialogParticularsa:!1,dialogParticulars:!1,form:{duotel_id:"",username:"",nickname:"",province_id:"",city_id:"",area_id:"",address:"",company_name:"",company_license_num:"",company_license_url:"",company_contact_phone:"",company_bank:"",company_bank_name:"",company_bank_account:"",personal_name:"",personal_phone:"",personal_id_card:"",personal_id_card_img_front:"",personal_id_card_img_reverse:""},id:"",formLabelWidth:"120px",filter:{ID:""}}},created:function(){this.authListPage()},methods:{authPass:function(e,t){var a=this,i={status:1,user_info_id:t.id,rejected:"1",identity:"partner"};v.authAudit(i).then(function(e){"1"==e.data.code||"-15"==e.data.code?(a.$message({message:"修改成功",type:"success"}),a.authListPage()):-3===e.data.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},authReject:function(e){var t=this;this.id=e;var a;a=this.tableList.find(function(t){return t.id===e}),this.$prompt("驳回原因","提示",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var i=e.value,o={status:-1,user_info_id:a.id,rejected:i,identity:"partner"};v.authrejection(o).then(function(e){"1"==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"修改成功",type:"success"}),t.authListPage()):-3===e.data.code&&t.$message({message:e.msg,type:"error"})})}).catch(function(e){})},authListPage:function(){var e=this,t={search_key:this.filter.ID,identity:"partner",page:1,per_page:10};v.authList(t).then(function(t){1===t.code?e.tableList=t.data.data:-3===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})},Particulars:function(e,t){var a=this,i={user_info_id:t.id};v.authreParticulars(i).then(function(e){1===e.code?(console.log(t,555555),a.form.duotel_id=e.data.duotel_id,a.form.username=e.data.username,a.form.nickname=e.data.nickname,a.form.province_id=e.data.province_id,a.form.city_id=e.data.city_id,a.form.area_id=e.data.area_id,a.form.address=e.data.address,1==t.user_type?(a.dialogParticularsa=!0,a.dialogParticulars=!1,a.form.company_name=e.data.company_name,a.form.company_license_num=e.data.company_license_num,a.form.company_license_url=e.data.company_license_url,a.form.company_contact_phone=e.data.company_contact_phone,a.form.company_bank=e.data.company_bank,a.form.company_bank_name=e.data.company_bank_name,a.form.company_bank_account=e.data.company_bank_account):2==t.user_type&&(console.log(t,3333333333),a.dialogParticulars=!0,a.dialogParticularsa=!1,a.form.personal_name=t.personal_name,a.form.personal_phone=t.personal_phone,a.form.personal_id_card=t.personal_id_card,a.form.personal_id_card_img_front=t.personal_id_card_img_front,a.form.personal_id_card_img_reverse=t.personal_id_card_img_reverse)):-3===e.data.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})}}},ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",{staticClass:"row-bg",attrs:{model:e.filter,type:"flex",justify:"space-between"}},[a("div"),e._v(" "),a("div",{staticStyle:{float:"right",width:"300px"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Duotel ID",size:"mini"},model:{value:e.filter.ID,callback:function(t){e.$set(e.filter,"ID",t)},expression:"filter.ID"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.authListPage}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableList,border:"","tooltip-effect":"dark","text-align":"center"}},[a("el-table-column",{attrs:{prop:"id",width:"80",align:"center",sortable:"",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"duotel_id",width:"170",align:"center",sortable:"",label:"duotel ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"代理商名称",width:"150",prop:"company_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("1"==t.row.user_type?t.row.company_name:t.row.personal_name)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"类别",prop:"user_type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("1"==t.row.user_type?"商户":"个人")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"省",prop:"province_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.province_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"市",prop:"city_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.city_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"区",prop:"area_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.area_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.partner_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.authPass(t.$index,t.row)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.authReject(t.row.id)}}},[e._v("驳回")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):"1"==t.row.partner_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):"-1"==t.row.partner_status?a("div",[a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("已驳回")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogParticularsa},on:{"update:visible":function(t){e.dialogParticularsa=t}}},[a("el-form",{staticStyle:{overflow:"hidden"},attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.duotel_id,callback:function(t){e.$set(e.form,"duotel_id",t)},expression:"form.duotel_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省级名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,prop:"province_id",autocomplete:"off"},model:{value:e.form.province_id,callback:function(t){e.$set(e.form,"province_id",t)},expression:"form.province_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,autocomplete:"off"},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.area_id,callback:function(t){e.$set(e.form,"area_id",t)},expression:"form.area_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"执照号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_license_num,callback:function(t){e.$set(e.form,"company_license_num",t)},expression:"form.company_license_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_license_url,callback:function(t){e.$set(e.form,"company_license_url",t)},expression:"form.company_license_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_contact_phone,callback:function(t){e.$set(e.form,"company_contact_phone",t)},expression:"form.company_contact_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank,callback:function(t){e.$set(e.form,"company_bank",t)},expression:"form.company_bank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支行名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank_name,callback:function(t){e.$set(e.form,"company_bank_name",t)},expression:"form.company_bank_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank_account,callback:function(t){e.$set(e.form,"company_bank_account",t)},expression:"form.company_bank_account"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogParticularsa=!1}}},[e._v("我知道了")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogParticulars},on:{"update:visible":function(t){e.dialogParticulars=t}}},[a("el-form",{staticStyle:{overflow:"hidden"},attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.duotel_id,callback:function(t){e.$set(e.form,"duotel_id",t)},expression:"form.duotel_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省级名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,prop:"province_id",autocomplete:"off"},model:{value:e.form.province_id,callback:function(t){e.$set(e.form,"province_id",t)},expression:"form.province_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,autocomplete:"off"},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.area_id,callback:function(t){e.$set(e.form,"area_id",t)},expression:"form.area_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_name,callback:function(t){e.$set(e.form,"personal_name",t)},expression:"form.personal_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_phone,callback:function(t){e.$set(e.form,"personal_phone",t)},expression:"form.personal_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card,callback:function(t){e.$set(e.form,"personal_id_card",t)},expression:"form.personal_id_card"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件正面","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card_img_front,callback:function(t){e.$set(e.form,"personal_id_card_img_front",t)},expression:"form.personal_id_card_img_front"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件背面","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card_img_reverse,callback:function(t){e.$set(e.form,"personal_id_card_img_reverse",t)},expression:"form.personal_id_card_img_reverse"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogParticulars=!1}}},[e._v("我知道了")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(aa,ia,!1,function(e){a("YxAy")},"data-v-36de54b3",null).exports;var oa={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    分公司\n")])},staticRenderFns:[]},sa=(a("VU/8")(null,oa,!1,null,null,null).exports,{data:function(){return{DuotelID:"",dialogVisible:!1,tableList:[],rejection:"",dialogFormVisible:!1,dialogParticularsa:!1,dialogParticulars:!1,listLoading:!1,form:{duotel_id:"",username:"",nickname:"",province_id:"",city_id:"",area_id:"",address:"",company_name:"",company_license_num:"",company_license_url:"",company_contact_phone:"",company_bank:"",company_bank_name:"",company_bank_account:"",personal_name:"",personal_phone:"",personal_id_card:"",personal_id_card_img_front:"",personal_id_card_img_reverse:""},id:"",formLabelWidth:"120px",filter:{ID:""}}},created:function(){this.authListPage()},methods:{authPass:function(e,t){var a=this,i={status:1,user_info_id:t.id,rejected:"1",identity:"developer"};v.authAudit(i).then(function(e){"1"==e.data.code||"-15"==e.data.code?(a.$message({message:"修改成功",type:"success"}),a.authListPage()):-3===e.data.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})},authReject:function(e){var t=this;this.id=e;var a;a=this.tableList.find(function(t){return t.id===e}),this.$prompt("驳回原因","提示",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var i=e.value,o={status:-1,user_info_id:a.id,rejected:i,identity:"developer"};v.authrejection(o).then(function(e){"1"==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"修改成功",type:"success"}),t.authListPage()):-3===e.data.code&&t.$message({message:e.msg,type:"error"})})}).catch(function(e){})},authListPage:function(){var e=this,t={search_key:this.filter.ID,identity:"developer",page:1,per_page:10};this.listLoading=!0,v.authList(t).then(function(t){1===t.code?(e.tableList=t.data.data,e.listLoading=!1):-3===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})},Particulars:function(e,t){var a=this,i={user_info_id:t.id};v.authreParticulars(i).then(function(e){1===e.code?(console.log(t,555555),a.form.duotel_id=e.data.duotel_id,a.form.username=e.data.username,a.form.nickname=e.data.nickname,a.form.province_id=e.data.province_id,a.form.city_id=e.data.city_id,a.form.area_id=e.data.area_id,a.form.address=e.data.address,1==t.user_type?(a.dialogParticularsa=!0,a.dialogParticulars=!1,a.form.company_name=e.data.company_name,a.form.company_license_num=e.data.company_license_num,a.form.company_license_url=e.data.company_license_url,a.form.company_contact_phone=e.data.company_contact_phone,a.form.company_bank=e.data.company_bank,a.form.company_bank_name=e.data.company_bank_name,a.form.company_bank_account=e.data.company_bank_account):2==t.user_type&&(console.log(t,3333333333),a.dialogParticulars=!0,a.dialogParticularsa=!1,a.form.personal_name=t.personal_name,a.form.personal_phone=t.personal_phone,a.form.personal_id_card=t.personal_id_card,a.form.personal_id_card_img_front=t.personal_id_card_img_front,a.form.personal_id_card_img_reverse=t.personal_id_card_img_reverse)):-3===e.data.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})}}}),ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",{staticClass:"row-bg",attrs:{model:e.filter,type:"flex",justify:"space-between"}},[a("div"),e._v(" "),a("div",{staticStyle:{float:"right",width:"300px",right:"0"}},[a("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"Duotel ID",size:"mini"},model:{value:e.filter.ID,callback:function(t){e.$set(e.filter,"ID",t)},expression:"filter.ID"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.authListPage}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tableList,border:"","tooltip-effect":"dark","text-align":"center"}},[a("el-table-column",{attrs:{prop:"id",width:"80",align:"center",sortable:"",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"duotel_id",width:"170",align:"center",sortable:"",label:"duotel ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"开发者名称",width:"150",prop:"company_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("1"==t.row.user_type?t.row.company_name:t.row.personal_name)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"类别",prop:"user_type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s("1"==t.row.user_type?"商户":"个人")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"省",prop:"province_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.province_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"市",prop:"city_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.city_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",label:"区",prop:"area_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoveTitle"},[e._v(e._s(t.row.area_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.developer_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.authPass(t.$index,t.row)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.authReject(t.row.id)}}},[e._v("驳回")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):"1"==t.row.developer_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):"-1"==t.row.developer_status?a("div",[a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("已驳回")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"info"},on:{click:function(a){return e.Particulars(t.$index,t.row)}}},[e._v("详情")])],1):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogParticularsa},on:{"update:visible":function(t){e.dialogParticularsa=t}}},[a("el-form",{staticStyle:{overflow:"hidden"},attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.duotel_id,callback:function(t){e.$set(e.form,"duotel_id",t)},expression:"form.duotel_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省级名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,prop:"province_id",autocomplete:"off"},model:{value:e.form.province_id,callback:function(t){e.$set(e.form,"province_id",t)},expression:"form.province_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,autocomplete:"off"},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.area_id,callback:function(t){e.$set(e.form,"area_id",t)},expression:"form.area_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"执照号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_license_num,callback:function(t){e.$set(e.form,"company_license_num",t)},expression:"form.company_license_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_license_url,callback:function(t){e.$set(e.form,"company_license_url",t)},expression:"form.company_license_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_contact_phone,callback:function(t){e.$set(e.form,"company_contact_phone",t)},expression:"form.company_contact_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank,callback:function(t){e.$set(e.form,"company_bank",t)},expression:"form.company_bank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支行名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank_name,callback:function(t){e.$set(e.form,"company_bank_name",t)},expression:"form.company_bank_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company_bank_account,callback:function(t){e.$set(e.form,"company_bank_account",t)},expression:"form.company_bank_account"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogParticularsa=!1}}},[e._v("我知道了")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogParticulars},on:{"update:visible":function(t){e.dialogParticulars=t}}},[a("el-form",{staticStyle:{overflow:"hidden"},attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"DuotelID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.duotel_id,callback:function(t){e.$set(e.form,"duotel_id",t)},expression:"form.duotel_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省级名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,prop:"province_id",autocomplete:"off"},model:{value:e.form.province_id,callback:function(t){e.$set(e.form,"province_id",t)},expression:"form.province_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{span:12,autocomplete:"off"},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.area_id,callback:function(t){e.$set(e.form,"area_id",t)},expression:"form.area_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_name,callback:function(t){e.$set(e.form,"personal_name",t)},expression:"form.personal_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_phone,callback:function(t){e.$set(e.form,"personal_phone",t)},expression:"form.personal_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card,callback:function(t){e.$set(e.form,"personal_id_card",t)},expression:"form.personal_id_card"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件正面","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card_img_front,callback:function(t){e.$set(e.form,"personal_id_card_img_front",t)},expression:"form.personal_id_card_img_front"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件背面","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personal_id_card_img_reverse,callback:function(t){e.$set(e.form,"personal_id_card_img_reverse",t)},expression:"form.personal_id_card_img_reverse"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogParticulars=!1}}},[e._v("我知道了")])],1)],1)],1)},staticRenderFns:[]};var la=a("VU/8")(sa,ra,!1,function(e){a("0kpO")},"data-v-038a545d",null).exports,na={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    全部应用\n")])},staticRenderFns:[]},da=(a("VU/8")(null,na,!1,null,null,null).exports,{render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    全部虚拟机\n")])},staticRenderFns:[]}),ca=(a("VU/8")(null,da,!1,null,null,null).exports,{render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t全部消息\n")])},staticRenderFns:[]});a("VU/8")({data:function(){return{}}},ca,!1,function(e){a("4DpD")},null,null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var ma={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{upUrl:"",addFormVisible:!1,search:{waName:""},tableData:[],total:0,page:1,pageSize:10,listLoading:!1,editorialActivities:!1,commonsData:[],commonsType:[],editForm:{id:"",tpl_type:"",msg_type:"",title:"",code:"",content:"",desc:""},editFormRules:{tpl_type:[{required:!0,message:"请输入模板类型",trigger:"change"}],msg_type:[{required:!0,message:"请输入消息类型",trigger:"change"}],title:[{required:!0,message:"请输入标题",trigger:"change"}],code:[{required:!0,message:"请输入code内容",trigger:"change"}],content:[{required:!0,message:"请输入内容",trigger:"change"}],desc:[{required:!0,message:"请输入模板说明",trigger:"change"}]},addForm:{id:"",tpl_type:"",msg_type:"",title:"",code:"",content:"",desc:""},addFormRules:{tpl_type:[{required:!0,message:"请输入模板类型",trigger:"change"}],msg_type:[{required:!0,message:"请输入消息类型",trigger:"change"}],code:[{required:!0,message:"请输入code内容",trigger:"change"}],content:[{required:!0,message:"请输入内容",trigger:"change"}],desc:[{required:!0,message:"请输入模板说明",trigger:"change"}]},quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(console.log(x()(e)),1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{}}},created:function(){this.getlist()},methods:{getlist:function(){var e=this,t={content:this.search.waName,tpl_type:"",msg_type:"",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.messageTplList(t).then(function(t){1===t.code&&(e.total=t.data.total,e.tableData=t.data.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1});v.webgetcommonsdata({class_type:"tpl_type"}).then(function(t){1===t.code&&(e.commonsData=t.data)}).catch(function(e){return!1});v.webgetcommonsdata({class_type:"msg_type"}).then(function(t){1===t.code&&(e.commonsType=t.data)}).catch(function(e){return!1})},resetFields:function(e){this.$refs[e].resetFields(),this.addFormVisible=!1},addList:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){for(var a in e.commonsType)if(e.addForm.msg_type==e.commonsType[a].class_value)var i=e.commonsType[a].class_code;for(var a in e.commonsData)if(e.addForm.tpl_type==e.commonsData[a].class_value)var o=e.commonsData[a].class_code;var s={tpl_type:o,msg_type:i,code:e.addForm.code,content:e.addForm.content,desc:e.addForm.desc};v.messageTplAdd(s).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})},handleDelete:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={id:t.id};v.messageTplDel(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getlist()):-2===e.code&&a.$message({message:e.msg,type:"error"})})})},handleEdit:function(e,t){for(var a in this.editorialActivities=!0,this.commonsType)if(t.msg_type==this.commonsType[a].class_code)var i=this.commonsType[a].class_value;for(var a in this.commonsData)if(t.tpl_type==this.commonsData[a].class_code)var o=this.commonsData[a].class_value;this.editForm={id:t.id,tpl_type:o,msg_type:i,title:t.title,code:t.code,content:t.content,desc:t.desc}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){for(var a in e.commonsType)if(e.editForm.msg_type==e.commonsType[a].class_value)var i=e.commonsType[a].class_code;for(var a in e.commonsData)if(e.editForm.tpl_type==e.commonsData[a].class_value)var o=e.commonsData[a].class_code;if(t){var s={id:e.editForm.id,msg_type:i,tpl_type:o,title:e.editForm.title,code:e.editForm.code,content:e.editForm.content,desc:e.editForm.desc};v.meTplEdit(s).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editorialActivities=!1,e.$refs.editForm.resetFields(),e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleSizeChange:function(e){this.pageSize=e,this.getlist()},handleCurrentChange:function(e){this.page=e,this.getlist()},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},ua={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getlist}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"搜索关键字"},model:{value:e.search.waName,callback:function(t){e.$set(e.search,"waName",t)},expression:"search.waName"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("新增消息模板")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{border:"",data:e.tableData,align:"center","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"80",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"消息类型",width:"120",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.commonsType,function(i){return t.row.msg_type==i.class_code?a("p",[e._v(e._s(i.class_value))]):e._e()})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模板类型",width:"120",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.commonsData,function(i){return t.row.tpl_type==i.class_code?a("p",[e._v(e._s(i.class_value))]):e._e()})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"模板说明",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"内容",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{"max-height":"86px",overflow:"hidden"},domProps:{innerHTML:e._s(t.row.content)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑消息模板",visible:e.editorialActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editorialActivities=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"消息类型",prop:"msg_type"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择消息类型"},model:{value:e.editForm.msg_type,callback:function(t){e.$set(e.editForm,"msg_type",t)},expression:"editForm.msg_type"}},e._l(e.commonsType,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"模板类型",prop:"tpl_type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择模板类型"},model:{value:e.editForm.tpl_type,callback:function(t){e.$set(e.editForm,"tpl_type",t)},expression:"editForm.tpl_type"}},e._l(e.commonsData,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题","auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板code",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入code内容","auto-complete":"off"},model:{value:e.editForm.code,callback:function(t){e.$set(e.editForm,"code",t)},expression:"editForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板说明",prop:"desc"}},[a("el-input",{attrs:{placeholder:"请输入模板说明","auto-complete":"off"},model:{value:e.editForm.desc,callback:function(t){e.$set(e.editForm,"desc",t)},expression:"editForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editorialActivities=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建模板",visible:e.addFormVisible,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"creactivit",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"消息类型",prop:"msg_type"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择消息类型"},model:{value:e.addForm.msg_type,callback:function(t){e.$set(e.addForm,"msg_type",t)},expression:"addForm.msg_type"}},e._l(e.commonsType,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"模板类型",prop:"tpl_type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择模板类型"},model:{value:e.addForm.tpl_type,callback:function(t){e.$set(e.addForm,"tpl_type",t)},expression:"addForm.tpl_type"}},e._l(e.commonsData,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题","auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板code",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入code内容","auto-complete":"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板说明",prop:"desc"}},[a("el-input",{attrs:{placeholder:"请输入模板说明","auto-complete":"off"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(ma,ua,!1,function(e){a("fbT1"),a("JXM4")},"data-v-1912f326",null).exports;var pa={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t全部工单\n")])},staticRenderFns:[]};var ga=a("VU/8")({data:function(){return{}}},pa,!1,function(e){a("4CdW")},null,null).exports,fa={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\tVolp管理\n")])},staticRenderFns:[]};a("VU/8")({data:function(){return{}}},fa,!1,function(e){a("+z0s")},null,null).exports;var _a={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t全部语音\n")])},staticRenderFns:[]};a("VU/8")({data:function(){return{}}},_a,!1,function(e){a("b7OE")},null,null).exports;var ha={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t全部数据\n")])},staticRenderFns:[]};var va=a("VU/8")({data:function(){return{}}},ha,!1,function(e){a("tRKm")},null,null).exports,ba={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t接口文档\n")])},staticRenderFns:[]};var ya=a("VU/8")({data:function(){return{}}},ba,!1,function(e){a("D2KZ")},null,null).exports,ka={data:function(){return{filters:{name:"",value:""},users:[],total:0,page:1,sels:[],listLoading:!1,pageSize:10,dialogFormVisible:!1,id:""}},methods:{editor:function(e,t){this.$router.push({path:"/lightapp/editorLightApp",query:{id:t.id}})},handleSizeChange:function(e){this.pageSize=e,this.getLightApp()},handleCurrentChange:function(e){this.page=e,this.getLightApp()},getLightApp:function(){var e=this,t={page:this.page,per_page:this.pageSize,app_name:this.filters.name};this.listLoading=!0,v.allLightAppList(t).then(function(t){1===t.code?(e.total=t.data.total,e.users=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},lightAppAudit:function(e,t){var a=this,i={id:t.id,verify_status:1};v.lightAppAudit(i).then(function(e){"1"==e.data.code?(a.$message({message:"修改成功",type:"success"}),a.getLightApp()):-3===e.data.code&&a.$message({message:e.msg,type:"error"})})},lightAppAuditReject:function(e){var t=this;this.id=e;var a;a=this.users.find(function(t){return t.id===e}),this.$prompt("驳回原因","提示",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var i=e.value,o={id:a.id,verify_status:-1,verify_reason:i};v.lightAppAuditReject(o).then(function(e){"1"==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"修改成功",type:"success"}),t.getLightApp()):-3===e.code&&t.$message({message:e.msg,type:"error"})})}).catch(function(e){})},deleteLightApp:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};v.deleteLightApp(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getLightApp()):-3===e.data.code&&a.$message({message:e.data.msg,type:"error"})})})},handleAdd:function(){this.$router.push({path:"/addLightApp"})},selsChange:function(e){this.sels=e}},created:function(){},mounted:function(){this.getLightApp()}},wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getLightApp}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{placeholder:"应用名称","auto-complete":"off",size:"mini"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{"min-width":"130",prop:"app_type_name",label:"应用类型",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",prop:"app_name",label:"应用名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",prop:"icon",label:"应用图标",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_bank",href:e.row.frontend_url}},[a("el-image",{staticStyle:{width:"60px",height:"50px"},attrs:{src:e.row.icon}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",prop:"payment",label:"支付费用",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",prop:"is_third",label:"是否第三方",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[1===e.row.is_third?a("font",{attrs:{title:"第三方应用",color:"green",size:"4"}},[a("i",{staticClass:"el-icon-success"})]):a("font",{attrs:{title:"Duotel",color:"#909399",size:"4"}},[a("i",{staticClass:"el-icon-error"})])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",prop:"online_status",label:"上线状态",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[1===e.row.online_status?a("font",{attrs:{title:"上线",color:"green",size:"4"}},[a("i",{staticClass:"el-icon-success"})]):a("font",{attrs:{title:"下线",color:"#909399",size:"4"}},[a("i",{staticClass:"el-icon-error"})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"400"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.verify_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.lightAppAudit(t.$index,t.row)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.lightAppAuditReject(t.row.id)}}},[e._v("驳回")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.editor(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.deleteLightApp(t.$index,t.row)}}},[e._v("删除")])],1):"1"==t.row.verify_status?a("div",[a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已审核")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.editor(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.deleteLightApp(t.$index,t.row)}}},[e._v("删除")])],1):"-1"==t.row.verify_status?a("div",[a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("已驳回")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.editor(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.deleteLightApp(t.$index,t.row)}}},[e._v("删除")])],1):e._e()]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};a("VU/8")(ka,wa,!1,function(e){a("R7SN")},null,null).exports;var Fa={data:function(){return{imageUrl:"",dialogVisible:!1,editLoading:!1,options:[],editorForm:m()({boss_work_id:"",app_name:"",icon:"",is_third:"0",app_type:"",payment:"",frontend_url:"",online_status:"0",iduotel_user_id:"",desc:"",backend_url:""},"iduotel_user_id",""),editorFormRules:{app_name:[{required:!0,message:"请输入轻应用名称",trigger:"change"}],icon:[{required:!0,message:"请输入轻应用图标",trigger:"change"}],is_third:[{required:!0,message:"请选择是否第三方应用",trigger:"change"}],frontend_url:[{required:!0,message:"请输入前台访问地址",trigger:"change"}],online_status:[{required:!0,message:"请选择是否上线",trigger:"change"}],app_type:[{required:!0,message:"请选择轻应用类型",trigger:"change"}]}}},created:function(){this.lightAppType(),this.lightAppDetail()},methods:{resetFields:function(e){this.$refs[e].resetFields(),this.$router.replace({path:"/lightapp/allLightApp"})},workId:function(){var e=JSON.parse(sessionStorage.getItem("userMsg")).userInfo;this.editorForm.boss_work_id=e.work_id},editorSubmit:function(){var e=this;this.workId(),this.$refs.editorForm.validate(function(t){null!=e.editorForm.payment&&""!=e.editorForm.payment||(e.editorForm.payment=0),t&&("是"==e.editorForm.is_third?e.editorForm.is_third=1:"否"==e.editorForm.is_third&&(e.editorForm.is_third=2),"是"==e.editorForm.online_status?e.editorForm.online_status=1:"否"==e.editorForm.online_status&&(e.editorForm.online_status=2),v.editorLightApp(e.editorForm).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$refs.editorForm.resetFields(),e.editorFormVisible=!1,e.$router.replace({path:"/lightapp/allLightApp"})):-44===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){}))})},lightAppDetail:function(){var e=this,t={id:this.$route.query.id};v.lightAppDetail(t).then(function(t){console.log(t,123456780),1==t.data.code&&(e.editorForm=t.data.data,1==e.editorForm.is_third?e.editorForm.is_third="是":2==e.editorForm.is_third&&(e.editorForm.is_third="否"),1==e.editorForm.online_status?e.editorForm.online_status="是":2==e.editorForm.online_status&&(e.editorForm.online_status="否"))})},lightAppType:function(){var e=this;v.lightAppType().then(function(t){1===t.code?e.options=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})})},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.editorForm.icon=t.data.data)}).catch(function(e){})},handleAvatarSuccess:function(e,t){this.newImageUrl=URL.createObjectURL(t.raw),this.editorImageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a="jpg"===t,i="png"===t,o=e.size/1024/1024<10;return a||i||this.$message({message:"上传文件只能是 jpg、png格式!",type:"warning"}),o||this.$message({message:"上传文件大小不能超过 10MB!",type:"warning"}),a||i&&o}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"编辑应用"}},[a("el-form",{ref:"editorForm",attrs:{model:e.editorForm,rules:e.editorFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"应用名称",prop:"app_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入应用名称"},model:{value:e.editorForm.app_name,callback:function(t){e.$set(e.editorForm,"app_name",t)},expression:"editorForm.app_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"前台地址",prop:"frontend_url"}},[a("el-input",{attrs:{placeholder:"请输入前台地址"},model:{value:e.editorForm.frontend_url,callback:function(t){e.$set(e.editorForm,"frontend_url",t)},expression:"editorForm.frontend_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"后台地址"}},[a("el-input",{attrs:{placeholder:"请输入后台地址"},model:{value:e.editorForm.backend_url,callback:function(t){e.$set(e.editorForm,"backend_url",t)},expression:"editorForm.backend_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中台ＩＤ"}},[a("el-input",{attrs:{placeholder:"请输入中台ＩＤ"},model:{value:e.editorForm.iduotel_user_id,callback:function(t){e.$set(e.editorForm,"iduotel_user_id",t)},expression:"editorForm.iduotel_user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用描述"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入应用描述"},model:{value:e.editorForm.desc,callback:function(t){e.$set(e.editorForm,"desc",t)},expression:"editorForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用类型",prop:"app_type"}},[a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.editorForm.app_type,callback:function(t){e.$set(e.editorForm,"app_type",t)},expression:"editorForm.app_type"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.type_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应用图标",prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1,"list-type":"picture-card"}},[e.editorForm.icon?a("img",{staticClass:"avatar",attrs:{src:e.editorForm.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"第三方",prop:"is_third"}},[a("el-radio-group",{model:{value:e.editorForm.is_third,callback:function(t){e.$set(e.editorForm,"is_third",t)},expression:"editorForm.is_third"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上线",prop:"online_status"}},[a("el-radio-group",{model:{value:e.editorForm.online_status,callback:function(t){e.$set(e.editorForm,"online_status",t)},expression:"editorForm.online_status"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付费金额"}},[a("el-input",{staticClass:"price",attrs:{placeholder:"请输入金额","auto-complete":"off"},model:{value:e.editorForm.payment,callback:function(t){e.$set(e.editorForm,"payment",t)},expression:"editorForm.payment"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{on:{click:function(t){return e.resetFields("editorForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},on:{click:e.editorSubmit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};a("VU/8")(Fa,La,!1,function(e){a("vJXg")},"data-v-f4b56616",null).exports;var xa={data:function(){return{imageUrl:"",dialogVisible:!1,editLoading:!1,options:[],addForm:m()({boss_work_id:"",app_name:"",icon:"",is_third:"",app_type:"",payment:"",frontend_url:"",online_status:"",iduotel_user_id:"",desc:"",backend_url:""},"iduotel_user_id",""),addFormRules:{app_name:[{required:!0,message:"请输入轻应用名称",trigger:"change"}],icon:[{required:!0,message:"请输入轻应用图标",trigger:"change"}],is_third:[{required:!0,message:"请选择是否第三方应用",trigger:"change"}],frontend_url:[{required:!0,message:"请输入前台访问地址",trigger:"change"}],online_status:[{required:!0,message:"请选择是否上线",trigger:"change"}],app_type:[{required:!0,message:"请选择轻应用类型",trigger:"change"}]}}},created:function(){this.lightAppType(),this.workId()},methods:{addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){null!=e.addForm.payment&&""!=e.addForm.payment||(e.addForm.payment=0),t&&("是"==e.addForm.is_third?e.addForm.is_third=1:"否"==e.addForm.is_third&&(e.addForm.is_third=2),"是"==e.addForm.online_status?e.addForm.online_status=1:"否"==e.addForm.online_status&&(e.addForm.online_status=2),v.addLightApp(e.addForm).then(function(t){1===t.data.code?(e.$message({message:"新建成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.$router.replace({path:"/lightapp/allLightApp"})):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){}))})},resetFields:function(e){this.$refs[e].resetFields(),this.$router.replace({path:"/lightapp/allLightApp"})},lightAppType:function(){var e=this;v.lightAppType().then(function(t){1===t.code?e.options=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})})},workId:function(){var e=JSON.parse(sessionStorage.getItem("userMsg")).userInfo;this.addForm.boss_work_id=e.work_id},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.addForm.icon=t.data.data)}).catch(function(e){})},handleChange:function(e){this.file=e.raw},handleAvatarSuccess:function(e,t){this.addForm.icon=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a="image/png"===e.type,i=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&i&&a}}},$a={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"添加应用"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"应用名称",prop:"app_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入应用名称"},model:{value:e.addForm.app_name,callback:function(t){e.$set(e.addForm,"app_name",t)},expression:"addForm.app_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"前台地址",prop:"frontend_url"}},[a("el-input",{attrs:{placeholder:"请输入前台地址"},model:{value:e.addForm.frontend_url,callback:function(t){e.$set(e.addForm,"frontend_url",t)},expression:"addForm.frontend_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"后台地址"}},[a("el-input",{attrs:{placeholder:"请输入后台地址"},model:{value:e.addForm.backend_url,callback:function(t){e.$set(e.addForm,"backend_url",t)},expression:"addForm.backend_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中台ＩＤ"}},[a("el-input",{attrs:{placeholder:"请输入中台ＩＤ"},model:{value:e.addForm.iduotel_user_id,callback:function(t){e.$set(e.addForm,"iduotel_user_id",t)},expression:"addForm.iduotel_user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用描述"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入应用描述"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用类型",prop:"app_type"}},[a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.addForm.app_type,callback:function(t){e.$set(e.addForm,"app_type",t)},expression:"addForm.app_type"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.type_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应用图标",prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1,"list-type":"picture-card"}},[e.addForm.icon?a("img",{staticClass:"avatar",attrs:{src:e.addForm.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"第三方",prop:"is_third"}},[a("el-radio-group",{model:{value:e.addForm.is_third,callback:function(t){e.$set(e.addForm,"is_third",t)},expression:"addForm.is_third"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上线",prop:"online_status"}},[a("el-radio-group",{model:{value:e.addForm.online_status,callback:function(t){e.$set(e.addForm,"online_status",t)},expression:"addForm.online_status"}},[a("el-radio-button",{attrs:{label:"否",value:"1"}},[e._v("否")]),e._v(" "),a("el-radio-button",{attrs:{label:"是",value:"2"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付费金额"}},[a("el-input",{staticClass:"price",attrs:{placeholder:"请输入金额","auto-complete":"off"},model:{value:e.addForm.payment,callback:function(t){e.$set(e.addForm,"payment",t)},expression:"addForm.payment"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{on:{click:function(t){return e.resetFields("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};a("VU/8")(xa,$a,!1,function(e){a("tAEc")},"data-v-5251137c",null).exports;var Ca={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("el-col",{staticClass:"row-bg",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-input",{attrs:{size:"mini",placeholder:"请输入订单号"}})],1),this._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"}},[this._v("查询")])],1)],1)],1),this._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tableData,"default-sort":{prop:"date",order:"descending"}}},[t("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"address",label:"地址",formatter:this.formatter}})],1)],1)},staticRenderFns:[]};var Sa=a("VU/8")({data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{formatter:function(e,t){return e.address}}},Ca,!1,function(e){a("fNDA")},null,null).exports,za={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t账套管理\n")])},staticRenderFns:[]};var qa=a("VU/8")({data:function(){return{}}},za,!1,function(e){a("Jp0J")},null,null).exports,Ua={data:function(){return m()({tableData:[],state:!0,setshowName:!0,setcatname:!1,listLoading:!1,editFormVisible:!1,editLoading:!1,search:{waName:""},editFormRules:{catname:[{required:!0,message:"请输入栏目名称",trigger:"change"}],type:[{required:!0,message:"请输入栏目类别",trigger:"change"}],status:[{required:!0,message:"请输入栏目状态",trigger:"change"}],create_time:[{required:!0,message:"请输入栏目发布时间",trigger:"change"}],url:[{required:!0,message:"请输入外链URL",trigger:"change"}]},editForm:{listorder:"1",id:"",pid:"",image:"",catname:"",type:"",url:"",description:"",status:"",create_time:""},addFormVisible:!1,addLoading:!1,addFormRules:{catname:[{required:!0,message:"请输入栏目名称",trigger:"change"}],pid:[{required:!0,message:"请选择栏目父级",trigger:"change"}],type:[{required:!0,message:"请输入栏目类别",trigger:"change"}],status:[{required:!0,message:"请输入栏目状态",trigger:"change"}],release_time:[{required:!0,message:"请输入栏目发布时间",trigger:"change"}],url:[{required:!0,message:"请输入外链URL",trigger:"change"}]},addForm:{listorder:"1",pid:"",image:"",catname:"",type:"",url:"",value1:"",url_desc:"",description:"",status:"",release_time:""},value:"",input:"",multipleSelection:[]},"listLoading",!1)},mounted:function(){this.getList()},methods:{getList:function(){var e=this,t=this;this.listLoading=!0,v.websiteList().then(function(a){200===a.status&&(1===a.data.code?(t.tableData=a.data.data,console.log(t.tableData),t.listLoading=!1):-7===a.code&&(e.$message({message:a.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})},searchlist:function(){var e=this,t={search_key:this.search.waName};""==this.search.waName&&(this.state=!0,this.setshowName=!0,this.setcatname=!1,this.getList()),this.listLoading=!0,v.websearchCategory(t).then(function(t){1===t.code&&(""==e.search.waName?(e.state=!0,e.setshowName=!0,e.setcatname=!1):(e.state=!1,e.setshowName=!1,e.setcatname=!0),e.tableData=t.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){console.log(t.id),this.editFormVisible=!0,0===t.type?this.type="正常栏目":1===t.type&&(this.type="外链"),this.editForm={listorder:1,id:t.id,pid:t.pid,image:t.image,catname:t.catname,type:this.type,url_desc:21321,url:t.url,description:t.description,status:t.status,create_time:t.create_time}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return!1;v.editcategory(e.editForm).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$refs.addForm.resetFields(),e.editFormVisible=!1,e.getList()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})},addList:function(){this.addFormVisible=!0},pidVal:function(e){console.log(e)},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&(e.addLoading=!0,v.addcategory(e.addForm).then(function(t){1===t.data.code?(e.$message({message:"新建成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getList()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){}))})},handleAvatarSuccess:function(e,t){this.addForm.image=URL.createObjectURL(t.raw)},handleChange:function(e){this.file=e.raw},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.addForm.image){var a=e.addForm.image;v.deleOldImg(a)}e.addForm.image=t.data.data}}).catch(function(e){})},selGoods:function(e){void 0!==e.pid?this.addForm.pid=e.pid:this.addForm.pid=0},selblur:function(e){void 0!==e.pid?this.addForm.pid=e.pid:this.addForm.pid=0},resetFields:function(e){this.$refs[e].resetFields()},handleDelete:function(e,t){var a=this,i={id:t.id};this.$confirm("确认删除吗？","提示",{type:"warning"}).then(function(){v.delcategory(i).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getList()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})}).catch(function(e){})},handleLook:function(e,t){this.$router.push({path:"/allArticle",query:{id:t.id}})}}},Ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchlist}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入栏目ID/标题或文章标题"},model:{value:e.search.waName,callback:function(t){e.$set(e.search,"waName",t)},expression:"search.waName"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("新增栏目")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"栏目名称","min-width":"200",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.setshowName?a("div",{staticStyle:{"text-align":"left","margin-left":"100px"},domProps:{innerHTML:e._s(t.row.showName)}}):e.setcatname?a("div",{staticStyle:{"text-align":"left","margin-left":"100px"},domProps:{innerHTML:e._s(t.row.catname)}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"article_num",label:"内容",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.article_num))]}}])}),e._v(" "),e.state?a("el-table-column",{attrs:{prop:"lv",label:"排序",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.lv))]}}],null,!1,3636371623)}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("查看文章")]),e._v(" "),a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑栏目",visible:e.editFormVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"catname"}},[a("el-input",{attrs:{placeholder:"栏目名称","auto-complete":"off"},model:{value:e.editForm.catname,callback:function(t){e.$set(e.editForm,"catname",t)},expression:"editForm.catname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目类别",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择栏目类别"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-option",{attrs:{label:"正常栏目",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"外链",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"外链URL",prop:"url"}},[a("el-input",{attrs:{placeholder:"外链URL","auto-complete":"off"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目描述",prop:"description"}},[a("el-input",{attrs:{placeholder:"栏目描述","auto-complete":"off"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目状态",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("不显示")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("显示")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布时间",prop:"create_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"栏目发布时间"},model:{value:e.editForm.create_time,callback:function(t){e.$set(e.editForm,"create_time",t)},expression:"editForm.create_time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增栏目",visible:e.addFormVisible,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"creactivit",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"catname"}},[a("el-input",{attrs:{placeholder:"栏目名称","auto-complete":"off"},model:{value:e.addForm.catname,callback:function(t){e.$set(e.addForm,"catname",t)},expression:"addForm.catname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父级栏目",prop:"pid"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",placeholder:"请选择父级栏目"},on:{change:e.selGoods,blur:e.selblur},model:{value:e.addForm.value1,callback:function(t){e.$set(e.addForm,"value1",t)},expression:"addForm.value1"}},[a("el-option",{attrs:{label:"顶级栏目",value:"0"}}),e._v(" "),e._l(e.tableData,function(t){return a("el-option",{key:t.id,attrs:{label:t.catname,value:t},domProps:{innerHTML:e._s(t.showName)}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目类别",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择栏目类别"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[a("el-option",{attrs:{label:"正常栏目",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"外链",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"外链URL",prop:"url"}},[a("el-input",{attrs:{placeholder:"外链URL","auto-complete":"off"},model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外链描述",prop:"url_desc"}},[a("el-input",{attrs:{placeholder:"请输入外链描述","auto-complete":"off"},model:{value:e.addForm.url_desc,callback:function(t){e.$set(e.addForm,"url_desc",t)},expression:"addForm.url_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"on-success":e.handleAvatarSuccess,"show-file-list":!1},model:{value:e.addForm.image,callback:function(t){e.$set(e.addForm,"image",t)},expression:"addForm.image"}},[e.addForm.image?a("img",{staticClass:"avatar",attrs:{src:e.addForm.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目状态",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("不显示")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("显示")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"栏目状态","auto-complete":"off"},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发布时间",prop:"release_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期时间"},model:{value:e.addForm.release_time,callback:function(t){e.$set(e.addForm,"release_time",t)},expression:"addForm.release_time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addForm")}},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Da=a("VU/8")(Ua,Ta,!1,function(e){a("RJ0O")},"data-v-44e790ce",null).exports,ja={data:function(){var e,t;return{commonsType:[],commonType:[],tablelist:[],getType:[],commonAct:[],total:0,current:0,page:1,pageSize:10,listLoading:!1,activityType:!1,addFormVisible:!1,addLoading:!1,editorialActivities:!1,detailsActivities:!1,discontinue:!1,enableing:!1,discontinues:!1,enabling:!1,addForm:(e={wa_type:"",wa_name:"",wa_desc:"",status:"",act:"",wa_organizer:"",wa_address:"",price:"",wa_title:"",begin_time:"",end_time:""},m()(e,"wa_title",""),m()(e,"remark",""),m()(e,"tag",""),m()(e,"image",""),e),addFormRules:{wa_type:[{required:!0,message:"请选择活动类型",trigger:"change"}],act:[{required:!0,message:"请选择动作",trigger:"change"}],status:[{required:!0,message:"请选择活动状态",trigger:"change"}],wa_name:[{required:!0,message:"请输入活动名称",trigger:"change"}],wa_desc:[{required:!0,message:"请输入活动描述",trigger:"change"}],wa_organizer:[{required:!0,message:"请输入活动主办方",trigger:"change"}],wa_title:[{required:!0,message:"请输入描述相关内容",trigger:"change"}],wa_address:[{required:!0,message:"请输入活动地址相关内容",trigger:"change"}],price:[{required:!0,message:"请输入价格相关内容",trigger:"change"}],end_time:[{required:!0,message:"请输入活动结束时间",trigger:"change"}],begin_time:[{required:!0,message:"请输入活动开始时间",trigger:"change"}],tag:[{required:!0,message:"请输入标签相关内容",trigger:"change"}],image:[{required:!0,message:"请选择图片",trigger:"change"}]},status:"",beginTime:"",endTime:"",editForm:(t={wa_id:"",wa_type:"",wa_name:"",wa_desc:"",status:"",wa_organizer:"",wa_address:"",price:"",wa_title:"",begin_time:"",end_time:""},m()(t,"wa_title",""),m()(t,"remark",""),m()(t,"tag",""),m()(t,"image",""),t),editFormRules:{wa_type:[{required:!0,message:"请选择活动类型",trigger:"change"}],status:[{required:!0,message:"请选择活动状态",trigger:"change"}],wa_name:[{required:!0,message:"请输入活动名称",trigger:"change"}],wa_desc:[{required:!0,message:"请输入活动描述",trigger:"change"}],wa_organizer:[{required:!0,message:"请输入活动主办方",trigger:"change"}],wa_title:[{required:!0,message:"请输入描述相关内容",trigger:"change"}],wa_address:[{required:!0,message:"请输入活动地址相关内容",trigger:"change"}],price:[{required:!0,message:"请输入价格相关内容",trigger:"change"}],end_time:[{required:!0,message:"请输入活动结束时间",trigger:"change"}],begin_time:[{required:!0,message:"请输入活动开始时间",trigger:"change"}],tag:[{required:!0,message:"请输入标签相关内容",trigger:"change"}],image:[{required:!0,message:"请选择图片",trigger:"change"}]},enables:{wa_id:"",status:""},file:{},file2:{},search:{waName:"",actType:""},c_id:""}},created:function(){this.getlist()},methods:{getlist:function(){var e=this,t={act:"",wa_type:this.search.actType,status:"",per_page:this.pageSize,page:this.page,wa_name:this.search.waName};this.listLoading=!0,v.webactivities(t).then(function(t){e.total=t.data.total,1===t.code&&(e.tablelist=t.data.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1});t={class_type:"wa_type"};v.webgetcommonsdata(t).then(function(t){if(1===t.code){e.commonsType=t.data,e.commonType=t.data;for(var a=[],i=0;i<e.commonsType.length;i++){var o=e.commonsType[i].class_value;a.push(o)}a.unshift("全部"),e.commonsType=a}else-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1});t={class_type:"act"};v.webgetcommonsdata(t).then(function(t){1===t.code?e.commonAct=t.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){return!1})},handleSizeChange:function(e){this.pageSize=e,this.getlist()},handleCurrentChange:function(e){this.page=e,this.getlist()},complete:function(){this.getlist()},whole:function(e,t){var a=this;this.current=e,1==e?t=54:2==e?t=55:3==e&&(t=56),this.c_id=t;var i={act:"",wa_type:t,status:"",per_page:this.pageSize,page:this.page,wa_name:""};this.listLoading=!0,v.webactivities(i).then(function(e){a.total=e.data.total,1===e.code&&(a.tablelist=e.data.data,a.listLoading=!1)}).catch(function(e){return!1})},Advanced:function(){0==this.activityType?this.activityType=!0:this.activityType=!1},resetFields:function(e){this.$refs[e].resetFields(),this.addFormVisible=!1},Establish:function(){this.addFormVisible=!0},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a,i=Date.parse(new Date(e.addForm.begin_time))/1e3,o=Date.parse(new Date(e.addForm.end_time))/1e3;for(var s in e.commonType)if(e.addForm.wa_type==e.commonType[s].class_value)var r=e.commonType[s].id;for(var s in e.commonAct)if(e.addForm.act==e.commonAct[s].class_value)var l=e.commonAct[s].id;var n=(a={wa_type:r,wa_name:e.addForm.wa_name,act:l,wa_desc:e.addForm.wa_desc,status:e.addForm.status,wa_organizer:e.addForm.wa_organizer,wa_address:e.addForm.wa_address,price:e.addForm.price,wa_title:e.addForm.wa_title,begin_time:i,end_time:o},m()(a,"wa_title",e.addForm.wa_title),m()(a,"remark",e.addForm.remark),m()(a,"tag",e.addForm.tag),m()(a,"image",e.addForm.image),a);v.webactivityadd(n).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleAvatarSuccess:function(e,t){this.addForm.image=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.editForm.image=URL.createObjectURL(t.raw)},handleChange:function(e){this.file=e.raw},handleChange2:function(e){this.file2=e.raw},beforeAvatarUpload:function(e){var t=e.size<512e3;return t||this.$message.error("上传头像图片大小不能超过 500kb!"),t},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.addForm.image=t.data.data)}).catch(function(e){})},uploadMainImg2:function(){var e=this,t=new FormData;t.append("file",this.file2),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.editForm.image=t.data.data)}).catch(function(e){})},enable:function(e){var t=this;this.enables.wa_id=e;var a;a=this.tablelist.find(function(t){return t.wa_id===e}),this.enables.status=1==a.status?-1:1;var i=this.$createElement;this.$msgbox({title:"提示",type:"warning",message:1==a.status?i("div",null,[i("div",null,"确定要停用此账户吗？ "),i("div",{style:"color:red"},"确认停用后该用户将不能再访问系统。 ")]):i("div",null,[i("div",null,"确定要启用此账户吗？ "),i("div",{style:"color:red"},"启用后该用户将有权访问系统。 ")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){v.webactivitystatus(t.enables).then(function(e){if(1===e.data.code){var a={act:"",wa_type:t.c_id,status:"",per_page:t.pageSize,page:t.page,wa_name:""};t.listLoading=!0,v.webactivities(a).then(function(e){t.total=e.data.total,1===e.code&&(t.tablelist=e.data.data,t.listLoading=!1)}).catch(function(e){return!1})}else-2===e.code&&t.$message({message:e.msg,type:"error"})})}).catch(function(e){})},edit:function(e,t){var a;for(var i in this.editorialActivities=!0,this.commonType)if(t.wa_type==this.commonType[i].id)var o=this.commonType[i].class_value;this.editForm=(a={wa_id:t.wa_id,wa_type:o,wa_name:t.wa_name,wa_desc:t.wa_desc,status:t.status,wa_organizer:t.wa_organizer,wa_address:t.wa_address,price:t.price,wa_title:t.wa_title,begin_time:t.begin_time,end_time:t.end_time},m()(a,"wa_title",t.wa_title),m()(a,"remark",t.remark),m()(a,"tag",t.tag),m()(a,"image",t.image),a)},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a,i=Date.parse(new Date(e.editForm.begin_time)/1e3),o=Date.parse(new Date(e.editForm.end_time))/1e3;for(var s in e.commonType)if(e.editForm.wa_type==e.commonType[s].class_value)var r=e.commonType[s].id;var l=(a={wa_id:e.editForm.wa_id,wa_type:r,wa_name:e.editForm.wa_name,wa_desc:e.editForm.wa_desc,status:e.editForm.status,wa_organizer:e.editForm.wa_organizer,wa_address:e.editForm.wa_address,price:e.editForm.price,wa_title:e.editForm.wa_title,begin_time:i,end_time:o},m()(a,"wa_title",e.editForm.wa_title),m()(a,"remark",e.editForm.remark),m()(a,"tag",e.editForm.tag),m()(a,"image",e.editForm.image),a);v.webactivityedit(l).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editorialActivities=!1,e.$refs.editForm.resetFields(),e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleLook:function(e,t){var a;this.detailsActivities=!0,this.editForm=(a={wa_id:t.wa_id,wa_type:String(t.wa_type),wa_name:t.wa_name,wa_desc:t.wa_desc,status:t.status,wa_organizer:t.wa_organizer,wa_address:t.wa_address,price:t.price,wa_title:t.wa_title,begin_time:t.begin_time,end_time:t.end_time},m()(a,"wa_title",t.wa_title),m()(a,"remark",t.remark),m()(a,"tag",t.tag),m()(a,"image",t.image),a)},deletelist:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){var e={wa_id:t.wa_id};v.webactivitydel(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getlist()):-2===e.code&&a.$message({message:e.msg,type:"error"})})})}},filters:{filter1:function(e){return 54==e?"媒体":55==e?"官方":56==e?"咨询":void 0}}},Ea={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getlist}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"活动名称"},model:{value:e.search.waName,callback:function(t){e.$set(e.search,"waName",t)},expression:"search.waName"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh-right"},on:{click:e.Advanced}},[e._v("高级检索")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.Establish}},[e._v("创建活动")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.activityType,expression:"activityType"}],staticClass:"activity_type"},[a("ul",{staticStyle:{"padding-left":"0"}},[a("span",[e._v("活动类型：")]),e._v(" "),e._l(this.commonsType,function(t,i){return a("li",{key:i,staticClass:"el-button whole el-button--small",class:{totals:i==e.current},on:{click:function(a){return e.whole(i,t.id)}}},[e._v(e._s(t))])})],2)])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tablelist,border:"","tooltip-effect":"dark","text-align":"center"}},[a("el-table-column",{attrs:{prop:"wa_id",width:"70",label:"ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.wa_id))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"image",label:"头图",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.image}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wa_type",width:"130",label:"活动类型",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filter1")(t.row.wa_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wa_name",label:"活动名称",sortable:"",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"wa_organizer",label:"活动主办方",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"begin_time",width:"160",label:"开始时间",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",width:"160",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.enable(t.row.wa_id)}}},[e._v("停用")]):-1==t.row.status?a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.enable(t.row.wa_id)}}},[e._v("启用")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.edit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{size:"mini",plain:"",type:"success"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("明细")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.deletelist(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"创建活动",visible:e.addFormVisible,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"creactivit",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"活动类型"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动类型"},model:{value:e.addForm.wa_type,callback:function(t){e.$set(e.addForm,"wa_type",t)},expression:"addForm.wa_type"}},e._l(e.commonType,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"动作"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"动作"},model:{value:e.addForm.act,callback:function(t){e.$set(e.addForm,"act",t)},expression:"addForm.act"}},e._l(e.commonAct,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)]],2),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"活动状态"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio-button",{attrs:{label:"-1"}},[e._v("停用")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("启用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"活动名称",prop:"wa_name"}},[a("el-input",{attrs:{placeholder:"活动名称","auto-complete":"off"},model:{value:e.addForm.wa_name,callback:function(t){e.$set(e.addForm,"wa_name",t)},expression:"addForm.wa_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动描述",prop:"wa_desc"}},[a("el-input",{attrs:{placeholder:"活动描述","auto-complete":"off"},model:{value:e.addForm.wa_desc,callback:function(t){e.$set(e.addForm,"wa_desc",t)},expression:"addForm.wa_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详情描述",prop:"wa_title"}},[a("el-input",{attrs:{placeholder:"详情描述","auto-complete":"off"},model:{value:e.addForm.wa_title,callback:function(t){e.$set(e.addForm,"wa_title",t)},expression:"addForm.wa_title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动主办方",prop:"wa_organizer"}},[a("el-input",{attrs:{placeholder:"活动主办方","auto-complete":"off"},model:{value:e.addForm.wa_organizer,callback:function(t){e.$set(e.addForm,"wa_organizer",t)},expression:"addForm.wa_organizer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动地址",prop:"wa_address"}},[a("el-input",{attrs:{placeholder:"活动地址","auto-complete":"off"},model:{value:e.addForm.wa_address,callback:function(t){e.$set(e.addForm,"wa_address",t)},expression:"addForm.wa_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"活动价格","auto-complete":"off"},model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",t)},expression:"addForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起始时间",prop:"begin_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"起始时间"},model:{value:e.addForm.begin_time,callback:function(t){e.$set(e.addForm,"begin_time",t)},expression:"addForm.begin_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"end_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间"},model:{value:e.addForm.end_time,callback:function(t){e.$set(e.addForm,"end_time",t)},expression:"addForm.end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动标签",prop:"tag"}},[a("el-input",{attrs:{placeholder:"标签","auto-complete":"off"},model:{value:e.addForm.tag,callback:function(t){e.$set(e.addForm,"tag",t)},expression:"addForm.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注","auto-complete":"off"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},model:{value:e.addForm.image,callback:function(t){e.$set(e.addForm,"image",t)},expression:"addForm.image"}},[e.addForm.image?a("img",{staticClass:"avatar",attrs:{src:e.addForm.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑活动",visible:e.editorialActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editorialActivities=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"活动类型"}},[[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动类型"},model:{value:e.editForm.wa_type,callback:function(t){e.$set(e.editForm,"wa_type",t)},expression:"editForm.wa_type"}},e._l(e.commonType,function(e){return a("el-option",{key:e.class_code,attrs:{value:e.class_value}})}),1)]],2),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"活动状态"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[a("el-radio-button",{attrs:{label:"-1"}},[e._v("停用")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("启用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"活动名称",prop:"wa_name"}},[a("el-input",{attrs:{placeholder:"活动名称","auto-complete":"off"},model:{value:e.editForm.wa_name,callback:function(t){e.$set(e.editForm,"wa_name",t)},expression:"editForm.wa_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动描述",prop:"wa_desc"}},[a("el-input",{attrs:{placeholder:"活动描述","auto-complete":"off"},model:{value:e.editForm.wa_desc,callback:function(t){e.$set(e.editForm,"wa_desc",t)},expression:"editForm.wa_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详情描述",prop:"wa_title"}},[a("el-input",{attrs:{placeholder:"详情描述","auto-complete":"off"},model:{value:e.editForm.wa_title,callback:function(t){e.$set(e.editForm,"wa_title",t)},expression:"editForm.wa_title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动主办方",prop:"wa_organizer"}},[a("el-input",{attrs:{placeholder:"活动主办方","auto-complete":"off"},model:{value:e.editForm.wa_organizer,callback:function(t){e.$set(e.editForm,"wa_organizer",t)},expression:"editForm.wa_organizer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动地址",prop:"wa_address"}},[a("el-input",{attrs:{placeholder:"活动地址","auto-complete":"off"},model:{value:e.editForm.wa_address,callback:function(t){e.$set(e.editForm,"wa_address",t)},expression:"editForm.wa_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"活动价格","auto-complete":"off"},model:{value:e.editForm.price,callback:function(t){e.$set(e.editForm,"price",t)},expression:"editForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"起始时间"},model:{value:e.editForm.begin_time,callback:function(t){e.$set(e.editForm,"begin_time",t)},expression:"editForm.begin_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间"},model:{value:e.editForm.end_time,callback:function(t){e.$set(e.editForm,"end_time",t)},expression:"editForm.end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动标签",prop:"tag"}},[a("el-input",{attrs:{placeholder:"活动标签","auto-complete":"off"},model:{value:e.editForm.tag,callback:function(t){e.$set(e.editForm,"tag",t)},expression:"editForm.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注","auto-complete":"off"},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange2,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload,"http-request":e.uploadMainImg2,"show-file-list":!1}},[e.editForm.image?a("img",{staticClass:"avatar",attrs:{src:e.editForm.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editorialActivities=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"活动明细",visible:e.detailsActivities,"close-on-click-modal":!1},on:{"update:visible":function(t){e.detailsActivities=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,"hide-required-asterisk":!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"活动类型",prop:"wa_type"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_type,callback:function(t){e.$set(e.editForm,"wa_type",t)},expression:"editForm.wa_type"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"活动状态",disabled:""}},[-1==e.editForm.status?a("el-input",{attrs:{value:"停用",readonly:""}}):e._e(),e._v(" "),1==e.editForm.status?a("el-input",{attrs:{value:"启用",readonly:""}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"活动名称",prop:"wa_name"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_name,callback:function(t){e.$set(e.editForm,"wa_name",t)},expression:"editForm.wa_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动描述",prop:"wa_desc"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_desc,callback:function(t){e.$set(e.editForm,"wa_desc",t)},expression:"editForm.wa_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动短描述",prop:"wa_title"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_title,callback:function(t){e.$set(e.editForm,"wa_title",t)},expression:"editForm.wa_title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动主办方",prop:"wa_organizer"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_organizer,callback:function(t){e.$set(e.editForm,"wa_organizer",t)},expression:"editForm.wa_organizer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动地址",prop:"wa_address"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.wa_address,callback:function(t){e.$set(e.editForm,"wa_address",t)},expression:"editForm.wa_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动价格",prop:"price"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.price,callback:function(t){e.$set(e.editForm,"price",t)},expression:"editForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起始时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.begin_time,callback:function(t){e.$set(e.editForm,"begin_time",t)},expression:"editForm.begin_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.end_time,callback:function(t){e.$set(e.editForm,"end_time",t)},expression:"editForm.end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动标签",prop:"tag"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.tag,callback:function(t){e.$set(e.editForm,"tag",t)},expression:"editForm.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注",readonly:""},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"image",label:"图片"}},[a("el-image",{attrs:{src:e.editForm.image}})],1)],1)],1)],1)},staticRenderFns:[]};var Va=a("VU/8")(ja,Ea,!1,function(e){a("uK+G")},"data-v-0e57431e",null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var Ia={components:{quillEditor:se.quillEditor},data:function(){return{teUrl:"",filter:{ID:""},file1:{},file2:{},tableData:[],editFormVisible:!1,editLoading:!1,discontinue:!1,enableing:!1,discontinues:!1,enabling:!1,enables:{id:"",status:""},value:"",input:"",total:43,pageSize:10,page:1,multipleSelection:[],listLoading:!1,quillUpdateImg:!1,header:{}}},created:function(){this.teUrl=v.tarUrl()},mounted:function(){this.getarticleList()},methods:{getarticleList:function(){var e=this,t={cat_id:window.location.href.split("=")[1],order_field:"release_time",order_type:"desc",search_key:this.filter.ID};this.listLoading=!0,v.articleList(t).then(function(t){200===t.status&&(1===t.data.code?(e.tableData=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess1:function(e,t){this.editForm.image=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.addForm.image=URL.createObjectURL(t.raw)},handleChange1:function(e){this.file1=e.raw},handleChange2:function(e){this.file2=e.raw},uploadMainImg1:function(){var e=this,t=new FormData;t.append("file",this.file1),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.editForm.image=t.data.data)}).catch(function(e){})},uploadMainImg2:function(){var e=this,t=new FormData;t.append("file",this.file2),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.addForm.image=t.data.data)}).catch(function(e){})},enable:function(e){var t=this;this.enables.id=e;var a;a=this.tableData.find(function(t){return t.id===e}),this.enables.status=1==a.status?0:1;var i=this.$createElement;this.$msgbox({title:"提示",type:"warning",message:1==a.status?i("div",null,[i("div",null,"确定要隐藏此文章吗？ ")]):i("div",null,[i("div",null,"确定要显示此文章吗？ ")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){v.webarticlerelease(t.enables).then(function(e){1===e.data.code?(t.Abilitazione=!1,t.getarticleList()):-2===e.code&&t.$message({message:e.msg,type:"error"})})}).catch(function(e){})},createList:function(){var e=window.location.href.split("=")[1];this.$router.push({path:"/addArticle",query:{id:e,cad:2}})},handleDelete:function(e,t){var a=this,i={id:t.id,cat_id:t.cat_id};this.$confirm("确认删除吗？","提示",{type:"warning"}).then(function(){v.delarticle(i).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getarticleList()):-2===e.code&&a.$message({message:e.msg,type:"error"})}).catch(function(e){})})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")},handleLook:function(e,t){this.$router.push({path:"/editArticles",query:{id:t.id}})}},filters:{filter2:function(e){return 0==e?"不置顶":1==e?"置顶":void 0}}},Pa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filter}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getarticleList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入ID / 标题"},model:{value:e.filter.ID,callback:function(t){e.$set(e.filter,"ID",t)},expression:"filter.ID"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.createList}},[e._v("创建文章")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%"},attrs:{data:e.tableData,border:"","tooltip-effect":"dark",stripe:"","text-align":"center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"文章标题",align:"center",width:"320","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.title))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"listorder",label:"排序",sortable:"",align:"center",width:"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.listorder))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"view",label:"浏览",sortable:"",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.view))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"release_time",label:"发布时间",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.release_time))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_top",label:"是否置顶",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filter2")(t.row.is_top)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.enable(t.row.id)}}},[e._v("显示")]):1==t.row.status?a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.enable(t.row.id)}}},[e._v("隐藏")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"success",plain:"",size:"mini"},nativeOn:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])],1)],1)},staticRenderFns:[]};var Aa=a("VU/8")(Ia,Pa,!1,function(e){a("gb29"),a("E+WR")},"data-v-705de08a",null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var Oa={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{file1:{},teUrl:"",editFormRules:{title:[{required:!0,message:"请输入文章标题",trigger:"change"}],status:[{required:!0,message:"请输入文章状态",trigger:"change"}],release_time:[{required:!0,message:"请输入文章发布时间",trigger:"change"}]},editForm:{id:"",cat_id:"",title:this.title,status:"",listorder:"",url:"",image:"",content:"",tags:"",description:"",release_time:""},multipleSelection:[],listLoading:!1,quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:2,action:v.tarUrl,response:function(e){if(1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{}}},created:function(){this.teUrl=v.tarUrl(),this.getarticleList()},methods:{getarticleList:function(){var e=this,t={id:this.$route.query.id,type:1};v.articleInfo(t).then(function(t){1===t.data.code?e.editForm=t.data.data:-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return!1;e.addLoading=!0,v.editarticle(e.editForm).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$router.replace({path:"/allArticle?id="+e.editForm.cat_id})):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess1:function(e,t){this.editForm.image=URL.createObjectURL(t.raw)},handleChange1:function(e){this.file1=e.raw},uploadMainImg1:function(){var e=this,t=new FormData;t.append("file",this.file1),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.editForm.image){var a=e.editForm.image;v.deleOldImg(a)}e.editForm.image=t.data.data}}).catch(function(e){})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},Ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"编辑文章"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!1,"label-width":"100px",showClose:"false"}},[a("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"文章标题","auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章排序",prop:"listorder"}},[a("el-input",{attrs:{placeholder:"排序","auto-complete":"off"},model:{value:e.editForm.listorder,callback:function(t){e.$set(e.editForm,"listorder",t)},expression:"editForm.listorder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章描述",prop:"description"}},[a("el-input",{attrs:{placeholder:"文章描述",type:"textarea","auto-complete":"off"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章标签",prop:"tags"}},[a("el-input",{attrs:{placeholder:"请输入内容标签，多标签用半角逗号“,”分隔","auto-complete":"off"},model:{value:e.editForm.tags,callback:function(t){e.$set(e.editForm,"tags",t)},expression:"editForm.tags"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章状态",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("隐藏")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("显示")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布时间",prop:"release_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期时间"},model:{value:e.editForm.release_time,callback:function(t){e.$set(e.editForm,"release_time",t)},expression:"editForm.release_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章头图",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange1,"http-request":e.uploadMainImg1,"on-success":e.handleAvatarSuccess1,"show-file-list":!1}},[e.editForm.image?a("img",{staticClass:"avatar",attrs:{src:e.editForm.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.teUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var Na=a("VU/8")(Oa,Ra,!1,function(e){a("uUgk"),a("Zl6h")},"data-v-204a1d4f",null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var Ga={components:{quillEditor:se.quillEditor},data:function(){var e,t=this;return{file2:{},teUrl:"",addFormRules:{title:[{required:!0,message:"请输入文章标题",trigger:"change"}],status:[{required:!0,message:"请输入文章状态",trigger:"change"}],release_time:[{required:!0,message:"请输入文章发布时间",trigger:"change"}]},addForm:{id:"",cat_id:"",title:this.title,status:"",listorder:"",url:"",image:"",content:"",tags:"",description:"",release_time:""},multipleSelection:[],listLoading:!1,quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:2,action:v.tarUrl,response:function(e){if(1===e.code)return t.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),header:{}}},created:function(){this.teUrl=v.tarUrl()},methods:{submitEdit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a={cat_id:e.$route.query.id,title:e.addForm.title,status:e.addForm.status,listorder:e.addForm.listorder,release_time:e.addForm.release_time,description:e.addForm.description,image:e.addForm.image,url:e.addForm.url,content:e.addForm.content,tags:1};v.addarticle(a).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.$refs.addForm.resetFields(),e.$router.replace({path:"/allArticle?id="+a.cat_id})):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess2:function(e,t){this.addForm.image=URL.createObjectURL(t.raw)},handleChange2:function(e){this.file2=e.raw},uploadMainImg2:function(){var e=this,t=new FormData;t.append("file",this.file2),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){if(1===t.data.code){if(""!==e.addForm.image){var a=e.addForm.image;v.deleOldImg(a)}e.addForm.image=t.data.data}}).catch(function(e){})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},Ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"创建文章"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"文章标题","auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章排序",prop:"listorder"}},[a("el-input",{attrs:{placeholder:"排序","auto-complete":"off"},model:{value:e.addForm.listorder,callback:function(t){e.$set(e.addForm,"listorder",t)},expression:"addForm.listorder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入文章描述","auto-complete":"off"},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章标签",prop:"tags"}},[a("el-input",{attrs:{placeholder:"请输入内容标签，多标签用半角逗号“,”分隔","auto-complete":"off"},model:{value:e.addForm.tags,callback:function(t){e.$set(e.addForm,"tags",t)},expression:"addForm.tags"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章链接",prop:"url"}},[a("el-input",{attrs:{placeholder:"如有新闻链接，可在此输入","auto-complete":"off"},model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章状态",prop:"status"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("隐藏")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("显示")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布时间",prop:"release_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期时间"},model:{value:e.addForm.release_time,callback:function(t){e.$set(e.addForm,"release_time",t)},expression:"addForm.release_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章头图",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange2,"http-request":e.uploadMainImg2,"on-success":e.handleAvatarSuccess2,"show-file-list":!1}},[e.addForm.image?a("img",{staticClass:"avatar",attrs:{src:e.addForm.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.teUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitEdit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var Wa=a("VU/8")(Ga,Ma,!1,function(e){a("QCVD"),a("IkI1")},"data-v-5d97b0c4",null).exports;var Ba=function(e,t,a){t?/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)?a():a(new Error("请输入正确的11位手机号码")):a(new Error("请输入电话号码"))},Ka={data:function(){return{Email:"",filters:{name:"",options:[],value:""},inside:!0,users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{usertype:[{required:!0,message:"请选择用户类型",trigger:"change"}],work_id:[{required:!0,message:"请输入工号",trigger:"change"}],username:[{required:!0,message:"请输入姓名",trigger:"change"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"change"}],phone:[{required:!0,trigger:"change",validator:Ba}],title:[{required:!0,message:"请输入职位",trigger:"change"}]},editForm:{id:"",work_id:"",username:"",password:"",email:"",phone:"",title:"",usertype:"",worIdStatus:!0},addFormVisible:!1,addLoading:!1,addFormRules:{usertype:[{required:!0,message:"请选择用户类型",trigger:"change"}],work_id:[{required:!0,message:"请输入工号",trigger:"change"}],username:[{required:!0,message:"请输入姓名",trigger:"change"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"change"}],phone:[{required:!0,trigger:"change",validator:Ba}],title:[{required:!0,message:"请输入职位",trigger:"change"}]},usertype:[{value:"D"},{value:"A"},{value:"S"},{value:"K"}],addForm:{work_id:"",username:"",password:"",email:"",phone:"",title:"",usertype:"",worIdStatus:!0},pageSize:10}},created:function(){},methods:{getThisVal:function(e){if(e.length>=6){var t;t=this.addForm.usertype+e,this.CheckWorkId(t)}},CheckWorkId:function(e){var t=this,a={work_id:e};v.CheckWorkId(a).then(function(a){console.log("验证工号信息："+x()(a)),1==a.code?1==a.data.exist?(t.$message({message:"当前工号不可用！",type:"warning"}),t.addForm.work_id="",t.addForm.password=""):0==a.data.exist&&(t.addForm.password=a.data.password,t.addForm.work_id=e.splice(0,1)):console.log()}).catch(function(e){})},selUserType:function(e){this.inside="A"!=e&&"K"!=e,""==this.addForm.usertype?this.addForm.worIdStatus=!0:this.addForm.worIdStatus=!1},stopHandle:function(e,t){var a=this,i={id:t.id,status:t.status?0:1};v.ChangeUserStatus(i).then(function(e){200===e.status&&(1===e.data.code?(a.$message({message:"修改成功",type:"success"}),a.getUsers()):-7===e.code&&a.$message({message:e.msg,type:"error"}))}).catch(function(e){a.listLoading=!1})},handleSizeChange:function(e){this.pageSize=e,this.getUsers()},formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getUsers()},getUsers:function(){var e=this,t={search_key:this.filters.name,role_id:"",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.userList(t).then(function(t){if(200===t.status)if(1===t.data.code){e.total=t.data.recordsTotal,e.users=t.data.data,e.listLoading=!1;for(var a=0;a<e.users.length;a++)0==e.users[a].status||e.users[a].status}else-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},tableRowClassName:function(e){for(var t=e.row,a=(e.rowIndex,0);a<this.users.length;a++)return 0===t.status?"warning-row":1===t.status?"success-row":""},getTree:function(){var e=this;v.CategoryGetTree({}).then(function(e){}).catch(function(t){e.listLoading=!1})},resetPwd:function(e,t){var a=this;this.$confirm("确定要重置密码吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};v.ResetPwd(e).then(function(e){1===e.data.code?(a.$message({message:"重置成功",type:"success"}),a.getUsers()):-2===e.data.code&&a.$message({message:e.data.msg,type:"error"})}).catch(function(e){})}).catch(function(){})},handleEdit:function(e,t){var a=this,i=this;this.editFormVisible=!0;var o={id:t.id};v.GetUserInfo(o).then(function(e){if(console.log("获取用户详情："+x()(e.data)),1===e.data.code){var o=e.data.data;if(-1!==o.work_id.indexOf("D")||-1!==o.work_id.indexOf("S")){i.inside=!0;var s=o.email.split("@")[0]}else{i.inside=!1;s=o.email}a.editForm=m()({id:t.id,work_id:o.work_id,username:o.username,password:o.password,email:s,phone:o.phone,title:o.title},"id",t.id)}else-7===e.data.code&&a.$message({message:e.data.msg,type:"error"})}).catch(function(e){})},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){if(a){e.editLoading=!0;var i={id:e.editForm.id,password:e.editForm.password,work_id:e.editForm.work_id,username:e.editForm.username,phone:e.editForm.phone,title:e.editForm.title};if(t.inside){if(i.email=e.editForm.email+"@duotel.cn",!Ha(i.email))return e.$message({message:"请输入正确的邮箱格式",type:"warning"}),e.editLoading=!1,!1}else if(i.email=e.editForm.email,!Ha(i.email))return e.$message({message:"请输入正确的邮箱格式",type:"warning"}),e.editLoading=!1,!1;v.UserInfoEdit(i).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editLoading=!1,e.editFormVisible=!1,e.getUsers()):-2===t.data.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){e.addLoading=!0;var i={work_id:e.addForm.usertype+e.addForm.work_id,title:e.addForm.title,username:e.addForm.username,password:e.addForm.password,phone:e.addForm.phone};if(t.inside){if(i.email=e.addForm.email+"@duotel.cn",!Ha(i.email))return e.$message({message:"请输入正确的邮箱格式",type:"warning"}),e.addLoading=!1,!1}else if(i.email=e.addForm.email,!Ha(i.email))return e.$message({message:"请输入正确的邮箱格式",type:"warning"}),e.addLoading=!1,!1;v.UserAdd(i).then(function(t){1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addForm.password="",e.addLoading=!1,e.addFormVisible=!1,e.inserted=!0,e.$refs.addForm.resetFields(),e.getUsers()):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this;this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0}).catch(function(){})}},mounted:function(){this.getUsers()}};function Ha(e){var t=new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$");document.getElementById("mazey");return!!t.test(e)}var Qa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getUsers}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right "},[a("el-input",{staticClass:"formwid",attrs:{size:"mini",placeholder:"请输入姓名/手机号/工号/邮箱"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择权限"},model:{value:e.filters.value,callback:function(t){e.$set(e.filters,"value",t)},expression:"filters.value"}},e._l(e.filters.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增用户")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":"","row-class-name":e.tableRowClassName,border:""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",center:"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"work_id",label:"工号",width:"100",center:"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"140",center:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"职位",width:"160",center:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"240",center:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"120",center:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("div",[a("el-button",{staticClass:"handleBtn",attrs:{type:0==t.row.status?"success":"danger",size:"mini",plain:""},on:{click:function(a){return e.stopHandle(t.$index,t.row)}}},[e._v(e._s(0==t.row.status?"启用":"停用"))]),e._v(" "),a("el-button",{staticClass:"handleBtn",attrs:{id:"button1",type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"handleBtn",attrs:{type:"success",id:"button2",size:"mini",plain:""}},[e._v("权限组")]),e._v(" "),a("el-button",{staticClass:"handleBtn",attrs:{id:"button3",type:"warning",size:"mini",plain:""},on:{click:function(a){return e.resetPwd(t.$index,t.row)}}},[e._v("重置")])],1):a("div",[a("el-button",{attrs:{type:0==t.row.status?"success":"danger",size:"mini",plain:""},on:{click:function(a){return e.stopHandle(t.$index,t.row)}}},[e._v(e._s(0==t.row.status?"启用":"停用"))])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑用户",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.editForm.work_id,callback:function(t){e.$set(e.editForm,"work_id",t)},expression:"editForm.work_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{attrs:{placeholder:"姓名","auto-complete":"off"},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),e._v(" "),e.inside?a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"邮箱"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}},[a("el-button",{attrs:{slot:"append",type:"info",plain:""},slot:"append"},[e._v("@duotel.cn")])],1)],1):e._e(),e._v(" "),e.inside?e._e():a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"邮箱","auto-complete":"off"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"手机号","auto-complete":"off"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"title"}},[a("el-input",{attrs:{placeholder:"职位","auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{staticStyle:{width:"30%",float:"left"},attrs:{label:"用户类型",prop:"usertype"}},[a("el-select",{staticStyle:{display:"block"},attrs:{placeholder:"用户类型"},on:{change:e.selUserType},model:{value:e.addForm.usertype,callback:function(t){e.$set(e.addForm,"usertype",t)},expression:"addForm.usertype"}},e._l(e.usertype,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"workIdItem",staticStyle:{width:"70%",float:"left"},attrs:{prop:"work_id"}},[a("el-input",{staticStyle:{"margin-left":"0"},attrs:{disabled:e.addForm.worIdStatus,type:"",maxlength:"6","auto-complete":"off",placeholder:"请输入工号(6位)"},on:{input:e.getThisVal},model:{value:e.addForm.work_id,callback:function(t){e.$set(e.addForm,"work_id",t)},expression:"addForm.work_id"}})],1),e._v(" "),a("div",{staticStyle:{clear:"both"}}),e._v(" "),a("el-form-item",{attrs:{label:"动态密码"}},[a("el-input",{staticClass:"input-with-select",attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}},[a("el-button",{attrs:{slot:"append",type:"info",plain:""},slot:"append"},[e._v("获取密码")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{attrs:{placeholder:"姓名","auto-complete":"off"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),e._v(" "),e.inside?a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"邮箱"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}},[a("el-button",{attrs:{slot:"append",type:"info",plain:""},slot:"append"},[e._v("@duotel.cn")])],1)],1):e._e(),e._v(" "),e.inside?e._e():a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"邮箱","auto-complete":"off"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"手机号","auto-complete":"off"},model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"title"}},[a("el-input",{attrs:{placeholder:"职位","auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ja=a("VU/8")(Ka,Qa,!1,function(e){a("Q9VA")},null,null).exports,Ya={data:function(){return{filters:{name:"",options:[],value:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{rolename:[{required:!0,message:"请输入角色组名称",trigger:"change"}]},editForm:{rolename:"",permissions:""},addFormVisible:!1,addLoading:!1,addFormRules:{role_name:[{required:!0,message:"请输入角色组名称",trigger:"change"}]},addForm:{role_name:"",permissions:""},pageSize:10,data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.roleGroupList()},handleSizeChange:function(e){this.pageSize=e,this.roleGroupList()},roleGroupList:function(){var e=this,t={search_key:this.filters.name,search_permission:"",page:this.page,per_page:this.pageSize};this.listLoading=!0,v.GetRoleGroupList(t).then(function(t){200===t.status&&(1===t.data.code?(e.total=t.data.recordsTotal,e.users=t.data.data,e.listLoading=!1):-7===t.data.code&&(e.$message({message:t.data.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;t.id}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=C()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",sex:-1,age:0,birth:"",addr:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;C()({},e.editForm)})})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){var i=t.$refs.tree.getCheckedKeys().concat(t.$refs.tree.getHalfCheckedKeys());if(0===i.length)return e.$message({message:"请选择权限",type:"warning"}),!1;var o=i.join(",");t.addForm.permissions=o,e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var a=t.addForm;v.RoleGroupAdd(a).then(function(t){console.log("添加用户角色组："+x()(t.data)),200===t.status&&(1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addLoading=!1,e.addFormVisible=!1,e.roleGroupList()):-7===t.data.code&&(e.$message({message:t.data.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this;this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0}).catch(function(){})}},created:function(){},mounted:function(){this.roleGroupList()}},Xa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.roleGroupList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"角色名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择权限组"},model:{value:e.filters.value,callback:function(t){e.$set(e.filters,"value",t)},expression:"filters.value"}},e._l(e.filters.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加权限组")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"id",label:"角色组ID","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"角色组名称","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"permission_num",label:"权限数","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"关联用户数","min-width":"240",formatter:e.formatSex,sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input-number",{attrs:{min:0,max:200},model:{value:e.editForm.age,callback:function(t){e.$set(e.editForm,"age",t)},expression:"editForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.addr,callback:function(t){e.$set(e.editForm,"addr",t)},expression:"editForm.addr"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"",prop:"role_name"}},[a("el-input",{attrs:{placeholder:"请输入角色组名称","auto-complete":"off"},model:{value:e.addForm.role_name,callback:function(t){e.$set(e.addForm,"role_name",t)},expression:"addForm.role_name"}})],1),e._v(" "),a("el-form-item",[a("el-tree",{ref:"tree",attrs:{data:e.data,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Za=a("VU/8")(Ya,Xa,!1,function(e){a("X0Gi")},null,null).exports,ei={data:function(){return{filters:{name:"",options:[],value:""},users:[{name:"测试数据1"}],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{rolename:[{required:!0,message:"请输入角色组名称",trigger:"change"}]},editForm:{rolename:"",permissions:""},addFormVisible:!1,addLoading:!1,addFormRules:{role_name:[{required:!0,message:"请输入角色组名称",trigger:"change"}]},addForm:{role_name:"",permissions:""},pageSize:10,data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.permissionList()},handleSizeChange:function(e){this.pageSize=e,this.permissionList()},permissionList:function(){var e=this,t={search_key:this.filters.name,page:this.page,per_page:this.pageSize};this.listLoading=!0,v.GetPermission(t).then(function(t){200===t.status&&(1===t.data.code?(e.total=t.data.recordsTotal,e.users=t.data.data,e.listLoading=!1):-7===t.data.code&&(e.$message({message:t.data.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;t.id}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=C()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",sex:-1,age:0,birth:"",addr:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;C()({},e.editForm)})})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){var i=t.$refs.tree.getCheckedKeys().concat(t.$refs.tree.getHalfCheckedKeys());if(0===i.length)return e.$message({message:"请选择权限",type:"warning"}),!1;var o=i.join(",");t.addForm.permissions=o,e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var a=t.addForm;v.RoleGroupAdd(a).then(function(t){console.log("添加用户角色组："+x()(t.data)),200===t.status&&(1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addLoading=!1,e.addFormVisible=!1,e.permissionList()):-7===t.data.code&&(e.$message({message:t.data.msg,type:"error"}),e.listLoading=!1))}).catch(function(t){e.listLoading=!1})})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this;this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0}).catch(function(){})}},created:function(){},mounted:function(){this.permissionList()}},ti={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.permissionList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"角色名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择权限组"},model:{value:e.filters.value,callback:function(t){e.$set(e.filters,"value",t)},expression:"filters.value"}},e._l(e.filters.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加权限")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"name",label:"ID","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"path",label:"权限路径","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"permission_name",label:"权限名称","min-width":"240",formatter:e.formatSex}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"权限描述","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input-number",{attrs:{min:0,max:200},model:{value:e.editForm.age,callback:function(t){e.$set(e.editForm,"age",t)},expression:"editForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.addr,callback:function(t){e.$set(e.editForm,"addr",t)},expression:"editForm.addr"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"",prop:"role_name"}},[a("el-input",{attrs:{placeholder:"请输入角色组名称","auto-complete":"off"},model:{value:e.addForm.role_name,callback:function(t){e.$set(e.addForm,"role_name",t)},expression:"addForm.role_name"}})],1),e._v(" "),a("el-form-item",[a("el-tree",{ref:"tree",attrs:{data:e.data,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var ai=a("VU/8")(ei,ti,!1,function(e){a("e/CJ")},null,null).exports,ii={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t系统日志\n")])},staticRenderFns:[]};var oi=a("VU/8")({data:function(){return{}}},ii,!1,function(e){a("UUPy")},null,null).exports,si={data:function(){return{langArr:[{langKey:"",langValue:"",isFirst:!0}],filters:{name:"",options:[],value:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{lang_type:[{required:!0,message:"请输入语言名称",trigger:"change"}],lang_page:[{required:!0,message:"请输入所属页面",trigger:"change"}],lang_code:[{required:!0,message:"请输入语言key",trigger:"change"}],lang_value:[{required:!0,message:"请输入页面展示值",trigger:"change"}]},editForm:{lang_type:"",lang_page:"",lang_code:"",lang_value:""},addFormVisible:!1,addLoading:!1,addFormRules:{lang_type:[{required:!0,message:"请输入语言名称",trigger:"change"}],lang_page:[{required:!0,message:"请输入所属页面",trigger:"change"}]},addForm:{lang_type:"",lang_page:"",lang_data:{}},pageSize:10}},created:function(){this.getLanguagePage(),this.getLanguageList()},mounted:function(){},methods:{getLanguagePage:function(){var e=this;v.getLanguagePage({}).then(function(t){1===t.code?e.filters.options=t.data:-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(t){e.listLoading=!1})},addLangItem:function(e,t){if(t){this.langArr.push({langKey:"",langValue:"",isFirst:!1})}else this.langArr.splice(e,1)},handleSizeChange:function(e){this.pageSize=e,this.getLanguageList()},handleCurrentChange:function(e){this.page=e,this.getLanguageList()},getLanguageList:function(){var e=this,t={page:this.page,per_page:this.pageSize,lang_page:this.filters.value};this.listLoading=!0,v.getLanguageList(t).then(function(t){1===t.code?(e.total=t.data.total,e.users=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm={id:t.id,lang_type:t.lang_type,lang_page:t.lang_page,lang_code:t.lang_code,lang_value:t.lang_value}},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=e.editForm;v.LanguageEdit(t).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editLoading=!1,e.editFormVisible=!1,e.$refs.editForm.resetFields(),e.getLanguageList()):-7===t.data.code&&e.$message({message:t.data.msg,type:"error"})}).catch(function(e){})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){for(var t=e.langArr,a={},i=0;i<t.length;i++){if(""===t[i].langKey)return e.$message({message:"请输入第"+(i+1)+"行的语言key",type:"warning"}),!1;if(""===t[i].langValue)return e.$message({message:"请输入第"+(i+1)+"行的页面展示值",type:"warning"}),!1;a[t[i].langKey]=t[i].langValue}e.addLoading=!0,e.addForm.lang_data=a;var o=e.addForm;v.LanguageAdd(o).then(function(t){1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addForm={lang_type:"",lang_page:"",lang_data:{}},e.langArr=[{langKey:"",langValue:"",isFirst:!0}],e.addLoading=!1,e.addFormVisible=!1,e.$refs.addForm.resetFields(),e.getLanguageList()):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})})}}},ri={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getLanguageList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择所属页面"},model:{value:e.filters.value,callback:function(t){e.$set(e.filters,"value",t)},expression:"filters.value"}},[a("el-option",{attrs:{label:"请选择所属页面",value:""}}),e._v(" "),e._l(e.filters.options,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})],2)],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("添加语言")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.users,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"lang_code",label:"语言code","min-width":"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lang_page",label:"语言页面","min-width":"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lang_type",label:"语言类型","min-width":"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lang_value",label:"语言值","min-width":"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑语言",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"语言名称",prop:"lang_type"}},[a("el-input",{attrs:{placeholder:"请输入语言名称","auto-complete":"off"},model:{value:e.editForm.lang_type,callback:function(t){e.$set(e.editForm,"lang_type",t)},expression:"editForm.lang_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属页面",prop:"lang_page"}},[a("el-input",{attrs:{placeholder:"请输入所属页面","auto-complete":"off"},model:{value:e.editForm.lang_page,callback:function(t){e.$set(e.editForm,"lang_page",t)},expression:"editForm.lang_page"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"语言key",prop:"lang_code"}},[a("el-input",{attrs:{placeholder:"请输入语言key","auto-complete":"off"},model:{value:e.editForm.lang_code,callback:function(t){e.$set(e.editForm,"lang_code",t)},expression:"editForm.lang_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"页面值",prop:"lang_value"}},[a("el-input",{attrs:{placeholder:"请输入页面展示值","auto-complete":"off"},model:{value:e.editForm.lang_value,callback:function(t){e.$set(e.editForm,"lang_value",t)},expression:"editForm.lang_value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加语言",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"语言名称",prop:"lang_type"}},[a("el-input",{attrs:{placeholder:"请输入语言名称","auto-complete":"off"},model:{value:e.addForm.lang_type,callback:function(t){e.$set(e.addForm,"lang_type",t)},expression:"addForm.lang_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属页面",prop:"lang_page"}},[a("el-input",{attrs:{placeholder:"请输入所属页面","auto-complete":"off"},model:{value:e.addForm.lang_page,callback:function(t){e.$set(e.addForm,"lang_page",t)},expression:"addForm.lang_page"}})],1),e._v(" "),e._l(e.langArr,function(t,i){return a("div",{key:i,staticClass:"langItem"},[a("el-form-item",{attrs:{label:"语言key"}},[a("el-input",{attrs:{placeholder:"请输入语言key","auto-complete":"off"},model:{value:t.langKey,callback:function(a){e.$set(t,"langKey",a)},expression:"item.langKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"页面值"}},[a("el-input",{attrs:{placeholder:"请输入页面展示值","auto-complete":"off"},model:{value:t.langValue,callback:function(a){e.$set(t,"langValue",a)},expression:"item.langValue"}})],1),e._v(" "),a("el-button",{attrs:{type:t.isFirst?"success":"warning"},on:{click:function(a){return e.addLangItem(i,t.isFirst)}}},[e._v(e._s(t.isFirst?"添加":"删除"))])],1)})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var li=a("VU/8")(si,ri,!1,function(e){a("jWWX")},null,null).exports,ni={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t公众号管理\n")])},staticRenderFns:[]};a("VU/8")({data:function(){return{}}},ni,!1,function(e){a("eMH/")},null,null).exports;var di={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t规则管理\n")])},staticRenderFns:[]};var ci=a("VU/8")({data:function(){return{}}},di,!1,function(e){a("xYp9")},null,null).exports,mi={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\t应用管理\n")])},staticRenderFns:[]};var ui=a("VU/8")({data:function(){return{}}},mi,!1,function(e){a("4e/n")},null,null).exports,pi={data:function(){return{options:[{value:"选项1",label:"开关"},{value:"选项2",label:"插座"},{value:"选项3",label:"插排"},{value:"选项4",label:"场景开关"},{value:"选项5",label:"灯具"},{value:"选项6",label:"扫地机"},{value:"选项7",label:"电茶壶"},{value:"选项8",label:"香薰机"},{value:"选项10",label:"空气净化器"},{value:"选项11",label:"晾衣架"},{value:"选项12",label:"取暖器"},{value:"选项13",label:"空调控制器"},{value:"选项14",label:"窗帘"}],panelDate:[],editorForm:{id:"",panel_name:"",panel_desc:"",product_category:"",preview_img_url:"",panel_download_url:"",applicable_equipment:""},editorFormRules:{panel_name:[{required:!0,message:"请输入面板名称",trigger:"change"}],product_category:[{required:!0,message:"请输入面板类别",trigger:"change"}],panel_download_url:[{required:!0,message:"请上传面板下载链接",trigger:"change"}],preview_img_url:[{required:!0,message:"请上传面板预览图",trigger:"change"}]},addPannel:{panel_name:"",product_category:"",panel_download_url:"",preview_img_url:"",panel_desc:"",applicable_equipment:""},value:"",pageSize:10,total:0,page:1,addBtnDialog:!1,redactBtnDialog:!1,textarea:"",fileList:[],formLabelWidth:"120px"}},created:function(){this.getLightPannel()},methods:{addPannelSubmit:function(){var e=this;this.$refs.addPannel.validate(function(t){t&&v.pannelAdd(e.addPannel).then(function(t){1===t.data.code?(e.$message({message:"新建成功",type:"success"}),e.$refs.addPannel.resetFields(),e.addBtnDialog=!1,e.getLightPannel()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})},cancelEditor:function(){this.redactBtnDialog=!1},confirmEditor:function(){var e=this;this.$refs.editorForm.validate(function(t){if(!t)return!1;v.pannelEdit(e.editorForm).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$refs.editorForm.resetFields(),e.redactBtnDialog=!1,e.getLightPannel()):-32===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})},pannelEcho:function(e,t){this.redactBtnDialog=!0,0!=this.fileList.length&&(this.fileList=[]),this.editorForm={id:t.id,panel_name:t.panel_name,product_category:t.product_category,panel_download_url:t.panel_download_url,preview_img_url:t.preview_img_url,panel_desc:t.panel_desc,applicable_equipment:t.applicable_equipment};var a={name:this.editorForm.panel_download_url};this.fileList.push(a)},getLightPannel:function(){var e=this,t={page:this.page,per_page:this.pageSize};this.listLoading=!0,v.panelList(t).then(function(t){1===t.code?(e.total=t.data.total,e.panelDate=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},deleteLightPannel:function(e,t){var a=this;this.$confirm("确定要删除当前数据吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};v.pannelDelete(e).then(function(e){1===e.data.code?(a.$message({message:"删除成功",type:"success"}),a.getLightPannel()):-32===e.data.code&&a.$message({message:e.data.msg,type:"error"})})})},uploadFile:function(){var e=this,t=this,a=new FormData;a.append("file",this.file),a.append("action","UploadVMKImagePath"),v.projectUpload(a).then(function(a){1===a.data.code?(e.$message({message:"上传成功",type:"success"}),t.editorForm.panel_download_url=a.data.data,t.addPannel.panel_download_url=a.data.data):-2===a.data.code&&e.$message({message:"上传失败",type:"error"})}).catch(function(e){})},handleSizeChange:function(e){this.pageSize=e,this.getLightPannel()},handleCurrentChange:function(e){this.page=e,this.getLightPannel()},handleChange:function(e){this.file=e.raw},handlePreview:function(e){console.log(e)},handleAvatarSuccess:function(e,t){this.addPannel.preview_img_url=URL.createObjectURL(t.raw),this.editorForm.preview_img_url=URL.createObjectURL(t.raw)},uploadMainImg:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("action","UploadVMKImagePath"),v.uploadImg(t).then(function(t){1===t.data.code&&(e.editorForm.preview_img_url=t.data.data,e.addPannel.preview_img_url=t.data.data)}).catch(function(e){})},beforeFileUpload:function(e){var t="zip"===e.name.substring(e.name.lastIndexOf(".")+1);return t||this.$message({message:"上传文件只能是zip格式!",type:"warning"}),t},handleEdit:function(e,t){console.log(e,t),this.redactBtnDialog=!0}}},gi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",{staticClass:"row-bg",attrs:{justify:"space-between"}},[a("el-button",{staticClass:"leftBtn",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(t){e.addBtnDialog=!0}}},[e._v("添加面板")])],1),e._v(" "),a("el-table",{staticStyle:{width:"99.9%","text-align":"center"},attrs:{data:e.panelDate,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"panel_name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"preview_img_url",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"50px"},attrs:{src:e.row.preview_img_url}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"panel_desc",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product_category",label:"类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applicable_equipment",label:"适用设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"panel_download_url",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"operation","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.pannelEcho(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.deleteLightPannel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加面板",visible:e.addBtnDialog},on:{"update:visible":function(t){e.addBtnDialog=t}}},[a("el-form",{ref:"addPannel",attrs:{model:e.addPannel,rules:e.editorFormRules}},[a("el-form-item",{attrs:{label:"面板类别",prop:"product_category","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addPannel.product_category,callback:function(t){e.$set(e.addPannel,"product_category",t)},expression:"addPannel.product_category"}})],1),e._v(" "),a("el-form-item",{staticClass:"name",attrs:{prop:"panel_name",label:"面板名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addPannel.panel_name,callback:function(t){e.$set(e.addPannel,"panel_name",t)},expression:"addPannel.panel_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"面板描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.addPannel.panel_desc,callback:function(t){e.$set(e.addPannel,"panel_desc",t)},expression:"addPannel.panel_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预览图片",prop:"preview_img_url","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"on-success":e.handleAvatarSuccess,"show-file-list":!1}},[e.addPannel.preview_img_url?a("img",{staticClass:"avatar",attrs:{src:e.addPannel.preview_img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{prop:"panel_download_url",label:"压缩文件","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"on-change":e.handleChange,"http-request":e.uploadFile,"on-success":e.handleAvatarSuccess,beforeUpload:e.beforeFileUpload,"show-file-list":!0}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addBtnDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addPannelSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑面板",visible:e.redactBtnDialog},on:{"update:visible":function(t){e.redactBtnDialog=t}}},[a("el-form",{ref:"editorForm",attrs:{model:e.editorForm,rules:e.editorFormRules}},[a("el-form-item",{attrs:{prop:"product_category",label:"面板类别","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editorForm.product_category,callback:function(t){e.$set(e.editorForm,"product_category",t)},expression:"editorForm.product_category"}})],1),e._v(" "),a("el-form-item",{staticClass:"name",attrs:{prop:"panel_name",label:"面板名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editorForm.panel_name,callback:function(t){e.$set(e.editorForm,"panel_name",t)},expression:"editorForm.panel_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"name",attrs:{prop:"applicable_equipment",label:"适用设备","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editorForm.applicable_equipment,callback:function(t){e.$set(e.editorForm,"applicable_equipment",t)},expression:"editorForm.applicable_equipment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"面板描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.editorForm.panel_desc,callback:function(t){e.$set(e.editorForm,"panel_desc",t)},expression:"editorForm.panel_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预览图片",prop:"preview_img_url","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","on-change":e.handleChange,"http-request":e.uploadMainImg,"on-success":e.handleAvatarSuccess,"show-file-list":!1},model:{value:e.editorForm.preview_img_url,callback:function(t){e.$set(e.editorForm,"preview_img_url",t)},expression:"editorForm.preview_img_url"}},[e.editorForm.preview_img_url?a("img",{staticClass:"avatar",attrs:{src:e.editorForm.preview_img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{prop:"panel_download_url",label:"压缩文件","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"on-change":e.handleChange,"http-request":e.uploadFile,beforeUpload:e.beforeFileUpload,"show-file-list":!0,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelEditor}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.confirmEditor(t)}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var fi=a("VU/8")(pi,gi,!1,function(e){a("ZJ22")},null,null).exports;se.Quill.imports["modules/ImageExtend"]||se.Quill.register("modules/ImageExtend",re.a);var _i={components:{quillEditor:se.quillEditor},data:function(){var e,t,a=this;return{upUrl:"",filters:{name:"",options:[],value:""},users:[],total:0,page:1,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:{title:[{required:!0,message:"请输入标题",trigger:"change"}],code:[{required:!0,message:"请输入code",trigger:"change"}]},editForm:{title:"",code:"",content:""},addFormVisible:!1,addLoading:!1,addFormRules:{title:[{required:!0,message:"请输入标题",trigger:"change"}],code:[{required:!0,message:"请输入code",trigger:"change"}]},addForm:{title:"",code:"",content:""},pageSize:10,quillUpdateImg:!1,editorOption:(e={placeholder:"",theme:"snow"},m()(e,"placeholder","请输入商品描述"),m()(e,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(1===e.code)return a.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader3 input").click():this.quill.format("image",!1)}}}}),e),editorOption2:(t={placeholder:"",theme:"snow"},m()(t,"placeholder","请输入商品描述"),m()(t,"modules",{ImageExtend:{loading:!0,name:"img",size:10,action:v.tarUrl(),response:function(e){if(1===e.code)return a.$message({message:"上传成功",type:"success"}),e.data}},toolbar:{container:re.b,handlers:{image:function(e){e?document.querySelector(".avatar-uploader4 input").click():this.quill.format("image",!1)}}}}),t),header:{},header2:{}}},created:function(){this.upUrl=v.tarUrl(),this.getcopyList()},mounted:function(){},methods:{handleSizeChange:function(e){this.pageSize=e,this.getcopyList()},handleCurrentChange:function(e){this.page=e,this.getcopyList()},getcopyList:function(){var e=this,t={page:this.page,per_page:this.pageSize};this.listLoading=!0,v.copyList(t).then(function(t){1===t.code?(e.total=t.data.total,e.users=t.data.data,e.listLoading=!1):-7===t.code&&(e.$message({message:t.msg,type:"error"}),e.listLoading=!1)}).catch(function(t){e.listLoading=!1})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm={id:t.id,title:t.title,code:t.code,content:t.content}},handleAdd:function(){this.addFormVisible=!0,this.addForm={title:"",code:"",content:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=e.editForm;v.copyEdit(t).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.editLoading=!1,e.editFormVisible=!1,e.$refs.editForm.resetFields(),e.getcopyList()):-7===t.data.code&&e.$message({message:t.data.msg,type:"error"})}).catch(function(e){})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=e.addForm;v.createCopy(t).then(function(t){1===t.data.code?(e.$message({message:"添加成功",type:"success"}),e.addLoading=!1,e.addFormVisible=!1,e.$refs.addForm.resetFields(),e.getcopyList()):-7===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},onEditorBlur2:function(){},onEditorFocus2:function(){},onEditorChange2:function(){this.$emit("input",this.content)},beforeUpload:function(){this.quillUpdateImg=!0},uploadSuccess:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")},beforeUpload2:function(){this.quillUpdateImg=!0},uploadSuccess2:function(e,t){var a=this.$refs.myQuillEditor.quill;if(1==e.code){var i=a.getSelection().index;a.insertEmbed(i,"image",e.data),a.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError2:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},hi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getcopyList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"Duotel ID/推荐码/归集"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加文案")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"160",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"code值","min-width":"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑文案",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"hide-required-asterisk":!0,rules:e.editFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"文案标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题","auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文案code",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入code","auto-complete":"off"},model:{value:e.editForm.code,callback:function(t){e.$set(e.editForm,"code",t)},expression:"editForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文案内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader4",attrs:{action:e.upUrl,name:"img",headers:e.header2,"show-file-list":!1,"on-success":e.uploadSuccess2,"on-error":e.uploadError2,"before-upload":e.beforeUpload2}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption2},on:{blur:function(t){return e.onEditorBlur2(t)},focus:function(t){return e.onEditorFocus2(t)},change:function(t){return e.onEditorChange2(t)}},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加文案",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"hide-required-asterisk":!0,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"文案标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题","auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文案code",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入code","auto-complete":"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文案内容",prop:"content"}},[a("el-upload",{staticClass:"avatar-uploader3",attrs:{action:e.upUrl,name:"img",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),e._v(" "),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(_i,hi,!1,function(e){a("XMM6"),a("7FUK")},null,null).exports;var vi={data:function(){return{tablelist:[],search:{name:""},activityType:!1,page:1,pageSize:10,total:0,editorialActivities:!1,addActivities:!1,lookProblem:!1,editForm:{id:"",problem:"",answer:""},editFormRules:{problem:[{required:!0,message:"请选择问题",trigger:"change"}],answer:[{required:!0,message:"请选择答案",trigger:"change"}]},addForm:{problem:"",answer:""},addFormRules:{problem:[{required:!0,message:"请选择问题",trigger:"change"}],answer:[{required:!0,message:"请选择答案",trigger:"change"}]},lookForm:{id:"",problem:"",answer:"",create_time:""}}},created:function(){this.getlist()},methods:{getlist:function(){var e=this,t={per_page:this.pageSize,page:this.page};this.listLoading=!0,v.configproblemList(t).then(function(t){e.total=t.data.total,1===t.code&&(e.tablelist=t.data.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},handleSizeChange:function(e){this.pageSize=e,this.getlist()},handleCurrentChange:function(e){this.page=e,this.getlist()},Advanced:function(){},problemEdit:function(e,t){this.editorialActivities=!0,this.editForm={id:t.id,problem:t.problem,answer:t.answer}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.editForm.id,problem:e.editForm.problem,answer:e.editForm.answer};v.configproblemEdit(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$refs.editForm.resetFields(),e.editorialActivities=!1,e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleLook:function(e,t){this.lookProblem=!0,this.lookForm={id:t.id,problem:t.problem,answer:t.answer,create_time:t.create_time}},Establish:function(){this.addActivities=!0},resetFields:function(e){this.$refs[e].resetFields(),this.addActivities=!1},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&v.configproblemAdd(e.addForm).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.addActivities=!1,e.$refs.addForm.resetFields(),e.addForm.begin_time="",e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})}}},bi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getlist}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"Duotel ID/推荐码/名称/归集"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.Establish}},[e._v("添加问题")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tablelist,border:"","tooltip-effect":"dark","text-align":"center"}},[a("el-table-column",{attrs:{prop:"id",width:"70",label:"ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"problem",label:"问题",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"answer",label:"答案",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.problemEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑活动",visible:e.editorialActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editorialActivities=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"问题",prop:"problem"}},[a("el-input",{attrs:{placeholder:"问题","auto-complete":"off"},model:{value:e.editForm.problem,callback:function(t){e.$set(e.editForm,"problem",t)},expression:"editForm.problem"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"答案",prop:"answer"}},[a("el-input",{attrs:{placeholder:"答案","auto-complete":"off"},model:{value:e.editForm.answer,callback:function(t){e.$set(e.editForm,"answer",t)},expression:"editForm.answer"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editorialActivities=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建问题",visible:e.addActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addActivities=t}}},[a("el-form",{ref:"addForm",staticClass:"creactivit",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"问题",prop:"problem"}},[a("el-input",{attrs:{placeholder:"问题","auto-complete":"off"},model:{value:e.addForm.problem,callback:function(t){e.$set(e.addForm,"problem",t)},expression:"addForm.problem"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"答案",prop:"answer"}},[a("el-input",{attrs:{placeholder:"答案","auto-complete":"off"},model:{value:e.addForm.answer,callback:function(t){e.$set(e.addForm,"answer",t)},expression:"addForm.answer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"创建时间"},model:{value:e.addForm.begin_time,callback:function(t){e.$set(e.addForm,"begin_time",t)},expression:"addForm.begin_time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(vi,bi,!1,function(e){a("/oIa")},"data-v-78820545",null).exports;var yi={data:function(){return{tablelist:[],search:{name:""},activityType:!1,page:1,pageSize:10,total:0,editorialActivities:!1,addActivities:!1,lookProblem:!1,editForm:{id:"",title:"",content:"",desc:""},editFormRules:{title:[{required:!0,message:"请选择问题",trigger:"change"}],content:[{required:!0,message:"请选择答案",trigger:"change"}],desc:[{required:!0,message:"请选择答案",trigger:"change"}]},addForm:{title:"",content:"",desc:""},addFormRules:{title:[{required:!0,message:"请选择问题",trigger:"change"}],content:[{required:!0,message:"请选择答案",trigger:"change"}],desc:[{required:!0,message:"请选择答案",trigger:"change"}]},lookForm:{id:"",title:"",content:"",desc:""}}},created:function(){this.getlist()},methods:{getlist:function(){var e=this,t={per_page:this.pageSize,page:this.page};this.listLoading=!0,v.configmessageList(t).then(function(t){e.total=t.data.total,1===t.code&&(e.tablelist=t.data.data,e.listLoading=!1)}).catch(function(t){return e.listLoading=!1,!1})},handleSizeChange:function(e){this.pageSize=e,this.getlist()},handleCurrentChange:function(e){this.page=e,this.getlist()},Advanced:function(){},problemEdit:function(e,t){this.editorialActivities=!0,this.editForm={id:t.id,content:t.content,desc:t.desc,title:t.title}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={id:e.editForm.id,title:e.editForm.title,desc:e.editForm.desc,content:e.editForm.content};v.configmessageEdit(a).then(function(t){1===t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.$refs.editForm.resetFields(),e.editorialActivities=!1,e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})}})},handleLook:function(e,t){this.lookProblem=!0,this.lookForm={id:t.id,content:t.content,desc:t.desc,title:t.title}},Establish:function(){this.addActivities=!0,this.$refs.addForm&&this.$refs.addForm.resetFields()},resetFields:function(e){this.$refs[e].resetFields(),this.addActivities=!1},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&v.configmessageAdd(e.addForm).then(function(t){1===t.data.code?(e.$message({message:"创建成功",type:"success"}),e.addActivities=!1,e.$refs.addForm.resetFields(),e.getlist()):-2===t.code&&e.$message({message:t.msg,type:"error"})}).catch(function(e){})})}}},ki={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.getlist}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"right"},[a("el-input",{attrs:{size:"mini",placeholder:"Duotel ID/推荐码/名称/归集"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"left"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.Establish}},[e._v("添加消息")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"99.9%","margin-bottom":"20px"},attrs:{data:e.tablelist,border:"","tooltip-effect":"dark","text-align":"center"}},[a("el-table-column",{attrs:{prop:"id",width:"70",label:"ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"内容",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.problemEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"编辑活动",visible:e.editorialActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editorialActivities=t}}},[a("el-form",{ref:"editForm",staticClass:"creactivit",attrs:{model:e.editForm,rules:e.editFormRules,"hide-required-asterisk":!0,"label-width":"50px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"标题","auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{placeholder:"内容","auto-complete":"off"},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{placeholder:"描述","auto-complete":"off"},model:{value:e.editForm.desc,callback:function(t){e.$set(e.editForm,"desc",t)},expression:"editForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.editorialActivities=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"创建消息",visible:e.addActivities,"show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addActivities=t}}},[a("el-form",{ref:"addForm",staticClass:"creactivit",attrs:{model:e.addForm,rules:e.addFormRules,"hide-required-asterisk":!0,"label-width":"50px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"标题","auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{placeholder:"内容","auto-complete":"off"},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{placeholder:"描述","auto-complete":"off"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetFields("addForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};a("VU/8")(yi,ki,!1,function(e){a("aeAQ")},"data-v-479bbf1b",null).exports;var wi=[{path:"/login",component:k,name:"",hidden:!0},{path:"/404",component:F,name:"",hidden:!0},{path:"/",name:"首页",redirect:"/home",component:U,menuShow:!0,meta:{requiresAuth:!0},children:[{path:"/home",name:"概览",components:{content:Fe},meta:{title:"概览"},leaf:!0,iconCls:"iconfont icon-erji-ziyuangailan",menuShow:!0},{path:"/office",name:"办公管理",iconCls:"iconfont icon-bangongguanli",components:{content:E},redirect:"/office/approvalManagement",meta:{title:"办公管理"},leaf:!1,menuShow:!0,children:[{path:"/office/approvalManagement",name:"我的任务",component:ot,meta:{title:"我的任务"},menuShow:!0,plevel:1},{path:"/office/approval",name:"业务审批",components:{default:E},redirect:"/office/approval/Invitationslip",meta:{title:"业务审批"},levelThree:!0,plevel:1,menuShow:!0,children:[{path:"/office/approval/Invitationslip",name:"请款单",component:nt,meta:{title:"请款单"},menuShow:!0,levelThree:!1,levelArr:["1","1-1"],plevel:1}]},{path:"/officeManagement/inventory",name:"库存管理",components:{default:E},redirect:"/officeManagement/inventory/warehousManagement",meta:{title:"库存管理"},levelThree:!0,plevel:1,menuShow:!1,children:[{path:"/officeManagement/inventory/warehousManagement",name:"入库管理",component:Te,meta:{title:"入库管理"},menuShow:!0,levelThree:!1,levelArr:["1","1-2"],plevel:1},{path:"/officeManagement/inventory/depotManagement",name:"出库管理",component:$e,meta:{title:"出库管理"},menuShow:!0,levelThree:!1,plevel:1,levelArr:["1","1-2"]},{path:"/officeManagement/inventory/stockManagement",name:"库存盘点",component:ze,meta:{title:"库存盘点"},menuShow:!0,levelThree:!1,levelArr:["1","1-2"],plevel:1},{path:"/office/inventory/AddtoStorage",name:"入库添加",component:Ee,meta:{title:"入库添加"},menuShow:!1,levelThree:!1,levelArr:["1","1-2"],plevel:1},{path:"/office/inventory/EditStorage",name:"入库编辑",component:Pe,meta:{title:"入库编辑"},menuShow:!1,levelThree:!1,levelArr:["1","1-2"],plevel:1},{path:"/office/inventory/DetailStorage",name:"入库详情",component:Re,meta:{title:"入库详情"},menuShow:!1,levelThree:!1,levelArr:["1","1-2"],plevel:1}]},{path:"/office/addApproval",name:"添加审批",component:Xe,meta:{title:"添加审批"},menuShow:!1,levelThree:!1,plevel:1},{path:"/office/paymentDetail",name:"审批详情",component:tt,meta:{title:"审批详情"},menuShow:!1,levelThree:!1,plevel:1}]},{path:"/order",name:"订单管理",iconCls:"iconfont icon-dingdan",components:{content:E},redirect:"/order/salesOrders",meta:{title:"订单管理"},leaf:!1,menuShow:!0,children:[{path:"/order/salesOrders",name:"销售订单",component:P,meta:{title:"销售订单"},menuShow:!0,levelThree:!1,plevel:2},{path:"/order/Orderdetails",name:"订单详情",component:R,meta:{title:"订单详情"},menuShow:!1,levelThree:!1,plevel:2},{path:"/order/collectionOrders",name:"代收付订单",component:G,meta:{title:"代收付订单"},menuShow:!0,levelThree:!1,plevel:2}]},{path:"/projectManagement",name:"项目管理",iconCls:"iconfont icon-xiangmu",components:{content:E},redirect:"/projectManagement/allproject",meta:{title:"项目管理"},leaf:!1,menuShow:!0,children:[{path:"/projectManagement/allproject",name:"全部项目",component:ft,meta:{title:"全部项目"},menuShow:!0,levelThree:!1,plevel:3},{path:"/project/detailsList",name:"项目详情",component:bt,meta:{title:"项目详情"},menuShow:!1,levelThree:!1,plevel:3},{path:"/project/addition",name:"项目添加",component:xt,meta:{title:"项目添加"},menuShow:!1,levelThree:!1,plevel:3},{path:"/project/edittion",name:"项目编辑",component:wt,meta:{title:"项目编辑"},menuShow:!1,levelThree:!1,plevel:3},{path:"/project/projectSet",name:"项目设定",components:{default:E},redirect:"/project/projectSet/ManagementCategories",meta:{title:"项目设定"},levelThree:!0,plevel:3,menuShow:!0,children:[{path:"/project/projectSet/ManagementCategories",name:"类别管理",component:St,meta:{title:"类别管理"},menuShow:!0,levelThree:!1,levelArr:["3","3-4"],plevel:0},{path:"/project/projectSet/ManagementStar",name:"星级管理",component:Ut,meta:{title:"星级管理"},menuShow:!0,levelThree:!1,levelArr:["3","3-4"],plevel:0},{path:"/project/projectSet/Managementprogress",name:"进程管理",component:jt,meta:{title:"进程管理"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["3","3-4"]},{path:"/project/projectSet/ProjectSource",name:"来源管理",component:It,meta:{title:"来源管理"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["3","3-4"]},{path:"/project/projectSet/ProjectBrand",name:"品牌管理",component:Gt,meta:{title:"品牌管理"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["3","3-4"]},{path:"/project/projectSet/ProjectOwner",name:"业主管理",component:Ot,meta:{title:"业主管理"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["3","3-4"]},{path:"/project/projectSet/brandManagement",name:"品牌管理 ",component:Bt,meta:{title:"品牌管理"},menuShow:!1,levelThree:!1,plevel:0,levelArr:["3","3-4"]}]}]},{path:"/allHosts",name:"商户管理",iconCls:"iconfont icon-ai-connection",components:{content:E},redirect:"/audit/realNameList",meta:{title:"商户管理"},leaf:!1,menuShow:!0,children:[{path:"/audit/realNameList",name:"全部商户",component:Qt,meta:{title:"全部商户"},menuShow:!0,levelThree:!1,plevel:4},{path:"/audit/auditDetail",name:"商户详情",component:Xt,meta:{title:"商户详情"},menuShow:!1,plevel:4},{path:"/audit/personDetail",name:"个人详情",component:ta,meta:{title:"个人详情"},menuShow:!1,plevel:4}]},{path:"/merchants",name:"主机管理",iconCls:"iconfont icon-shebei",components:{content:E},meta:{title:"主机管理"},leaf:!1,menuShow:!0,redirect:"/merchants/HostManagement",children:[{path:"/merchants/HostManagement",name:"全部主机",component:ut,meta:{title:"全部主机"},menuShow:!0,plevel:5}]},{path:"/developer",name:"开发者管理",iconCls:"iconfont icon-kaifa",components:{content:E},redirect:"/developer/developer",meta:{title:"开发者管理"},leaf:!1,menuShow:!0,children:[{path:"/developer/developer",name:"全部开发者",component:la,meta:{title:"全部开发者"},menuShow:!0,levelThree:!1,plevel:6}]},{path:"/aftersale",name:"工单管理",iconCls:"iconfont icon-order",components:{content:E},redirect:"/aftersale/afterSaleMsg",meta:{title:"工单管理"},leaf:!1,menuShow:!0,children:[{path:"/aftersale/afterSaleMsg",name:"全部工单",component:ga,meta:{title:"全部工单"},menuShow:!0,levelThree:!1,plevel:7}]},{path:"/data",name:"数据管理",iconCls:"iconfont icon-shuju",components:{content:E},redirect:"/data/allData",meta:{title:"数据管理"},leaf:!1,menuShow:!0,children:[{path:"/data/allData",name:"全部数据",component:va,meta:{title:"全部数据"},menuShow:!0,levelThree:!1,plevel:8},{path:"/data/InterfaceDocument",name:"接口文档",component:ya,meta:{title:"接口文档"},menuShow:!0,levelThree:!1,plevel:8}]},{path:"/finance",name:"财务管理",iconCls:"iconfont icon-finance",components:{content:E},redirect:"/finance/allTransaction",meta:{title:"财务管理"},leaf:!1,menuShow:!0,children:[{path:"/finance/allTransaction",name:"全部交易",component:Sa,meta:{title:"全部交易"},menuShow:!0,levelThree:!1,plevel:9},{path:"/finance/setBooks",name:"账套管理",component:qa,meta:{title:"账套管理"},menuShow:!0,levelThree:!1,plevel:9}]},{path:"/config",name:"中台管理",iconCls:"iconfont icon-tongji",components:{content:E},redirect:"/config/language",meta:{title:"中台管理"},leaf:!1,menuShow:!0,children:[{path:"/config/language",name:"语言管理",component:li,meta:{title:"语言管理"},levelThree:!1,plevel:10,menuShow:!0},{path:"/device",name:"设备管理",components:{default:E},meta:{title:"设备管理"},redirect:"/device/panelView",menuShow:!0,levelThree:!0,plevel:10,children:[{path:"/device/panelView",name:"面板管理",component:fi,meta:{title:"面板管理"},menuShow:!0,levelThree:!1,levelArr:["10","10-1"]},{path:"/device/Application",name:"应用管理",component:ui,meta:{title:"应用管理"},menuShow:!0,levelThree:!1,levelArr:["10","10-1"]},{path:"/device/equipment",name:"规则管理",component:ci,meta:{title:"规则管理"},menuShow:!0,levelThree:!1,levelArr:["10","10-1"]}]},{path:"/order",name:"商品管理",components:{default:E},redirect:"/order/allCommodities",meta:{title:"商品管理"},levelThree:!0,plevel:10,menuShow:!0,children:[{path:"/order/allCommodities",name:"全部商品",component:ae,meta:{title:"全部商品"},menuShow:!0,levelThree:!1,levelArr:["10","10-2"],plevel:0},{path:"/order/MerchandisePictures",name:"商品图片",component:oe,meta:{title:"商品图片"},menuShow:!0,levelThree:!1,levelArr:["10","10-2"],plevel:0},{path:"/order/commoditiesIns",name:"添加商品",component:de,meta:{title:"添加商品"},menuShow:!1,levelThree:!1,plevel:0,levelArr:["10","10-2"]},{path:"/order/EditingCommodities",name:"编辑商品",component:ue,meta:{title:"编辑商品"},menuShow:!1,levelThree:!1,plevel:0,levelArr:["10","10-2"]},{path:"/order/DetailCommodities",name:"商品详情",component:fe,meta:{title:"商品详情"},menuShow:!1,levelThree:!1,plevel:0,levelArr:["10","10-2"]},{path:"/order/commodityTypes",name:"商品类型",component:ve,meta:{title:"商品类型"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["10","10-2"]},{path:"/order/commoditySpecifications",name:"商品规格",component:ke,meta:{title:"商品规格"},menuShow:!0,levelThree:!1,plevel:0,levelArr:["10","10-2"]}]}]},{path:"/system",name:"系统管理",iconCls:"iconfont icon-xitong",components:{content:E},redirect:"/system/systemUser",meta:{title:"系统管理"},leaf:!1,menuShow:!0,children:[{path:"/system/systemUser",name:"系统用户",components:{default:E},redirect:"/system/systemUser/userList",meta:{title:"系统用户"},levelThree:!0,plevel:11,menuShow:!0,children:[{path:"/system/systemUser/userList",name:"用户列表",component:Ja,meta:{title:"用户列表"},menuShow:!0,levelThree:!1,levelArr:["11","11-0"]},{path:"/system/systemUser/jurList",name:"权限列表",component:ai,meta:{title:"权限列表"},menuShow:!0,levelThree:!1,levelArr:["11","11-0"]},{path:"/system/systemUser/jurGroup",name:"权限组",component:Za,meta:{title:"权限组"},menuShow:!0,levelThree:!1,levelArr:["11","11-0"]}]},{path:"/system/systemUser",name:"内容管理",components:{default:E},redirect:"/system/systemUser/userList",meta:{title:"内容管理"},levelThree:!0,plevel:11,menuShow:!0,children:[{path:"/order/allInner",name:"全部内容",component:Da,meta:{title:"全部内容"},menuShow:!0,levelThree:!1,plevel:11,levelArr:["11","11-1"]},{path:"/order/allActivity",name:"全部活动",component:Va,meta:{title:"全部活动"},menuShow:!0,levelThree:!1,plevel:11,levelArr:["11","11-1"]},{path:"/allArticle",component:Aa,name:"文章列表",meta:{title:"文章列表"},hidden:!0},{path:"/editArticles",component:Na,name:"编辑文章",meta:{title:"编辑文章"},hidden:!0},{path:"/addArticle",component:Wa,name:"新增文章",meta:{title:"新增文章"},hidden:!0}]},{path:"/system/systemDaily",name:"系统日志",component:oi,meta:{title:"系统日志"},leaf:!1,menuShow:!0,levelThree:!1,plevel:11}]}]}],Fi=a("NYxO");i.default.use(Fi.a);var Li=new Fi.a.Store({state:{collapsed:!1,defaultActiveIndex:"/",topNavState:"home",leftNavState:"首页",leftNavLevel:[],role:{admin:"超级管理员",ceshi:"普通会员"},userInfo:{}}});i.default.use(n.a),i.default.use(d.a),i.default.config.productionTip=!1;var xi=new d.a({routes:wi});xi.beforeEach(function(e,t,a){"/login"==e.path&&(sessionStorage.removeItem("user"),sessionStorage.removeItem("userCon")),"/order/EditingCommodities"!==t.path&&"/order/DetailCommodities"!==t.path&&"/order/commoditiesIns"!==t.path&&"/order/allCommodities"==e.path&&localStorage.removeItem("currentPage"),JSON.parse(sessionStorage.getItem("user"))||"/login"==e.path?a():a({path:"/login"})}),new i.default({router:xi,store:Li,render:function(e){return e(r)}}).$mount("#app")},OoR7:function(e,t,a){e.exports=a.p+"static/img/hport.f9b4271.png"},OwqH:function(e,t){},Q9VA:function(e,t){},QCVD:function(e,t){},R7SN:function(e,t){},RJ0O:function(e,t){},RVlj:function(e,t){},"T6c/":function(e,t){},Torr:function(e,t){},U3t7:function(e,t){},UQVq:function(e,t){},UUPy:function(e,t){},WJlz:function(e,t){},X0Gi:function(e,t){},XMM6:function(e,t){},XNTI:function(e,t,a){e.exports=a.p+"static/img/beian.d0289dc.png"},YNfs:function(e,t){},YxAy:function(e,t){},YyHb:function(e,t){},ZJ22:function(e,t){},Zl6h:function(e,t){},ZsRw:function(e,t){},"aa/G":function(e,t){},adWN:function(e,t){},aeAQ:function(e,t){},b7OE:function(e,t){},bdy2:function(e,t){},bzLj:function(e,t){},ccVL:function(e,t){},dLI3:function(e,t){},dluR:function(e,t){},"e/CJ":function(e,t){},"eMH/":function(e,t){},fNDA:function(e,t){},fbT1:function(e,t){},gb29:function(e,t){},hS9g:function(e,t){},igmG:function(e,t){},jWWX:function(e,t){},mjjy:function(e,t){},neAa:function(e,t){},nz34:function(e,t){},olVT:function(e,t){},ptfj:function(e,t){},q6Jd:function(e,t){},qNkL:function(e,t){},rt2o:function(e,t){},"ruS+":function(e,t){},s6OD:function(e,t){},t9Wo:function(e,t){},t9e9:function(e,t){},tAEc:function(e,t){},tRKm:function(e,t){},tvR6:function(e,t){},"uK+G":function(e,t){},uUgk:function(e,t){},vJXg:function(e,t){},vdX3:function(e,t){},vwbd:function(e,t){},wX0W:function(e,t){},xYp9:function(e,t){},yA8Y:function(e,t){},zD3N:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.56bd2c950f632cb8de40.js.map